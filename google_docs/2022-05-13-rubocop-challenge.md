---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oFPS7gAxPZSZSUszsF4jD3j3g5ALgAS2cn8uTOZ7NPf08wKZ3MtZFBgbL1sEifaJjl2SNPVQkAcr3xH7lXi69hhd0S5z-bgJlULxpsGdn_qhpAsDKuaSyaXKqyPPvBbhtJhhx79jYybBqnKk2o7keEwOKyDoBzzBWBIOC3xLCaHXPlj41RUQfYzAv4DQ5XkdCla0TqfBaKf1CUtvI81if419PD8gZnuPR4CZSwZQBwAlrdjBnWTxDESNE_3Xttz9oAdhaJYVhC3XPnBFaXiBDNP7WXr9DBPPbfz9MM-NDUx328nmCyc3vBYoJUw7ZXvbZkjKjdHzokkRrFif_QnZnebJ8kvTKoCk37IOkPRXbwMZzh-qpernWLsUgfb1nhYIA7p4POt98ATzR5J2zZP_McjZThkkB-30peUQZhllfcGXYF71-Wz3uEYTQHjrHHFqRtn2sPjFa49BmXp0ChpbqftzqLZmdI_9i3Uf-kUx8AQW16UtHd7q0RXh9WZPpndYvJ1grvX2QA1TZBeFvGvTr_zGVKe67fyQ1gpimgjQYxnJp0rhMDx4A07g6p-yp1w9PsgjhZXqIRKyqZWudZ3_-54_8POUrZQuuZOcLJxtMvT_KpjnMsaguxheXFRbbnKVrgynWIffbQ4Y5a95Y7Lw-EOOrQZb15EgxyRLUF2zK6xzyQ4T68aZkAS2SQoExiqeXIaSCf1Q-yajNXWSKzOAHlpelSiGsLKR2KSZNo3EM8XAMabBzGglfGGQvREE3nvZVt3BMdZuvdWxlk5_i-2qEhDtpvO4xZF0T3CRIH1EJk-6FmQUJ85IXGUon4TQbP2e7qSdTP-LPEuGBD1Wkj4TfVkRtHEDXCrbeetL0MH2MICJAbK4PjunEcKidZ_ca3ruWdqm_RSWRkx6iN_5R6cGJElNB41BPIXl7TP87Q_n2pMo9fE-ItO4yvxyNyYM1YKaz-AiNJhmktFOXR6QqMV1ma0c9mOeaXGmm8N1reSeEtePuZkN_woBmWAW-eB66u4Q_0Q_PuLU_PTbKk-Mp6dCBwJcHR3Tv7b-foz7qZlyCHZaJWzwT7dErXXBSHsYGKtrnoP7MeW8Mfy_eprRmmPcyZTbqZ54JYC9xUGGExWxyWHyTvIPPLwMe-UO-Zf8yhLrox9tAiR7UlIY5_AXlexrOOxQVySdNPVY74p_agnvhgC6tzu3spVH0OeVZhcmd31mGxFxrpIBc95WxiNpB8kWjOltb_T7z3GAwK5Ff15KEWn0IST)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oENwRZFOgiJAx3X2NriMLoGuBB99iPINbZ4tWh94rj0b3Sa5YRy8XKvR1VndvQTkDYFiveSub5SjdAGRuhDGjHyYAJhmzA4vfWBl3BNUs_0undY4iX1eOT1SyIpErHb6clHudeVkT723NdwvpuWnD2I7ydNoae-wZPWf0t7U79YJZ3-LD553iebA-Ed2XJgvC_nzF_vKOTE5hJ4ye6MeyhP14Qx9Yv2hBk4M5NQjbctBZTsJGI_nWK7ydOyQo_ZRqzkSRC8MOSfnH3-OOA4YBCsraBHhunGeS7KVcF34q92XQeDYErBzx4EEbdorNhHinS6kzkJyNDs1O-Mpkh4O3guw371V4aGBcAD9zrpnonb5VtKf1VGs8t0Tx93UPOL8n7PI1cXOPYjPr4M4POmR4FfTC8Mn2ZGKR3oUgCKv-1o-AjMhpP_83X92VXJtRjJ4aApOUwam9nWIzAxqenMq5rFpRUAnrc5DDMmtC_qxvymZuSHNeRxICteO0hGfaYnB_rXZ0ChftOmu7Xrkv9TZZ325doOjodhbhLdL-BXDvWr37-lifYjnBslZKmIVEg2atGQD_nuawRGP0TCIoTFGr5RDKpFoKtKExk_pGtsYvzVoVXUTyb8Dx1hO8aBV4k9mjB0stI9HtiXemI5Dxy9BbSCmMpzyIRSXftTidbJEKhzb2AevqI7jYWBsl20fRcVo4ucT_v9sqY8-Ut5dDHvpJRap2ZRWaIm4ZvuSOWcG2lkVtVs-Skf6Mj07pBhK2yX6uTkYtFMDvU_wjhdEQ7F-KU7bxndtoKZQGoEx6B7roBcZxIjODTgCiliQFbIadvy0wCrorhYvUkURUiFS-xMg4-xoFCS2lq2mFl5Y2CSv7HgtBF1DnkR6Mb5Sr5kLBb-2TEphLyzhnWNjIUgUWTnV0-N2d_w8on8YmbNT8DTi8yPgAs4Z9biJFgdDhRY7ptQwoxxtQSBsgWXWNOCnLL_waFq-LygIfzR-6Cw0oxavzhehQ3RTJaHfLwPR5KJvoVnCTUpzz9maIlc1Nv_FxLverB00kXqlzbKKkvumwlegSNUT0CmDW2qbihFPnsJI6zGhRHetj50kGPOw0opMqTLBdnq1AYr2T1DXL0rjrT8Z27ytgCrChttHyEjlWdzYCmnWhsKFDw2sywg5P0069TRZm8MCBgSeEJGx3IWf-vY7s-sy6uvic1a116DnanXC4IGMVcN-agqeip-Aav2bgn3w-G6G6Q2eOskTFmcJn-xOIk4ymJv)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oF4NXnbzHczan3eGFCfNSjnLEAAoUt7XCIQD2wLdv5OvJ-V-rFAtdLUqwCJgNNnvwmXpNoc9lx1_IoWsNSMaYZNQzJUgDrzIjpKVkY5e1sFJM3Dpjm22fhIHiytiZv6iDtojh3EdrpDEh_ZUPHgH1WXDWNDJdGkNykKl_Jk4hU0psqc6qj5ao4_K17AwVOA6LyqR3eQ2dyJH2LGwScvVp_d-3pc2WP7lyPp3lqHZqKe8bJ4igVJqrYXxFK8Xyp2hKU5DHt5W4rV6gZDvR8UlpQ5ZioX0YguQUSAzdP2GNwYfsn7BxXSnxCGgYUaii5e_UV0WAFrDd4ZZyHlZGDdXawo1lfnsKUe7x23UQs8_az-1RAPZGQmRA18bx_dZnD45NFLv14tU8prdcCMaBAIZgdf6l05qdRhQd95Jn7WtoHehlGt90bd9SuCiJDLj1X9rs3waRlFtfjmj6cYoeO8JpLlAp1WvP4G4Rdl0CvLCG7kfFkBmBb7qfR4jf7kjF1HJjZfFQz6YcuwdjINsaKDmV6Ce8fSG8A9x078Q51-7jfkmEuu-dQvlsvqSgVhlJ0S0jGxBLy5AQhRF_RQWsHRuvZzz1OKyNHPfijDNLxsfnK6Co3BzHF4vL9OLG_fmJblcT19GihEcbfES_kxlUNCZc5Lk01hiApfIuPzh7ZvUS_PITwqjSS1bDpPiu6TLWgUFhD-zIgzCEg5CWheCmBhGNX6X2prHIPvoV14D3aNZZsSBzwQGtDcTht9izTKraDfuBKdU-nV6FteYZHT3ccpL_3fjOPKBd1QQeJVMtM4mdlpnrL-MwTvIquWMjzDzWE62RKUy__LHHsrICxcdyyyzr0otolr5nuOcoA2Zj8ZIL3oXDrdiEfyU84gEj5aQTxDuYd4VoC4j5YUXf_wlOueOPH6x6mo4IA7a9m03s6fDrBeZ76YRkrS92WuZrAtxuS4Y4ewH8gXM-ejx3TWHB6R0RFECnXHXFbeDZCqveLfZAjbm2SuX47yzBCnnE5nDXtKqsfJXE9zPo3_6WVmkMDLHbyrKBX0wJW2Ofy0QF4rWfkStF2znb2_Gl-7d1nsioDm9OvXBaCfIIGujG0NPJxVikBucrSKAbojp8-Rt7MsCICILd_37npQ_Ns1We7NnGVdZ9iA5fgIZVP5_MYYlNCxQKS7TYHXxKMFfggXyUunaTimzEdvrBrisMOZ-wsf8ix9KL5rHhn-lKYzrrUM2uEY0GeQ2gUC0F3E3WfL2z_p8VF3d5Gy)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
