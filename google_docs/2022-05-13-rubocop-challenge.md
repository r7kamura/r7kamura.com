---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/AG8NV2bdlnYpJn6ilGoxpa12-zJX7Z5noxxcasjBLrp6Xe4iLI6PFGFLlaLqpKQD6wuP9_g_aIgLFgav5KX-gJB-O6yzvA3EUYxbDkRax5Sd03AukM8O6QpnyIntdnSdTm-kM9C35tDLT5Jrn7g9ALhFxIJi-EMf27Ru2Q64CG6qLlfLiGlAkOrJ6NAozknqyJHuZaupo8l1bgtW86BeoNt_37EwOPtFSNlcdLlQcRhH2afkG51_ehSNNuLl4C0ZR6wFuEyyrgoL2aEbK09oxFZ8glfLdifxx5EWRa6Xt05izIRULdzDtBGSIiKbu2Evnr2blmnmWIDUhWwgaASrsghlWyNZ8K5qT_TkFg8EggIkZ5TtPqjAeFLohG9xvtiQsQ1KzIWgPLk12H7uf7WQ-fmXU1ZI9-xuLdsiPxTXTP6HMTSnXV9rc56S2v6TeniiCBp6o2lYLp49dkB7-ba_G3ToV7vL7aTGJBCr0hQZc1WgwXAKThwqseSZpFEqcoqq_KwX-0wgo3vkVICSa5V8gGR8g3y47c61MLhfyLObWKNFWstReMjLsiIiZOz3BcKwOJ3e1mqDtucl8XqXsPqqX0-MmYxsc5RFZZO_Zb0WqMlDXxue79OnARTGSB4-ksdQxyl621rDtEhGBU6M-bllXwtOpXCCUBkwjv8zi-9Y5oo_ZM_gn37LQ4f1vpkhfdFS1K4K6Q_A62t9r2FwmuDJvYvib7ICZzl5ax1lTSZVU3T1HgAqcSOy9Bv2GrKW2xSytIohwdkJoUVLstGYQLAYqtz_wGuDDKDXBtF7_qLQriLMgdwbdnHCiWZ2LewvS1VTgDVuaS7Qjh-BX3wqgMG5JuwJxqQ2F58mF_L8J1LwNvQAK7QVCr7R1uY63st-zqWnMG6keXpEhq8skmnOiiq_g1lJK_F6xKNEttRBVTJPubtgIHq9-4o4b5iCitCjKZPfuejEdA13MMauQlohEcyifQBaiTjhIpLyvPEAJG1jiHNrsQn3zELa1eH6Ay-LjQAKWZ_u8JUWHXsbrt6PT-KsrYQuGxIdZ9XyLgNcxcQ9_sLPyUIOA9kyPcUhvk_zpWL_Yt6ctr5v5fQgQETtOgO5xaRPbzXz-J-OgMiRhRutaxY37RzNSFvH0hGQJ9I4eqalkU369JEzZEN8D-VEfZy9IK4LgZHCw6qqB2JairYvvO9Ss2qdoTLqHudRd9VOA7mY9oWQ4IBbxkO6iq2FYPzNeqY4fIp2n4-w33PnJzcjS1keHCdXc_lh)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/AG8NV2YyBwZE2I_b1VJFB22yY5-HtmiB3lmB6SeGLyTcqynkAycyrD5Ldolo0EtIU8TcHr7NsIOYgsBZvAn7ZBPm_cTGs4Q3fP66YSBaDLMk4zsMfcwhDMkKuhSebZGL31EJy13wdcVPoXdOg7lxlk82lSTOEQS0Gcnk2EXrquBZgHAQwDYlOX4-xULgVPl--sFB32qq0bayI1tH63fiOnLydt1CWA-d530dfyiO12ex0xHQA4j8z6Du9y1QrvEhmZJqY5twB_RXXMnD8V2zHL0zkX-85q-Qxg18F_Qwp4EwaB4N28TUYaisEchT0Bmra9OjpeYtXnR5uRdiQkFHe-PEmLgAF4Oe3QxahiM3zQ6gprRmddovG_pP3SEOeyLmTA_VHdSwlx_S38x0izC6Bpv97xJ_IEXSDNo17DSVLMwaK3SH6k_mFF7lGeLclOHnUCT-JlH1C11Dcy4UJ77W1ya-81JzCk0GJnlxQUBlwStKPvEi2ZsYLWkcrtr0QeOVa63fXLnMxrffKuwvXk4_JQx-b1xXAysRZ4HnRlHODmp7YqTlrVCI6cwDQM6BgmEhhI50Xh5yGF5dXewQYNFW7WIPOEitIGDkwUM1YR1vv9CiPsmi62kiYLPnqE2yIentNqad38SxW3YFjSjQ1JeUwiP29FUAiWKE_ha4krHGIfWyZnFo4G0ZX3tFeKU4JY7seC2WjM1QTISA10fq8zkwmuXpwN75NYQ3qyF4XmXKL35XUz9S58vIADAor0Qhk_2M0tlYei5b2hrbSU6xx57Ii1-JZBw0D1NvhUpwIuwC6e_e-4m-zSoFANhzeeiIo_0G6xf8Sv0hmngc5l8qbMFOddv997rV4Mn-CzEu4zx4CaRy7Djkq2Z7nR0jNK9WwppCUh3H9OMLNBq3F44Pz-KjRIGFTgFOAsw5FckNH2eyvlWIJYfnG4duMkEY7nRYW1PJhzQpyq6AhyaroS7nJzcYIr_DrJGavKfTpUu_zH71kt7DfUPMBXK2k4LD9QN2tNzDqa2ctfEE5SqH6j6v9MDysDQI68SbJKE3GvDOEGjzbdBdP4zIPpcX7f8fh2RGKzre2wxighkjIYUGcVWd_onuZ8FCfW21JL-y_v7LywmGrQ0fNc9sZd03pVVRtgsC0u2pdFdd1U0jNRT_WpZPqAk5sz6dcZGWRPEOuqTeX4wOY3_YJrM2C9LiTkYUBXDtmeWZwke_7tCxRipfjVSK8e77yVHWOvPF2HYLfFF_G57jNfPKm01iUPyS)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/AG8NV2b0OExFcYMRAluaMsHLDHuUNKSRnqkJd9FTOaRRM7y_ZX_DoMYvZ-90Ob55M8hoydmzN5Hz9YzM1BzsSbm-GzVq-J1UsS0d-Qo_zfBQucGf45EUgD_mDvCaprxsQOQdHQaFyuqjCbAbyOJ7vJfxEvK9KItEAxnN2wxQ00togVjjtgZlH8XvNedSKFV7pRdaJ-2UagRNO4IhPUDcqgfQnzW8EPU45btTHOpp0BKC6AfJo0xqsbXwj3xdAMp4LncWjWCRS3CPjK5JajgCewF8qi_GL9DYyT2OxnXRxvedex79xUGwKViqEHYpHXdHZqky6n1UQtXJzm2E5RjQpdOFklGHaNcSoYX48Db51QLT9Ht3hP_EOf8tffw1bMTFVbVtCZjiQBowXs8aeTwTOqO3KJvV4VBzYWyjRyazue020zvHdjPcemnlpHp0E2gxXDtfJAwpDTe6F_eTrr5I9tCN9bBIEXHSWdQJ7lBbvrBcN7Zvnt_Jtrmmp0pzBMPy-Xr53k0E412JPKIPxZLMuz5dO59_NegbJ3_8u_LYmqmyZHYiFJLO41XYmuWqpwHHBJGj7k4PlGGRJHbkzoDf4F4bj7Axe5fxLyOYuDBrmjoYqlG-B5i-kCfjOFRtTXJXpKxJOrQLusDtR_Yt5tgC--4KDOuIMD1joomYzkAUvYK-8e5QXzlISdtklhjvgPzOYR0_KEN1cz7wUO-NkqWrbsDaDjMg96NjtoY4AXawZ-nxXURj4Qsgrowt86FWLC94FTD4g1ZttkryDzpnldJ8GwAguIgXkJt93eaSzkcBg_GYSom0WHJnjbATZDRN-Xfj_tpAIcWzhFKZJC-YlMpl0jcJ5Wh73vAy3S2Xv2-FTUUduwU-w2E0j0GO7iB87dXtE5e0PRUEJFb_AU0q3QD4N9n0Oyce6F2Hp8hzpzfYtu9KOv56TZE8mW6lJMWpFdxT45inHm3l-j0VEm5Xsc8dPldfF_n8oHxwJ4toSYky2D84ymtqLqUjQbYNjsLWeBWPsRHXTqBOMqTsqBo6c06xbFIoOvs2_a6R10yO5sS4m9j-YHw6rdrKllp5caZY-LzFUoMgqkp8uHiFTAbD8gLWeIVaT1SVQOumtCmvxFXCl73buVu3d8kkP1o2fXfYUfMnJRI4uDK7v-UcLMqYTsG7b_BSPFIaBLOTqYQFyk5mjsUTy6hdunaaXlZD9IdBHjtaqkU4diaQ_NpQLRcT_kMtM6gSL8I_6YBixySpr_JUxHGC5VGSo2gj)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
