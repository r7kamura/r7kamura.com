---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oGFuaJECsFsePWeclzDqfF_hCEq5O_5Qf9S-MPNXgblptiEe00geARNPiFfTgeUBUtxSZNIsIu5l-I0mwhNHM2-B6PE0zyMiX3lLOwQ0YeuxExom54JJNtXCDm4S7WUo-hkdzyuxIgRbMCimygh2lnjh7MWViaX7OBj_UkmINJ0mAPpPA9IVWMEdi6XE6n6CUd22MbvY3P4m8s6fG_T-74nQ_Y3gxEWRQfX4a9z-p54Je-P6_v9EeeYSR1hxNnt7QktL7lyHevXYhDEUBr_50YEO3Rj1mRqT6oRQNC4a6PeRX6bpsg2o7ovWdZb5G1FyqYzJCTjCAkk6YDoE3G1hvBx_x6HfHu3bZCbIi2fhKN8_WqKEXkjMlxSuMsn-7YoyIsHULxTPrWgEdc5V7aS6QA4vYu151GWqjPd_VsAyf88zy3a-Rsq8PGBPXbvdRIt8IEBABu_hZZ_SKsZ53plf5eOLPZmXfJeYc5vXNyjXJQ2klmhCEqM1x8Q1Vm87sNAImb6amwfLPU0Hf6yYllTLHhdO4eCiXFHEELCvkvdbUbeMNGCbsga0Si6dTfHOW7G_Xy7EZJbzt-niOAo10CWM4-5Dz6m3TpPOqLFOE2EGodmOKZDZOmp2SeayPA_wC_0icrKrDW4C_Vcs8gOyAilUNyAauetcIzvC_tJINmP3J7KYXjKczszQyDAuR618w8B7ffoXmHFDemqwzq-7bgdMFXE81thOznKwKccbbYUtXOOM8xqLKvMFNH85v_HI8wrN7Kv3mOSHWdMqDBK0T7mUtLRsXsv1v0A59ILKRfotd8pvm2zCtOv6kx_j0c8S4XJjKy54N-OnFpUjFTgdUM4eaRM3igvGy2Z6bOL7NI1n812iL1oRYVxQVPN9jz_fK8HWnXcDfOLiUzRo5c47OuRb9oZVMr51lIrv7Z7h4FK-rsWSnfq9vG1np9bhkhvtE5JnxqrdlOzvJC2UyBglgl-mbwxkBYUJJrELDEIBn7NjBjWlGkXDFXRSHpuSG7jtnol9SE6Opaul7pZhfpovbwxDNFXsrlI4iKG4Aion9chchLL9gGKouOZvHCF_EkC1KDiGgwHKRTNcYaGwVxSaNbAljpg-SSLn0nYmtQQBBSOZBzrsMgPFFJpn55_imORVMEJOOAvF_QNAtKL_U-dgccalGSo8qqS7y10eqUC7gY9wafJEbEz0IbnWJx6q6Js2WmMLIggP79Rqi6gNOgs6Xi8pE5hEWY2ddCb5ic1NDxFO0hTbYAI)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oGdGOIzuHNyQXhyu9xfIirh6WlGVyncyWAlYAzYE7mMdHs1qUMRmvLMyIo5TIyW3z6zxzOqqS3uBIpSvlZ0oniTKPuD3s_jtFuFeQt0Kxu68wn72O0NAoWeKMzUqYdmXOfAwwNHTtBk1kdoaAI9eff-Az9g86PC1kV3pnWvkgAaNMbb7A-FPOPoML2-hGMj7DWpEbgdGSqOcRBBlbY36sM6nYIn0GbT9aljZFV0JffZt1tGLh-IrOMBjU5VmuM7G8uq1ISGjqQy2gQ1D-KaM4j9Mr_yk8bRvh5iBbA3TJ-P2Ung4fCq7TuVRZqwJCtCUxg-i-9lMI6WZlkUpamIhs_hyjFT2_qNZlELP62KvMI8jabvs-x7qPktqYyVOMfOUp38fFkyoRGBAGlcW-J91PnhsOpKb0WOxXCWi30L6JIYnzPBkN-_jVuvmctkH2RCn1PG_pYNmZdqhhqCEwEIPa84p_xEc8FGXjqD3TSHSydOGhPGFaWpEkqjYLANkJkK7uCF5ded2roRyKuc3yv3V0m6qepIYDW1-Kb3dKO0kOq-D-simfwZBZqZHW5Ktuenhb9woxhxFguKnk_dj9ikH8kEOfrDDpafqIrMaZigZV7DicMUSFPj5cwHp_RI4Uj4qIBsCxj9ra_1sNLix0utNC9rblm3VwdcdkDtvk6arnoeP4rYwm6O3M4nWKTRbgTSNbPVaG85pWh0og5eIl1e5EaTvc8lYMQ6ZZNkaVm8dx97hnZCU7iWyZTt0eLuX7Wk2Qc5aQlth_bvGXQOeXXfR9BHrxHa9uk4sqgfvZQU07vyW0gKhVs0OB283Nnt3Xvh_u3ZNxR5Y1x9Ou98ci-CEivvGYPKXVrzmyCO_juIrW3sNLOB-MDNgxsXG3n8595DdkOSuG3hpUaJFtSO4HN0NKyGWAoWe7OxfImOrFyHJmq9670D8-7JpR7AsnnXKI9rplUxymdAucvWQ9FFTu0N8LC9rlKBGUxiruwvYBEFPrOo10wM3X2poCC366ZYSPyktGSyw3m3dQmV9T6qccuyrZMID3MoQhPOnvEmd7zf_Hm3CCgfEAgW9t9n5hb7LDc9qls6-Va3FZtGcvpk7GYqEjA_u5NG7VO7KvS-jrHTB9OcXoTGeJcw4TzZjo4n2__8hu_pMLoi4_v-lbhYJDQqYp669UYDieYkONoEWwHXAv5sXx0mfM2SrALXx7jzpa7-tn0H_BA2tau2Ih_xuqR0CFvAuwNs844Z2KQbcxnXJV-36XtE)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oGm5FijD-fE3NYBlGl1VdBx88FlKy4nZgakhFSo-kj0H-558-tz0U3V6GrTCzU395C8ebZgWm-aLMCWXX5yCfR0EH4TcH2900MMZ1dQLbWIVNt5LqbSdITwOh_dOULz0Wd7nSqJpTPKnHOk9rbGy0rEKc0fvdHF1mRd_lheS08hjy-Bl5TlHpMUP43FSsHUH_pHxpVFb5urw0uyK2RbeODd3LTtk0QjiZFglhidl1XF9SuJ5pRGcY2OPWGQiPUbvYDquVYiFRy-k694XJibwa1vCMwk5DlKTKVRkkzpgqozz0L2gF4HO3tuRpw6lLfMu7rzkFfmp4XrJotXzck0XuFjvRgsylQ6caNIfZpnNvPaKgDSB-ESkzeRxQa4i5Wh0hKwai_ye52NBJGV3N9JfilDplkORiKQqrxx_WE7Kr57sHvaGBY8qsZ3rphAhuq1_6IirZ_E4kUD-8VNvHKpd3RPWvzLrh_M5-xXYLIY9Oz0-_FqPneCCwOZ6w7ltTjPNe87U_USo3DyQp_c4TG4_sv2UFrVunJSIf16toA98gArc3yASsxxrwd2WTGUO4rhmalvifUZ-wXfrmdN_DIzHNf3fcAfP2gebdCiEEyR_nxw2Xjb4yuGrdzcTaqAle08uwJArygXI3xtRPB2chJjaoIeq_tj9LpxiitMdP_NC1iUPq_P03vw5jEPrW9G_oNdLZYWtEOoj4vmYGn0SGO_YXnbBhXIprKfXCPuHA2SCwOWEWW1_RT-g7tcNzDmCOLiIr7sjgVVXEkIwrOtx0C-YZ8oNQKW6WeSbvZg2UinGNGRaMeNSt0I0eKh4ANfJULugerJI-NBTSsaq8ojmtCo9kKZYcGMVmrJ2ZuFQ3lQFmLHPlfKmCi-mplj3GxoeelWfV3UBQ6T3PiJjxSB51S06Xj5eYduruzXyH4q_Vc91qIdvz3E3GAQA8NtvaP3JrAMpsxSqRQM8MbRsDL9eguJFdlnTOCym6THOj2zsmesbXUkYa5OH5dPYTxrn_yVeTr3PEVhADkSw9bfGsRKxtFxLU2Tnr97QzPJ7YKUZC2HFdezyWc3incqdIdJbTOnH2UAuYjJK-Lr_oPrXo6bS4DLAVwfhX_GlKT0slw7j0N_OSMmfZEY-GsR9Mif-bhh0Z6JhGq9yxIqKUUjJFxQXL4UktcPPxiGKPTrShaqCTegsOCfKhMWB2jYyrkqvb4jqvvzfT2wyz-MaDa3DJeLfTWMdjFqGB9Vc74Mt3zacSXwPLn0ZHUE)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
