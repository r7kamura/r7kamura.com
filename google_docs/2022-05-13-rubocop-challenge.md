---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oE_7qqWNm4E5HAcvgqGyOPbg6DRrOMr3YlRaL-GJK1W3FJrmD2IFMnPwWnfuJ7WUoSxQODQK9Ox2oWTQXoHDfjUiKZilW7RORhbbHYFW4hWL8rmHb7FdNivHbB-88NJlGM7uxLwrlxn4QaXlPVG8D09myCRJBfPDqJ7asaRvSlTjJSrynPkhDrt3kyxofTB2wVwmGgrwWiBniVI4PGGq0B6bDOtqtZ8FcGyuXKO52o-errobYmOzXnd5068cjwBeObcvEwQ5Bs_IgzOTTXQlJ5liuk-ZM36zn9qy4x7ertqKRsu1Cgt2OzrWfS_YB_IKhasDGflttArHE24vdmU-4VqL1dDQvZ0juzXrcA6vuouT1f6URo9dOgLHsmrKj2u-v1UvwM81ca3bnZ33Mx3-UsL1vrapaFI8iiXPCgRg13C9fQEGvqTRsYAic16uO2j5kuigiBpCZb8KX7aTRBj3THLfP7jMUVpJEKDPRcWB7DgqrwluThpEDy1-MKWxeO343DaDtyd452FzHD4oua9Gzv8NynQO7h-R_FI2CWDkW0K4RnksWt40Ss8_L5YQTOGMESnZDWgoOE6TcyHD7MvFXlUfzzcCcgAU3WveVTeW_Mx03EMaVGwaNPK6RYB6yhmq1V-0uHgSN6QPDhbHAP2b6v8lBiLnvJKRPNbIyfPtu8Fhak_kJDMRiFBWpxa6HtMIVD-O0y669jXCNVjl-qMKudxxGUxztjvyiXdPseXSf934vWJFyc4C7qmOS7bByqqh0wUQxq0MEcGM39yrl1DI8jsfMUiU22KYaT69sqRyz99fcD9PnECLN2TpPVT2M9U_ccOs4TQsA9Lt2bLTVIW7eQ_mZwhFQKj8gGGoWX5wVWQQSz8GTNDA0QhbPLdvtMPkUnU-eeU5iOsdwqQ1bLJiOR7ahqewWmJeIkESY9nVWqA5UU-KubPNPjKSpAe5kQV8L3JXnZFn_xY1VMkYlcG-g1GYYeJjhF74xwNpL97o22_cSqs90VOVGWO4JBdVb8xu1qfMRo7QXHPSV4nXntnl8DKmkvsxeVONgflee05ZPGn9sx96qfuCFeouiojGQ9bUuI1CHGMr-W0svGgl1YH2qRUNuO-miD2bQQftFZrUAiMyNjizovDlTD8pg1WR4HUpvZTk4ylD1Al5aEqBd-TsSJTN6HIqIknxm98b_RsP7hAU9AutPqYBjfmCdUGFCUqzz5TT5NK-uIeH1qRGDUTAGwDqC8joiuMOQkpm5pjPOFzHTzs)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oH-jL-wf587TSTquWSjPwzyJUV4KsJ3qEjEk5czRs6OoRzYPTY0Am9GElOyov8BNnpHBqmrgCTtoEK1ZKXBzjtsAnPOqcjIN_obPNvLlo8wh1BT6GIKHB053K00TXOg5ExlYcM4WE_W2Npofvah-FWXSKZX_IgiRFkaUkUA1X5rhBsb7DBf6_T6zdeuSYHjIyU76lkxXqbcO8K0Etvr4McuBOxuDylUz1MK0-WyenO3lgCJr64XjRq2uX7NGXcuhQ5mfb0MFe9x1Wm2OYuqhWXSgTgQ2bFtRf3xBJocPM0Y_E8Rvx2t2tG-nfgKX25ykLednVG4YBKKOoPH4Sd4X859Cln71LX_iFaIdFoZ_jEZuRPMTLvV0O4kZpyKjh9M2kocdh3Lva0RpEawWukoPw6AR25jmSKhUGseluEJKilLl50U6qrmqFucrcm-AmBTlajk9tvrs17ZmRTxJo7AejzDLJdLd1vJcKlyef6X6bN9quz8N5j1BWrDHH_U-hwhnPRqYnfDh_CZWc7Uuebr07_GYgafKCavNCO3Z1thiUOEna9-5niikGROmaS8jMxj3ObZJP_mxukpKocn3vvZVp228mL2vGxF8bM6SkSUyp6lvg4cr94JcLvKOUdaaNCeYiK-RcX9n5TmWSGGScUoOsZ_YgHS50mTYavu8O6WvPOdv5-jSliN178w_6tnFtPFYxYduIyIsM6Tmi294IfZsSpwSkUrMYwJ54XGfINwsHmRzYwpkC2GnK-gmSPbJ8zL2FB_9UTNgps2rzvPMVU-rSb3RZw8lM5VMPJ8QmzkCzgnerP9z_bhUgCWVu5UbDTQ617ghxIECeqgZ15lVDErD7yUHTfo3srOFdo4V8DHT_Ga3_oovBuEMFQdt2ZjJS_llJp1jjDc2Ad0sIYMPat5lZ7wFqRgF9TcuUj9Oo-Pxu_8VETTCGj2KBxrpL4UXFXqmXJVjguQGxK04V73tXoJCsQqoetf7mKLW3_c4EJkPTj1ZFGzcurDjanmimEzV7fAC3mdgZ31SMshhTDYQKnn7AiCPYPJDOCmxVJgRRG1_hkC0bV8m6fqu-34HFr_0lZlDxBjA2pvvxkV17_MYKxdQINaUxcPkHkwDgsETPDuho4AvzSKRq1EW4GlqUIjSXXP7ou2-Odhiubuk53K2meLuyjcDuaiTdsvUsaRjIUltQqCbCpDRjE2a_o6MBHpB6qEVpKyr1A0yMEz28xv2M_0tcIPr7s3IXZRZxAeF93qaciDmW-S)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oHdyV6m8x7sWPwfprHpiwAI0KMpS0fxapXvcKMVP8df-lyXMLREFH2TZa13kcBI8F1h1867LFdqfwcOvqxpfxLTg0GUoqTUN9zOe7pvHbX9rNm4V35TCQsmTKpWmlbrwq3s8L16nopXsgAJE4kpak6DnEXxT0xcVCzdA2LGQbBqHFsZvmA8qBCvamYyRaEDyw9Nxa6ycqWjD8vGJYojdVm7cHYyNeEWQT_LXEnkRncIFEKICcJ75aPWn9ArBlxCawZeG4viyPoIvLy8rZd1k5bHx62FRfojmrbQdD9yxq5En7HLZNJm2G0PfRdTbI_I4u2x-mB_a8xEUa4KtxIsFnuEY32iExnd1q325YNE6AhYmCLsHABT30MyhOWOmhPmtAauYAMJxRO1e4XRqY7RcIvdXLcdt6PWLlfhsM_2c5IL7nvP9xvjk1vJvdj7m2RpBBhFPSrvsAI88muvlqz50duR49CnlzrbqX_9Y2WMWwLOlHgnGvuprJQaxGyAE17R-jxSSG2j-XaDOfmMrT6I5fzawgrzzGeMLYjxrqPqRDtYb-jsI4bJ-VB7-ceE3NwvHBOfqShu2BcZvfPWqsutM5Yvzt_OqI361P23LQw8uusWlI7DnCkUe4Py5jxBK6hGaCD_aQOMo4WfMmrM_KyulYoMm_ZaNEnAmy_AigIN7EmKege3vSmfFeKVby7xzH5fvMU7k8x8dKMiKBU0zhB1It1BDMmSrhIBO8VXAq0_JdfbWTNo5OpKnK2gJsqKtDg16IoDdMneCHzs4Kc0AR_nYJ-3UDgBFIiB6e_Gwf-2W3gPszKefNNwAkUi76IKw0jSGQftZBt8bEPveX14j3Azoe2rX4QOrl2Vrm3IPCr5Qft9gT86OPndtKHIWi11l1DLmLDP-sZciyiKYo6t1eXIWyqdeO4kkzsXUeQwjsJcckPtK4YwYChjX_k_9vz_4dm0ooQP93Qiuaaf0m50hBosI_YTjMPDrMupTLe5zEKwpwdunA8NOcX36Py3qLSXEI7hhcplgQtq7jSWFbxDVIr_nB4jlVOV4dFRQU4nMKToplNNd6pAz0sS2ZdWPHBwk_sagBhX4iUOEepRPNPSXHgWXdCVLq6tdYXNwBZPaUAzOMRboYYiR_tL4gCboO7OY5fOQz8MWMXt98KIffjmoyfiTJSZYhmiv8Evc2ka89azAxaONadPbSbKSwU1VNY_tZxen7KqC52p5g5K4wpp5dCryPb7qXQ2DIK-81nqoa4c92R5kmZg)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
