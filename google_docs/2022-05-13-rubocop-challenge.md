---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oGN6-jEUyOU6zmhkhvr7PDeTYJfR65T57h6WCrKnULOtHJIA5oK_HwqpdglKT9o8JY33rUN2hg2x_nni4BoEf7_h0pBZhXmmnX3fT0ycKUxsKhwCOYiRxwHLDacxyPHLOUeHNI-lzVhnPJ6IiyLdGuG104NyQWuWc4l2KYiR3KirxOZvBjRum-14PTdBfiz462dYdHadpkOfmeS1dCajJx0CAL8ihuqXRo9qXQUhGz4WHN8ybwetgvuxGQxFvu8rdEUv2ZLQOMbiyrDKfIR6HAoUXPW3M_xoaJAXAZa-d8R4viHuT-Wcp4mkp_uOUlL1yo0gP6ixj6ioX960I1eyzZa8DX_cktVCUgRaB0wmK75yRcQXviWRa_HhPepqxFN1ED4aY7r-eoOexSlg6T68PicdCDbwuwKncDp1KxQaBjHbWMYmSFW2YfDq0K4pTPv111lTLOgE_TFamACbei1Ub6vgElog4FM9Uw1SRx2Ff6CZIYVWuM3kcj233Ume9uRf211QZJbnpfKrLSOD3eCUTgarS5ENB_qlXZUdzm1J4l3NSD4dgC7T72r7ehBR52Rw5uAGIkw6a_VImrefzaECKX-ak6OJnC1ce4s7dLy5rocN4gPH_GiU-AJ23Gx75A1YIJxBD7q7tMIfDMfSQ7niglCwOKgjDazoZsPkr2OViqNELbk1TNVjKnMCJYYvkOibSDUrkTZlXTzPXmQ9omXlVpjfsDAtTYay8lDqcxt9ZkxQXfUqk8da8tK6AGP_mEzA9vkH6ctRI4YFTqfywqZ3DqfyyYS_mCw7w-2xoMqA0-Z63eE9tN_dZIQzYEZL_XU8RWN3lkW1TsFDdu-xoqo-yAZh_JyQCrv0-I1BIJid3F0y9gyFLSlAWdChssNG4o8NUne3QiJo6TdXJAWgUDoao2hbuioBBvaXYMX18z2-agJUZnBeMHP5H5Fwkxm6SRMjWjFUiXdQxah2K7l8cQrHOZAm2usdN17K6crTSyVeMG71OGHKzEVeDvHWMrNT5sHef-aee9tKqlSJkoH1GnaYfho-uY0Wx1kAaU995f3MRPo2RS7w3_lmpJT-WFoQ4KKFqLGTjRgyBeUsOxm-JEjGGsxdbEftdXFDM2UK03oa8hIks1z20kFAwIQvwqfq4AFlS4T3zufFk04IHNmce1VEKqQp8eo5wj4xmbNopn0wVJeH7scv5IgneyNAkyZyDtxQOmCiSAnROtyaxezWaLu7MT_DH61UaOIIiH9AHMuheMhHXXU)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oHbG5knMdAej0F5RPC0bwS4NWInaBh6HabVqzzLV0Guo1fOc-utpuGEIBD0Ab1G200_G0_sRxKEYCFFzSyzMa_I5HmaeoYNyIGHjdSInwjCTJgk2NeZQ5QnvPgZME5VfCswCOiMdTPrRbwYDKEOi6lFarCFkTmPnUC8UsHLP1QNEnCAIleR0RkyvO8ovbbQg9S_FMx_9zAahoxxx5RTsijCPLZv6hXRHWrYzZkp2Ob3Qo4FpPGoqiOqXfzQXmfEMCiXVDZTpExFkEW42KeQ6fvxb016uaTgr7dhcxgxJc8inzKkjUERuqZBNl8TsAJkosazOha5PWOefil0ccvHlA2aoFtWTc15NLWVIoiEkGVWeBDLqkK4fM9kPd7_u6ypdBiUZCujD24HmgFeoTK6Y77ujy-fRPQtYKrSrbqNW7vGtX9TL2yTObo5UFzp5rmtfNWF03Elh7jaPCSwCjA4MosLL2Nqa5HdvvpsMEO9CkUWTatBaBBoW_hHAR3XTY-h999ip0kR9hkKFqoIA4cIQD1FyxZlAAygYWlDDZbLa4hM9_m-qS1-XSQDqEjtrtmKkMQV1lGx4x6RctxA7IrbG4v0z09qz_e8C7ww6ZEZ1GUbf5_d6AoNs22xlomunh_M_VZqc7LtzYNirWYKr7FqyS5tAR5O1gMpnCFR9t194piFq2gucOlgUMriUTTzk-S5WJhChGyCgtHmXHsFrozr76gILWkn05Z3BDyfg5BVrd5e4uNdD9AgwA9PHWVf5HYiWmm4ene0zDwkQC2hJmcNQmXyKHQnaqAt14kR-dCO3keqPPiWta0IttxaAxBU1KKfWZDQ7os9lWqLG4sVN2lXQKGC9yDiAynxCMY29AGovD_7EiSW0uunomlYUuQH6571geU-6tq0r1Ynd9B5168HB0jfm2sJYbHCppNiIvQW4IxExeg2BApDFf8QNNMrc0kccrKgfLV2ia8h7K4DsXeSoxB8nCrYnEVjicVRsApSFhWhqtZfNnzmmpSVpKHqmVygdhGx39uJlyVAxmAa2bovXbb3xuxrVZmpJq_mWJ7bc4mbG9_mp5CFLuD_92t0iBe4vBcscKQzOoYu-fIxP9vXKI5L7V2RRDpLe56yysbxUXbRtTms6V_s7O9g1xi7tb2TbqbnZj4vcBHiEL_-nWS-7YsCLIHAMZnBcULyYpNxir6oP40DfRtTt30a2zdJCFEINLJZGCvZ6R0pQ1NDm2-Dq37WJOXJTqL2ZiMxGhUZYg0fyHYB)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oE9MFoRCY5_HOZyEmekvKCCQU2QcOGpNZydYpjsTHm-9NLkvBM-YV4GONJG4ZpcLO8bkOnFWzMtM_laUPUIVYoR4h3BUjl5a4qyYODbdMxiwOqnP4H24S17njgMZL91zCv54l_7_-cT53r2rJ8bjKVxqIvY8J1iuJ9C8Kyn9f_pGQ7HD-bkNe2B9aUSCSIjWSMLm6Z3PTzGwOeYD6aZSK4-PtNsjyYvmS1LnGkOHxzmYGkp28VTy7S366Oc716mY13-BsMLmPJiEX-x8aBU78BAaI9nKW630o-u5yIwebBPPr05TPiQ2Jh6uYg7cxnFoReWZBnb3y65wpFZeyggXgP4c_sBsrRVRhI-vU4tJXHUYq0lyHm0Y2G151VwSX6aTSb_-c3NIOQYJq4caU1SZMh408EEeHI8gumQW41cxVjh9njfgAvSZESPEuGj-BBltR9CUV9rzZcD7AXkrUD0xzRbKFyK8OuCrXh_bS8wJoteQGCuI-CyxSXe4vLbDpf--ypSrmYD9qgeUz5DvtrpDgQgRsClOp4da-VeWbVhhZeMQ75uLiTcAjxZok6ukWqxgvHYaaw3R-vu3V4HHEoePseUvEHir7y3vYGMTD9LlZE6qLkRlQFXMAui47zghVj_GdPgQkFhvni2Oo5SFVQfiGmMmqNnH_ltBFdpCBoeX-KMFel3wKy-1p07rIpWHwR1QXow5pKfZwop7Wz-J6lvajOgZhaxB0y-cjD3HshAhlkMeY04tDXmv5vA_DnaiqxpqoTCBQ1KBDRaSeB1nJhOxT2W_hgDCZXeAOJHy_tmQRybTEdupecm5h-t9VzjG3FtQ_tgCylG4OSJjKBDFfUdHuecweOKQu6Y_vlz-LcP_U5q3dUgLy2vQ7Uz0lFD7_seQepRB_x9_U7QmVnRL84HSQinhLaUl09yfnUyPNLJbFiJ_v3TwV7wRXedIlqmYPPp25XNYTlrwUN726Leh97aJflWVnqLw1aXCHACH5hlivLOwToLLxL5MEn6cOZGd32-xkBptaseMwJCAUYDt8VDiTt6psmDv3yrlDYt0mbNMWVM7AFYUel9KVGnKFTrJ5enCFtaUMSL-f3zhwUxwzGPKcX_pYCJt1QkTY5gzaWw0G2bJzapMpRYRDgugSeeU9Pm00csLvoL0AIus-y8vKsiX1o2Btg5e5ZbL5CKZeJVs08Swr1zf0E1WKYdyGNpnaZGJXqokWi8r4DkjtAmIL86J-XJduSdNf5pGD7btn45wnVnwIit)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
