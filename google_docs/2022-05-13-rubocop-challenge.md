---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oFVWQA-gIOpCSdwORWedrrbEmUmwOXx-zILe3O3hfjE0CrttWuZVBsHOvbxM0vDY9jtVpgvujjwvsztGfAy8Rf6ltea5Zrmp9BN5hcBGsI42Q6wButD4J8pSRekA-IZMrw6X6Xhx_5B2_YpAzlGbDg5MdNlwzoiI1L7ITZ171n9yOiNRWxs2qF5BiElusZMkiVewyYqxZfczZmjjV6nlavuGE6EjzhX782JERYW2rY7tcvZ2iKPNN7_E25POLHDI-nX5j7cRCI6gphd9yGW5UQC6VaL3AoT-09Z_ZNykcYHCHtyBJPKmTBTuJwVYAxrqQoPXZyN2Q7IWTqIUWKIugjKorjYEIonHHnfen1f1qhS1akqmZHMsCPwq1ZVMn5OaYPU75GkoL_AMr6t44xIl-VA7y3oaTVHs56MOH5pQsrGkGgDWQp6Ips9IoVx6VqbzfNaqiHBox3-ei2vobNHiFc-A1rpHssNEhNbVkxp6QMtMAGc9iw-rt1CRn6iTmSaG7ZGKwK7L40y2xJbs6fV8JY9_vbvqenAsuwl75yaSdko3SlkGDFCeGNd_C-Sq8QBhrsQc5XTD66n9aCOkv5s-f6Gi5r0wnOdjmhLA4NqVv_GvUZuccidtW7bKJle-sVD3YaSYQybYC5zkUzCDSzmAtAJOAIuvl3aW3HPtS6LhjeOKUGTzbGXRzAvEMsZFR4b-k1D6YeKdCYPf8zyQrXeJ08j_4_Qhd28L9FJ-sWofHlIhp6UtCtQcTQxu8HafAYZZ2sBcXDUegO4uwLPCDJB4WgZS41Utc18TZhJMANSS6-UoGYiw1jVHSNvA44Nv7SFzZIDrj6PDp5DZ1aZ477-JWaiRwmdXswMZ8p6sxuQ5zKG36FGW1Q9VmU_N85hEVmap-mRigo4d9eBqAkwByqJ5ObtSzL0ScnxAj4OV4V4WNO4Q0kmzLCHYoaAmpgyZExaiSRE5WcW1fji602WlOiRsl304I4yGVCd11Egv8PN54Or245QLcsQf-Za0r-gvSkuIJh0PHiK7dqsN7N9e0KdJ_9qDsD8Ije17Vw_EqCdKf6VpKBtimsL6WUOO1UiF5V9ITj3jBLkygapmXrxq8_1Vs5s0B6lvZRN184fqfwCsmb-qC3uRsO5EqGHlkFP6eVioRPkwo1G0vEGKDRwH7kxYyhEZeY2pwTuq-8q6qcaQvqhxMJ9VxmeV2A6HwCUA2NOxFyjCGXKMc_PR0uNuZoboSQiJiECORHJ_w1-gn-HEVVRPRS5)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oEMKLqsJJ0lyeomJAKyB_cJG5hs6jSWi_70fHuYFBd-9guIshcECr6y0hC1QxRPDJo-wsguOL8YESlnFMP5xhHUEbYFXMB8v008q5X6_r4znBi8RN_N6RtFu40fRJ52yOvnFrD7zwprsK3l3MSu4o758fqBS3pfxIAd9gn0i-gmcGySLKwf5kEjcnYrD89ZCQAkT4Hq0jdxYP69uwVoUc-1_LuLVPFA-PAYjhsKx3uhJqalSwcbtIP2ZmQHlBWJI2gtdncnajbNqcMzsi7jMhkMjz0oay6fH9yvsaHKdYr4ml02urPbWwjmqGFH4p9uEzA8pP_iNL0axJYUqMEI2XYp9wm_mVdlLlOcXK1HPHn8bY9t-EsXb3RP9yb0QI019GQWesyOYkIyUNwcHcoA8Nnn8CfnOh1vy5ZaRIPmtpaPv7S3x88MI9h9nPAIl4z8ieS4R02jnmbnjH_6hIfj2-dBzD2Fz0jnedaBuq480VtLnGFCEolvFL5pQybKWVRfO_PCvf4uKSd7rQrrQzlg64c0pxHnfyXtfXgcG01mJWG0jz4UZAwWXMhS07UpMaFM5PlgJBpsBZZgKa_jqGRJhWg7nyYD2EpY2h0-g0UvJm0P5XvJk8TSw5E87Td7Nn9LLj_HcGUuIVkyKqjbBTig6Fv9dJnkaLadcnSlJHXym6qkXpPklhYs5k92-FO4usG-L8v_d3pyqpVygJOIt-J8BaV_bPa4gJQWutiUjRcb6EgI5k6hOlmq1N-w8ITfitbwaHHaabakqrozSpfW4kT6lchg4oyzeZh7FPZFwnLCPsBrsGVrItWMaWB9oe-SXoQI0i_ZjjR2jmiaDDeSIxGTobUZI-FE2ZBCu2a-Jlde0-Sm7NZyLw2TPcI391qdMJfeiu3_RPiTAtu9TNCvf1ZdLRDqQTwjAmchtjeIG72ZET482xUthqYShufHtT71i9QgD1ujddXt4APgSA1AEdp_4vp3LQ6bzqsIeZ5uPN4yZqIwyJKqdN8wvCK2woScLDn11f_PGUVcRihh-Ilu71uBDa4QRpwQuud5aizoepbmVtIgT_ZwfJemOzoI9uP_-yS6wNkKwPL_bZ_LpiDZTcqGZQFW14jM2LiCYxmgRW4j3Wm9l979I5mXuRoxFySySWtbOyAFnwFIk1Qi74VLJGf7Ozj5iZJjy0DLfzaa9E22yYf3S8lMLtFbaadARPiQqPwy9uJWrK1gwofEtixgj_DGuVa1IFaJEq3x_Q4dqiZ0FZemV1zr)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oH0STbf0s8sYFJPTUnnB4pwM-gd27_UnMGEbxpJF-pT1fnB7lN4sKb0GHfIFsnc4IZonqVBDTSlRN4XWt_S3UaSOg3XcoKtBg7JZGfOx4o9qYm5it17ljm4An76r7Mph4Y0PkhYqzKst-1DsuTsUDZ_KpyX4t_21CJII50o6x4NU9saKtdoZ6_g5sI8GuVk9gqTXnvK-4iHJf_Ozmn6UJg1x_3v0sk_d_N6dRZ98QMwJH9KbpSsWNtDJi5x11II_kg_swMJGuQFsUt5nPbXyi9v6Ekaf6AL6qK9i7dtmnscoLVDDBCTMECiS4SEgJ0HUgqly4NPqh9L2jGqG61bU_pPctwEZn-zwmexgrjIc-3-tcd-OTmxP9tTzjHztkmlxDiDHG9hEpch7XiQOCxNgHJNA3KktgubVaQGdNwMW4hYDhZfUdexdygI8gR7rHoawI9BKwIWmCLFWuKqVJHk0WBQSbMVLHZI0ZZ-UMfjLygbShfqYHQ3-BlISTafM9cv3EOvpfoxeSwoi7qty5wLAXgd0-kt0DQJ0wo21Z4AVfFbuLXXV7JJZ350fvNavpVeF4ySnp-jkCEKLDntc0n_KGtCcVXWWx0l2jLHSB_QVXFJLDHVI9tm77sVt2VWtHz_NmGUEUqzB038f7ZyOUOicurHWDI9BIew1zRkGaK-glnij_slrVtEGvxsKpxwYfhkdz0dI8wa-sOqR5RUr2chYqFOIj148OQ-SKoRTz52zqYOyKnog_0rXLPB1_2Yl1xouCjI4w15sOyogJJ39k5WS3UkY27RQKnr_3NXXAzrQ3Ozsm8xJfaUpA5vAU5HOUAr_RXrakBdMWpY3Lf8Aa9xsBpZkCuuPL65EhJQRhq71NidUMPQKawmj7BKybbKmL3dda9tT5yP_aMcXHsZqM4A-0FHri2H_IbTBHDhBc1PJNoE7kVhkdaPZf7m9QatK2-QvTsdwV4jo1p_5wfg25MZSBdnYwwY1IYD85x8VqSUx7WR8s9Zsep6mYNZU5zbiMwrkPUt2-e348ZbtOXAXao3zAkelnnYWxTtrJN7DlqznNacFhnwOggdV_k4F9YNP9mjcqtURSjSH01GcXp2RLBHzo7kVvak5V4WsNNm1gXd82ftKahq9z6Sf8dAl4lVfv38KGCZCWP3UYJgA4Qc9esyuT-PPcEx348mQXNapgmQFgbTt90YICzPm0I3trp93bgKtgqOyXK643rtlY12ifh69RRzbYnJmiyNaJuOAJsJk1BOeH7C)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
