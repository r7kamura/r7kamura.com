---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oEo9rw5Lvw5g3YmtjUbpEaRMdI6a8P7cyCBwK4-f-uzRWpMl6EnH5USnNP2v7YwslTYLRjn_qECt2zs_4qIYM0YVJFcABgGsbKlu47VSQrRiY0UB22Jk8JsngU0U9LyQ-Rh-XFWaz15zMcG8gajTatdeOKhxWr7n6dutgRQlDUS1CW_DXvzQ4ps7cRW0xCIvZnCSkl1SuBoElOgkbx8HeB10I80BbdPR1zNbh_3mRgMU5OFuWzco1ojmnBd9M8rXdwWPECZg9A7sz10VtGgY35lvUiDsMjxD678ddWgyjsj2LFPC2C93NzZFTc0M_tzq6kjyI6p0vMN062FSDoHeyAmx0JIBxid7cPGUZREWbimlfw2IwzfDmPZjxbzPBVLEKbgbAb5ns56DHoNyJ-o6MXxANLwG1ax0zAQTFBaGWuC3iXYxl04Vza1Z3U_UAgvT2mL9dQKNdiPQzhIEVL6vJqgKMsXzdJ3bei7X9CsbSIBocsTUXWQTQCMG-VWNw_3fn-B3eVsoZnf314A3DzE1Cu7cD8zq044pjkeDpvHuKi5AKppb1Z2v5hyq72HaQrdvQpChJGGf1Hs3M-mVkzZQ02N6AerkYm_jo9vQSHNCRRlvuvKJ4BmPeVgJhnZSjiOPj32zZSZHBqWLo3SVOaIAqrTyXcHJBf0vRON3JcjyGFxeO0RLUWeNxEM9ZkVOaRZn1hSjZYsG8u1Op8j4LsqpKbFqU8vd7WI2VtYAOJbncnBJ3ZyL3FnwW-NAW09iZKcdDuEtkLqGOJjH9njpPAFgiEQPrxkF39r3vCsuW0ZQRBoD9IOzt1pJz-lCugN-5ITGeKtGkE94WL_c7YmZG-rIe1X713M4QAdx54gw-V28FEL0-N0CWed-LeFX7RTafL4fUO6VEON3e6BY4kUYfDaRnsCuULu5MY6pdA8-rdwvJZBA4WNn-AIQPT7S8CzVAobVmZdveh01UQrA14yKFdCMX719KKbGqqH5DIAF6Zy_NBXB2NkBMWUIzEUOPWYuDsdGRPGYArAHKzyBW2DqrrobsvvP2qwZHdkL8h3LDxpuyCE3ddKHzLJXszIc30qcsGmzX4dCLzXy4cX0P-beX6U5wf_dPcRxSsPzo1Xamp55r3WCrkqNvhP8TkYuleHzCbrot_Gbw41Qr6ZRaOiV45zYNIJliHo3xfcuLgO9I31i6NbEOBrBfyvwYTkxauVzVoV_V1vx_oPxI4Ivolpj0lVQM3YlPPuiMyejKRKaN9Fie77KTTA)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oFftvqL2XxVi9XPFIomeTtk5kl8cUPca0e9KL-Q6nfnzxDc8TTwMx9DlB-mLsZLAElOrWsYWccYld5fswTYNu0HsRoY9AeLhceT9bHUk_uN5DW_CZschvH3eXHUNazrMddyxZIll0vypT-8nvQTH0ZMMmh00aTHYlVXJANt6rl9zvzIe35Y8w-hA6HIf5V8UwqshZrIkYanci0RewLotwOl-IYzfpH8iFm4Z_N2aTR4t2Jk81EO1JkDX_tOD0mb5wJGstKoYbLW3F_AOhN62LxPmhiT2hBo03mrNTP0GcdzLOm07BnDEVgGtFHMuoHxlB0YQmPrABHJA3XizBirnZhQsFcukmH1CDhumwffFPc2-BW_oNXa1bq92gSrkv8HLPCAk7KOyZWhK9cx_lva7TN0vZHqoFYU1J2-gU0EiJnWMlIQIEEnh7-4jlc_xZIjKDxC3OqKawgHn6mNP2VBUC5bBrpJue845uYBUN15j7D3MLYPhPjl265SOR-Hjt78E4_kRU-Jjx12anM7euVy_QRmqSPD8zeGHRp2NZNeAy1sbdbKBGL0bZkKPU1Ir8T_NcxmtA0-YVyRV0m0ZOu_uLvNxWbj2OknoKSYpg2v8EFWHjChjz9rvPloFGlY8KGWsT0l_jM6osTL6S8LtJ6NmEUdHMunF8cQlPY20omY9dKeRKqDUf-s1PvPY6BQIF2C_FAwjhPnzNyibqsrIRds5-6_h390Em5Mfw1fQ4h7I-M7QLonszBOnDVBsV4Rfw-wo1C0sAxkr3v7iFGSbf5C8bEuuRT0n3vlPDWXH77dPkw1IUlJfL6EOc07SGVFBEXexftSdvryz0tW6S4vfA1_fIDx5buR2MQiju7JdoCuKPbnn5_ls-TgKS-kbmuEuF-Yaai5GsXMIxx38yW_FnL-QEfckcbApi7s-ajyAsFuk0SIKaV1719n-8pFXEkpZme_e8w-96n49w7Rplr0yWNEcx2kO2zJUjeuC3cMhd3Z99YtPbreGYPFpnlXjGd7YAMtFGToONpA037lh-P4n8ie_Ut1GPP4xpWAdChNhgec-Doo5YZPim70Y2rresuf77VRRNCJuXGc8Z9YW6J7MxLBDlX-Yg-m6nR-NRgjQTlN1MlxLvCcWNbcBtAuAbtFt0FGh_zoHU9iNwfLY_xsz9YR63GbKVRVa391YNm50OAkpVhugtoNjns4MxJ3xQEzWDo2qA02I_oRE7DMJgJ00N5oSXpis9_PDFGQu_DmnCVesOalTrz-)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oELzfdG19u0STJS-BNVCF2KlkdnQxhE5Wttv-XqAwPXvESxG01_8KeSj71eriXe5tXg6-20sUNgzuRwb5SnsGP_PGSOCrffgdKrOoyNqzuvWgt5uSas1IV-_tAXFZKO2ylGy3jsJP3C-r1D6KLcgnYazcuqeoSCRpldh2oqz75KFh52x_4HSpLSkhYhxjdzHTGmFhH5KrGSYaOZfQQo0MxiqAF3IS3qldS_N0Pb3xVR8_z1dPfL0v4jy0PdQVJxGkJKOsDE62AY1nyBRbdsMCKN4tvcxTj6onBOQdxT1khBQhyB48ir-5ojYph6Hk1iNuCeBFsZrg_3hW2hHxQhg6Zp6HgMIC3MVGjbM3TmiKCjn_8c9n5YcJDAGCZ4kJO-jTMo5I5T1pTNptOdhWdO1WkeHBmMn-MQo614-ds2_KNnmQVQ0HN9zHsLG0t9yc5dsf-sbPa327e1h1IutUS_k7E2hQ4CbJYhTqpRNqsPmVfOLthJcxQalxXI0HWUcIHTW_ZD_TFU2lZH5E-ZdE8XUQCg-yuSsFWwny4DJbt9Ser3RKF7om_xHne1nfalTGJvGE_m3VUglNBysVL3uuUjN1ZmMvaXcPUo4ySxqxe5Ia67nhNurf9pOf-9G6H3xVvS8VeCOm0-vI21yUneU8b7yFd4O4f9poMGqlJup7UtSywtm4bxpjYJKoG1nTeatakVf92VOLgMrcC6JaTLIHyDNhzNTPYIfqbvc6t2EY6Urs9wgkvt-rZMTI13qJ7jsOyDt4Xh7sAhLoe_l-Ju-3X7e6LDpQ29Gv4rWivdEB_U8V2c6AAgDqigCJCBEJdPJ6zKDROuNiwwh7PcDM-9vDJnHTcY81pj1ZhCVNpvfmWPmlYtP2MTiQoxCe-xHJacj5RMl85PM1kptIVUlYgW6hWaMA0OIPIiBVzOSJqByNYgdtI-XWFGzLoGYfWjNgD2ILz61yomy-GivxFX-DR3MgSjfHrCI0_touMh1iWQt_Q-lOvWgZTolt6F-r3VQhzjaFwMIfu41BXjztWzHQ7VqW7-BeXoGjZKVCOQYc665jVzcuVqsKLj32ltIukL5URKmNye_EZ4nPAcoEQiDx28ge3gfP_X3XNhEXn0qKI_FuISKZIln7rVRG1fPJAv4YfwMeeoVW6Fi0MCDz1k4QEYw17BT3YzguGTfL9qUPCD_W-8gTtyLksipFkyzAM8gT6946gFlKQVcE-eP_UhMODORaKx67W_EZN3ylKgQklh5lQ6nt20OS4l)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
