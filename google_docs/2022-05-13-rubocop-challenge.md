---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oE8VReQrC06AOWSLPLFDgDbWB2OrfCcDFizJy7v471ct59cOwcL08l4Gep3IG7_84GoxxcPh8IySxPGXrXUjSBShgpogJyZhsRaxR3TNWnl9mDvpHH2BZ730idQ7EMsfKCkZGVJcN6hXE6YCxO14InjySDPEs7oTCG2Z90KeWTx-FH93Rbf9sD0tv60K7RYjHU95BMc_n-cWJnI73fX5sYxZHH4JY9SQIUR9VSY6gkB_5BMTmCmWjD6iNR64BnV3Uwn8rxhsiWKxHpCH-TTbbHTafTJdkadjb7cGIURKNizqto-US8XclAjHm_zPv0D2LxphV2w3ulF5EVO0JJCBfWMLb0QGiOY_vzaxuBbfNJJ1ewBi-ci0dBdLiji1SEkCNvmMrMuzkGNrWQqekljOCaAB6OsVZCkk1A_SoOtJ2wYR_jVPsIGHFgr_8ImjebCn0Vw919qb5HDqE_X-34u6vsBcXGPWbewJCxT-oLr1xPhZZ6z9n-0cm7hRRU99knqdXFL472xGYkQtUzfWeTi6YmBWKkJ_XclqyRSU9YQ9eSel1Ww-_eihnxGRBGEUs27UsTgo--Qy1PDtm9VfbMJqBhsHYfSS81Ws1kQiTX5mHyOHNkvICF2UQFHTd8wN9Wrb8A0122GIR8YCLx1NK4FBktZIw7tK-EKOKcqAAzfjdYglgL9_FINnsZzWjg3EWdTT60I8ScLOtOGplGoLBq5i8ieAsSwSWWfomK19c6PE9sTic-mK29wnobyhDkjaFKZ2ov2SwR01atXmg23sHdKzIXhxAm8YjZZgngDbCX9qMb-6coYZp9YI3aV8FyxA7qkG3I8XMkZZiSs94KBRTySX6lUS3ZKuOybFenB-uX6tKN7QbAhgc9T2veBtnWQuad0KV0B9psBcIqvpbN8C4xMNWHxWrng-wm6rxsDD8uMsS4nwNIvp_hf9TPB5ptDKWz_l0TXZaOeoEe7O4qk8EEswK1frjpOLbK-GOSekJHDhbc5L6MDi0HYaZBGzFbS-ynJqIsH4oKr2cO0xVFo0VXSSMlr1isW1EZYUIv5ymvCokovQyhh28VB5lftj99mTCiteLyTTZekx5fjMlaI7aKZBdh2f5H8onfOyLKHjs-oyT5zUMGzy-rgszpy10c5HdFPIKSdbYXV1pArWXjIwvHo4cvxeaWWgDD6wx2BtVitiTEPoVzjdQR_aw0b2U-HbmidhemofE9vatBmfd2lanhGNW55smKOqr2saEYaWooQ6wP42dcP)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oFCQsXPWYnWgPqOAuYHOS3xgKJDpjHbIqBOARyzQk8eR63nnNMIYPnhpojt-igy01TEnB8oiWUyhbMzKWnHglSx2DwL-LhLTMr_cNEYFEp_uyAe9-16ScJczzD4pfY285FIYkWIaqch1ed7iJsUsIbc2Ex10g29zimZ2tgK7WwFV5qaKeJ7gHPxry1LPlxgCuxd7M7KMSOX7fNfPmy_G2T-P_vyK4Fg5TKRykDNDMTT6HY5MtYGsQDeco6OoL0HLh3r6eIuK24JVDHaUL_SaeHdTvg7LX02LQDZDQPz3pUito4HCIuDZEVc7sV1zjHOrGgLcpuQA9v2WsUwD5Li8vnxDzPhjg0KzpIwYLd_A37YOgSsq3TEEoq2wbPGumMcYfQ2ascEorzuj6qy7XMxdq7Uqn-UVzORP6L4fbWsyJiMb8iCL4gbMyrzSeOd9YGwtvtin6ZnuBCchwV_mxezeh818eRJYnV_7mW23B82wO05xEG_83piul0yv2NDqeHkGPrQMsuXQTeuWWNLP1noBaD4bbnZwRLEmdk2eCE66uqeF7sWnQAnrDs5lb4RL67nt1RhD4jumoGnWtB9isMs72Y7PHvLrKLVYkHKGNdUQQI3EiZWyZPXim5otiE9UhnieUnrzphr32nPTZp6LykDWYWzxSYuRN1sh9_S9KD63e0iGXXzhhUPzBtiufbMQELqA4U7Stil8OJM53PRoKVCJ6hM2KzSRGjbZpSqXAnK1tzLLf90JMF6Vev0NrlbpGPhWjtdyd0RTb8nNP5IHDdDYPGBGMXOvTNDWuNae5QHXqrrmePVyuST52INLShG5ZhlAhGprs4nzRmVFrMrYCgGX94YDTADYK2VTjuANiUrfOamWY5bfITLlcojlRIR6O9hHO6HiNZaVQb09BuBWwBg7RPLj3G8YR8Qyzy_Ybq3zDgP-RJJOSV8lcQGbdedOqbZEuZdUvqAXVJu7vxle8Fm-BXI4OH6TR4-g0fu2_wOMqc-WZ6IwlTpajhVXCCLQKtTTYrN2NGBsbdKpsVAvqUmW6SIpUsqbLFfmQs_mHt6JHCs-4Q5bkfjLdqGt1iA3Ol0XOKCfbIlrB7RfCULGFZteuO6kUe4CbmMkj02Twe7gJ0GiAO87PcZGmDtd_7oaq_LREVgpNtNbNAIwSAdENlSGdMw-ACo9gmGNXhG6pPJgI6z1pdQe_LWk12Q861FxenFfuyyJaCLkqufJQNXhmWoXy_RXlvvYcjUXAvSXHymEvC4Y2f-)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oEvC4VGtzVDGxwlBaK2rKbLtaaF3Lo0bChyrVH7TbLA2ljszAgaqeuxGNnRifLnp5glZptiOPOm2Hq6ZPdnJNlA-Bn_QC4s9AqVRbROKWrF4YfZQAoRRLA4ggMIP9pcLthN8EqrjDvoxp1ZDa4f0ae275dddL29EIMvt_lP1nsrMaXyB4mx9e62Wwa7BlnLqNNvcu4LU9VLsevrXSTEMJ7s_4htPe-Y2DZhq1DexUQEQhaYL462GqpWyzeRxOQo25Lp3S6mPqTTT4zScwbAqdDmSx0L1yojnoXozNKFFOcNFqKYFF2u_6gc_ZXVS8JC9rkxXx6-ckQvEelw32VYjLX5yoOhpfgWyXDEFW35Ue04tFmwLO8JKjjNYUQQ3QhCnX1F_LciQnWUV5BiiuqdMcsAYOjkaEPngKGAK00c0j_iqgi552BNalmejIkagX559-UpfhnmhnCXh25NbPkg98k36dcObZuyLDpT8WSqRyVocZLZ-JfLyJj-VGIlloGHXExhzqknLg4H5RIDFjCr_ZD2rvjVzlP6CcamqeWnngauDkSRxUT4mnVrPz31yRzkt1K65hD-K9StCGZ16-HjRnLmFXejMROwkL5WKZZzfjbNPuQIhDDVUwpDwESD-GWalPiybaSzxZBfhdBIG1iQBsNBnOlFBREDX2PDuvsQJijbyrdTt9K7OJvIZ2bJR_3BjCocvnABSUGVbfwME5b0ar9dBN_fxEt7SFXFNh-EEHmgGB8MGAQrNFQNhywPSZ8Ul9eJP2DJ4m9IlyNK-Q4qQZU38d2cJh48nP0HU8ammK11HxHDjTcXxMAScEus0atA0AYucD8EUfqLNVG26XdejbmBGlXRBhgVl4EmKTPjlytxXXjuDx7fzSKKR53MIOlAStPHfC4mqghkEo-J8BoTDRMVyEtKmNFItr2f0nK1GntNAEhRfK_43Hdup_rJP_7tLXDdPBypcIhMldluND6atDo7ek-e8rmBYzxuOLBQEWAvIQgFcp1fdSkRndDGEBPKrEtZYkpPWkvy9TKeWWlGiszMM0ue4s4Zlz-ix2xxotzFix59wd_Mq_jgkeHi7NGyPN5kV5X88uQFuBR5TcjcKB-B3JzLeCKLVu8MSTY5pi7QQSgE3q5bHo9DhqWZU0Gy2LsI3aHimrI6VpzePDdOe7y-aeRpbOpZuhDOa_cZuKcVlgdOveFqP5EpJkEvmcnPaNojncx8Qsyi49IYDrhVtIFtqqopsir3mKKJCfnmmpn9ZJ6r)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
