---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oEJg3TUgLUdk1rqiFkF_wn2X_Q-oPtl3S8y1U3qDe3IygctYwgG-O5ih_RYDbHU5r_tQNhF5_9EPt1Mo9nlc0iQi03Fbs7mgf_dC3deiHsiA_UCDJO5MGJdlIEVviE2Lt52DUOFrNlaBqogL7kPTNHsIhBM8PdX0wwAm7CzKWnmU9dxtJgxMWxnpa6b7h0RQgdnR8_dtFtFtCAjXfyrLxxoFFJrnyarJ-aIcaEdsgAOfFmjhhZ4vsGnEaq8xBcZZKGuSpmlCX16b8UDcHTwbE-00OFSVymdcXw_xihUM8hLNNSD8ylaM418LFYjSaFvWcTNngv7zkyUSJBqZLuJHuQhPsdgD4LBcUwYfPMG9rCDc4X2Xuv8Gsch6CtCZN5ahxJlwm7tvuWT_zRm_ScEslc61wUjP91Babx1ll8KGAV7G8gEgiyE6n4L9ghUdEP3DHc4qSp4rrbHhTCLyhzmtX76j_63KPokanFvinOcwXaIdSH1ueL6OwhVpRVUh-MrSaUcfBzreZ7_TDFEiaZZwSmRI5_yQeKR6zSzcn3lSOVP7ANp3W67WOuUrpfPeAO9Yz10aixDtk08ltROTXrsr7w3EvKqkxwxjlCBhA57T7Ww3RneTreOUNExdO-TxFv37eDFdy2RqM7xtjSa33uGEC2ba0_YJn-PLy-t0vVQAB0-JXxXPNzMhH0xXDy6Hku93GqiTrzqy-7mJNJT7WIck2rT_iH-hHvldbUsi73kx2SuKY5gKkVAUHqAwVebuk7UnxmR57RJ96feU4nXMhPEmHZlgRXGGhOYvvb-MF1-1eQU5H7GpP6XKB0pL-VhIHXCVOhp9Thkl3BWJ1Du40V5wzDu_gtfKZGKxDnYFiCxT6D8EDfW1TH8xQcYQoYDdZ2VNgJXE1oaJfGGCrvHUWgXRYWQo2Kh3T1vXLNNH6kP6I3QtcJMuAqWXCHJdz16KIxypwd--cgJ7rNhLaGowEU3p-UCEgBBO_yH0jm9M-iEUNeS2trkPZj1hfLo9s1KyAVruZpEPjl8LWPFmtBLFKD9xdZZqdSyNFSr-D2C7C2pVurAbcQH4_dC1r9b_dh-W94KeikO0seMvSX6BVaaVGBIckuP4ILvKczPBQZCWhyDcgfOdavb7GaYYw7x6b64ucMRoyNF_T5Ldgfi83LSmjJoGEEwOYPuteL6xfQu7BOcwXGqCpPHmltOQuYGN6veeyU8Btxws_tTXGL9X9AlattaElZ8k1kjl5OgO8Yz4J5ahk003P9E)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oFduRZhortTpt4oBhDb72xm_G1PMVfEbmjQ0DPidRAXnJfClEvofbZ-G5cx1fPTtNsPPhjL68trGNeT0wCDfYafzVEKIDS7Hn3Ofe7UchApNMcE1phADJHN_pX-5kaFAuLTOyO6xC6o-ychUv7R7wGQNMYDeqTr83mLtM1dZTtJ-Y1qB0ZEqOM1UDPYnmRVVxqIcwBpe6bYwAkkxS_9G9zdhDyVTVUwQX2v9jd8mrWXfAqQnNKSpKAASRQXJtaZJReXue96WXoKmHXBMEEJH0Jh_2zk6fpEHXGThFFp-Qfr5BpS5Foi4dCM3w4TqmveIvxBMpgFro8Hzwc2Gl1mSg91_bo8y_E-4nHMKxgl-l0CIA7-0m1hWYuD3S8mjNjYK9-HhHBqKEKUHibNKpaU4hm6ost8Kqq3GNcDi2bNeJNC3qB2MW65fUYFxcFQSir_r3-OZMBCOLacgZKbsva3inmldGe6yCoWyVkB5dwC-vYL2N2wkl-UODTw0L7kuSuGJBWYM6Em0rwXVdvfMZmREKgA_L5kmTkbtZtO9nF8IkjIAMqT24oHhX5ykKmT5r2WFKlYzLeF5P2WLas-dXrH2mtmuTXBPXb6n6msodoJXp_nTh54MxTIYgweR5M_B5pfaxfxOZxCRRywDUU0GpsKaw02wkUZRVCArd9SC5xGuN6PoGvv-zqnO5OC09iyn299IcGrxe_ZJuPzb-GbuyXJ4YeWmpO_Oa2ahbUpQLtorDbYLJ5WcMcZ5Olj9I0Vbu9sCWMHpYmrIRaTG_Z0JTNnQzu14cXVyGt2zb53erbwueH8YjTepOeurkdk3IbGHGeTgZC81PnAWR5fipJ2iqrtb_UVV1O4_7w1ncyB11sf9u4vx-iPb_7Kft1moyH_sf1nP0NhmrnGwAzLCuyCi3jlzbfbNDg4yB85EOQUU3z2M5W1MBP5oscpwEnt1-ner9BSDwsh2UuxeZAfm2Sh3Gm_2F8vwwmCF6xamOTUlpIxJfPgvkwYXlC5gM0S8QaQU35sh8YRV8OsBSDgaW2-u6r91w1Q9o0vnX8fdHlWBy0NqbHBDIm8QO5Vd8Aincnjw9iBlaSsqTYkHRQGu8BnU6MQUjPuBItavsi_YLRFS6sqAjgAW43xGoraNlAnmvWbIt_zNY6PuAwM8IaPlW-DUMoFh73cDytnPiSYIkWcIcCInKWNavCeg5XRIU_rPtX2VQPUXTYfOeveukIGBuTg6mYbnHkMnVTo85rlIfARCFNyyhTKIT8w)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oHYgP0NPcat1NaOUVpvQlgHWTyJyUVLiW_PfBSWFRIxOPte8rqeRFwmeBH8EGpZfxMRCAJm9hvkB9JXfRB07Ev5kXR6dCnezxckIVAeqWIW5v99fuYFiXFFCzG8IvtPNmtSXVg7oIU3M9s8eBqtWlNib_ykG4eW4vDSp5fc3vSdXd1tbqi05l_WEml9HU6QZyERE3NQR8xFPrar09trfRdn1_P3f0HPm2LQoP7iQti6CUNLk-LwtuckYbZU4msOfJwIPgGos34S5S8UtUKYtIGi9PCDs5Et_Mz1N-Lm92datPDZXGsbqiQj2BsiwuDTZo2_TB3_A7BJYw2X37XX1IlaUhEsi85sbhMc1DvhAiFvr9NxRB7TdUCJips-EMNRR4ZPGzDE9xlxOJQvdYBPaKeJPd6SAqc2fmXTYUEVIsBU3CZKM5tbc9JCQOxn2uyEMSMO8jRs3Ywac9QXmdM2S-ytDLCYwE9cJ2blWlfuQnQZMMCYypOrYybxzXMAE99fNGIgq3gCWr1U6JampITlmuuxucNveAyTdMLF3aQB9EE-gHYMmR4doehe5hhs8B28mS3n36YWFUMXsZLaYk2YLGwkUk9SKq1vJsl9rH6dS1urkREYs9kGWUlLOi22UXOAnSDghI04K0V5Pk4G2zsxpMQKE422GXzgTtyeRYpSdDdZ_cJSObcFz36uz6Gp05r84IqU95zK8mhxqrTFqEwF2Rf0ESip_OxHRYdYMz2Jl-yvSNGWRqHcRbSjAX74LdJliHsfyEhly-YCNu9y3EqRROJz8CSYFt-2skk-F4AE6luyW3WMbf18OcnyiwkkZuAZUUvux3HWZ27LkJvbvpO9OIf2pCWngc7VViK19VdpJb6Aq_Hgy7GDA9JC9hX3CPiyd6scevAKc4ZWwFr3ZXvWpcGaZn3fWsxTbxb_2o-m9JShqNEREzXqvW6gegSdIOS1suAMClgoDVVrrs9kfJz3fPpvpNieAqp3xQGtdtDKb31IUye8QxVtJ081yF_exkvGlQGt89u5oPsGlrz9cj-W2425mvW0Ib21NqiztjpzH8Xir1r_WpWkOapAdKtneYLEpHC75cKLLI5_ANg1I3c9MJa3HSHKGrQCaYge-uC8l7EpUzlAvE3S_eWfqEUSM0gjSLqFnwqQQHNDBmO8R4Ri7Fex_L9WCdq0r2UkZ0K0atCenwdHlBm99syQuoW7tEZj89ywbfMqjCUOPOPXUlkzUchKdQkGes0G027-ZQsNJI8DKCdh)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
