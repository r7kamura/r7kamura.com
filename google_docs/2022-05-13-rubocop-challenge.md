---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oGUB_yGdXc4ASdrecaf5u5ar29ayUG2H5Un3Ms56ommkVFGlPibgmMbAys3P51A8Lz9FoSFbFzX8RaU8_GqKVPCg-wMy08UsV-M8d-8_nQhEQYMxRoOn2g_LOeEG9j9UTtBj4WOAj5S3sV-G7VejaXQP2hAJ27khzSHqnhSGLn5qvRWBJ9nzSuLMvJNzGxJTPej8NMf2RzjRzP1lGIdE8by1_mcvaFzQ5cucN1hjWuKf_NPpKAA22OF3H4XoKMx4qoW2c8aHJzd_RbtsNaXZyetpuFnx0cn2kOeovVgvuHpNMtnEW1pk2eRBZZdkA-vG6zMi75Jm5NjIh5GVP9RQfC4LmpCRvW3uhhkrK8bea3EGy2kSdrkQvl2EuWtZd_34JhSttNuZRiM4R0Eb7IEnOl2eUMpa34S-cwK9l28KJQNRZ7HbKhTvUzUonzPmWKor0iNDZniA1eI4Gh2SvVtt-K3oHohyZG2vNgfM4PXqka--9HRc1epcxoNALhPX3QkwK0wLtLNBrsVvmE7ycLNc2A7-TOMSpa4ERIIMWpfoWsxsBaVH1htw0HDMcY99xaY1wQqxCh31uTJwI8RqA6PWmvuujVJSQ8bJCHG0SaGzFXhXcIqL68aRyIzfRiJAdEW9So3RHhO4ovGol-sFVajGowXp5I0qidq3JIK9jkLGM6cEAY1UbuF9dcrpUOa57CoRmtj5ZEW62z6sF0vDL7L5G6TBYvbLD9uPK85sUTSvoZz1sztJX_GftHKNz9mE9QHOQJygJNODEeM6vjBvmOuemB80VvHi-ojWT1XzyJvfDrsCvs1z79UnoUvUd5qnlZE5At1azo_LufSBzePtu0z-yXe7UU2stsSlh0AoJ21Jb9aEPVDBm5SWjLUVMXahsyj7Sfd42ose17XjB8gC-SoSTGAbIJPrW0n3u0qv3MO1QsJ5YsjQD7NEjOdjBJNfMvGSmt6aWhKEIyP0a-9DKkmyoL3KdGRH4-sRejkQbzlRcWQpUgHUiN72B-XZHHbt_TucHkXcA20boqhqHlMW5tH4gOwmM1yVwxOJqOPoe7W7IZTXsAKj6BE1o0VKUngm1kEgou7njU3fw2wWA-1D6Mu9_PBeBZsMyiB0xH3qel-PBA6SKboeEyQZIRyb4kHyTwJomevq9Msl8f6y6HZAFLX_dWlEjIbR2Z8ejQBplRpI1c8zmkdKSAypKMdphnrgHcDr4QkgdddFL4geIiSR_PCUTEt3ArUvLh5DCf_Aa_4NWuyHzeY)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oGnoK-VvklLY8tlni4c2izTF4fe5zf1po5-JQo9-z-9L-xFDJFfF8HeoltL9yMJBZ7wnBzc8kGB8Fai26sw5BiN4FoCX6RnFmtSq5Gopqe2PhgTbYCTNumk61kFUmaT4MRODTC-RjIfZPfO8c8sEEC3hOpV6zxwJE43GE9XDqLYsiSsdgzhCyU4YH0BIkSl5932vZ_dQkdixAv1Yjth_dCM3FdVjN-gOYuNkPOTZ6hjPoEQw5cTFJFeJ8Rra0Wzmi_sq0sdxdMsoRhKm4EAYK5pyEJi_OHxgKLjHADSVRxr3Tp5SbqSGuWunJg46A5AMYdB6Kmq10x2VZM5h1VyRS7C-lecYWKuHPBzMsBHFAcREkgQr1ZvfONwdWBtVDTccjW6Oetb5z46sCCpiQd4CX1OeGRkpPlg3c9ALhryAdMtD9UJoIeYiYiqIeBeryNgN0tsP_ED62HPo5j0pgRbc9elWBF26QDMh-sosafC3u3E8EM6I13790gARzVyvoq0N4TojzRpecDF_NleZ3xJedGmFk034LDyvFj5UpJaEXvwxeV1V8a37LxB_fhXcNuxbRvn7LPV4jIwgYxkn1F9nkYZIkSN99ixnL6gkRftImdnMkLXzvZbqStvCvwpVYJ2SRMgcOUaPjqJuIn9dgxxZhFPblZyZqJVWpWZ3Qmz5edDMUdNxDy9rLWMV5AaxFGMt81uQhK-ImIDlaufkOt5T4n9CDH-0aei3xRR1_fXeM16Edyl9J3LkPvhb_hlHj_-ayvhL4TjkBxgX9yFiuSsngv3jhCbM1yb2ZO-RHxsocpkbKwJMF5FsC1lSARBT4IdblRmcwjiZhO0WPa5EsDgSxeR1rBvOBkkirzPLnIsdHnGxK2Thu1Pfrg8fOQY__-C29kgmuUxlamn6neOWiXQwAoaMYQqoaEeJk3yenlH4sWOIPsGuilrDVw16_L4cXnWM86ezv0PfDSvfpEUemb7xDT3MAKmeV832302sE7A1KQ5JTHgBdpfbGDkuV1j3MPS_nXSt21tDKfAgafAFW4ccT26WjzcfFBhi7YVM4jnNFEg4-Y-KLSgWzDrQZIgeXpegu1BevVDOQWHBn5CIXAw1m3cO5n5RbMvwD5znkVkkGExC-PFqlGQ4FFzlj0a9W_lYsuQvZy1WAQRke7adxbJnxf2mfbeSAyHgGA3JlUmot-roTQPwzHOgKLIQzRFXMNzESkAQzpLKl2uAc8UOj9QPPdR8JZZXnTu2ycTiABJSbNdWeDt)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oHe1TChbD3rg3UbPdUEjQUM166zop2uvjYyx1xJRhdQ03Lgx_pXjeD6KuJz_9U1QS9Ttlu8SaV7vLpNctJ6ku7OwKivz-4Y1HSYyPJym7qEjetrSF8EgrlR9si6C8Vs2a3SgF6EpVHG2l50qTQym6xvt3-F_vUoRHffdCNrd_5baWCyJgdg95AWRGXNYB7sW6h_D5wJ5D8gFzHrS0DWhzDtI3Lj703KSyqRI6zOMYkmgxeOqdPXZS2TcQ0Z5sES00e94Zfdjma1L2WikA7uoe74ZOqrSIWINbaaCIkfM06xDdUgDM3F_KcFPxCWUVHuvE7C7erRF_uLoc5Tgv0ziBb718S19iIOA8xVhRhGsv4ayJLF2lyjP9UpJVgvMEIu2roYviak15c1mldP0C0hYK7Rn1LwP1Wb8LwKD9_w0mZwmQPl9PFARDwtDQrjVHDcvXxHIXMO8Y-II1HRp0xxdSH15N3pbkXF5D9cb02sSX6G_5vSKKt2Fx5YAEuZzJvGgZe1w0cxKbSRuoWcU8aCtDBfij20evkh6ZlQN_YpOHYwbJI0pIrOqMyHVhQmQ4RutnN8GGMj4ADEWz91Y00URt--nWBmCmswbndftSF8yiQ1KBLKwZNPxtv0nl1cjWA6kx6wxyT1zZ-TMYcKKn_t8IxjUEwWeeByrGJdOcTqBaXNVZ6JErVxmU5bk6xiiw0H33DPzn3fmJ7H-uBEzpck91Euc5MJWxZ9EVyrERdYYhKun54DYexX8GTxQIW5FDjcV5r7hKH9VaOJoC4mxx0jjlT9xmOiQQyYK0USxjziw2L89c5hqhNDO36UMJ0mKOlGOtdsYCj8niecFon4sfSVxPlSiNviRNmdlU9w2_3nC50tSCPjoFYglvoFas_Zh95zEL0lUJLwNLSXS9HKQNEKOBCLMMdCxipNJCy1eqG2osTKDUPF0dX5pIIUPOZunBYnpuSk_J8UcX9hXBghHXudAGHCy95VKORZezlETSnsKOSgJsG-0gjbY13IZrAk559pXd6pN4w05kOBMJIY8dFMHJ8opziFtI2RLOICBB_soP6qMuaRcBTeq6qPc_bWfkt6_M27FHSy-U7Mb5OBBXeNiK0f4bEF5BR1qJQAChLcfsbQ2GlgWkqgJePc_GXF0HSdH7S0PgtPPtdephGUHWcyBcORLGJV_vsKeTQ_5Ds1-zMV2P5ztn2QKqgXLy60AAcr9jHxxFEZFeyAambCXsL-lw10kbscLPResqehXfQgA02PduOW)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
