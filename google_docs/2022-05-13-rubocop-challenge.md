---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/AG8NV2YwRoQxbCGf-uaNIFBxbVRsQOBS8ofBHcw2qy75hXP4VZoxVfLvliIRNbAIQ4ZpUpdm2iHwGLH9kTcqDVYcDZ-Sq4iQD-K7ImDodzYES3nKZ3C_8qleUfW1kqiWcPdvWfzyMYJCFviWlPyHvx1k8ONZOzc14oc1jVV85G87ZEIIh37YZIft38Cbo_kNhpor20XgjxzXhmP_G434c4X56MtFdDH8oK5NMHZ4w0bDKNGaLv-b2xQdULEVesZ3dENEwy-76FOelvCUJJB41nDZDO5FfAgM6wW83bNBXLBQ58FfRaMC3H8fmBYAP_4-WkXC-TIVeD7TjvI4cUtOVuGUl83up4HcWZAXfWLLGZ2vk5-X14We6ELki_eVvLI7FODjnwH_FzyYwNIrG3Xdd8ia0Q7Oa5F17N-kua_BBUhe4pVHdEom7ZsiX7doaEQaaa0gpRMm4OWMRJNZISdGfYSTgrBEt2yVAqWzu86yzzSudCztSEEyQ4EElqF9W0_mAPgaa_CUQ7AE1zA8LaSbbXgyKb6uuJK1TaN5vu7cuXL6a1DpnNyHBhB3qXSiXj4-b0WDA2ZwSi5qBWWQZsa4Lft3qZQuRMbv1FkhaJ7f7z8BkN1T92EEcKrFnpbP7zv0wdgE1WgIub--zIUOhgSYS4KQFN_8Pm5FCu7Che8k-K7VsTaJcs6OM2h5MIigKUqZR7OrARLXN-zwKkimIeIXeBho0r5P68x0_AxRVLyAZoUgrc6eBVJov2qZo2V33rGylSEwVidSoxxtRhjSUYxFpyx1I9836mfy6NFMPtGRBR-BbMBaXo_pgEhRQq-btgcLwFRK-leXxqmxHECpydXNYJAyEFzg1iPLoGD23nGQGvSNNZ7h4YYbUoaHXcJLE1hWr2YtbqgHK_1iPd9R5VxDnebnavodwQkTAldCEYh962_yJG2au13a9tE6Qh-okOT9QSL12I3qAMX7FiLraikPjgcxMn-2vdNlyZN4XDhNh1QAzFc5gfz-MCkzB-wtT3UdWDABCmwxHCN4yllYMwi3iiVoBfMvX016_MffmC0qVSHbORH7ojq5n_cXFCJo4OXy75QDuI9WIRjRHQd6jKURR_Puhv4LLdV4ydwrjDd3eTPQgEYmQFi33HRWa0W11P0H9EIMEz1De6IgAWOnRr8yp1y1F1J2rj8aloUlvaqBfi09zpYe8qJ1vUbiGES5ibbiHDIBcn-uPs8CbQzTeaJtcWuvTVjXRaICnE7DBGoVyLh0uvCGcEMj)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/AG8NV2YnSHx9BoBEE73Cwn62-H3UMQvlMxtwa60ChNcKmlinja4KkJi2nGlGykOUkFHaSMqjy0xIQghfVoABQRmn5iu8JRLUbAufKBlnzyw62ECFWIptSK9WYi2kN7a7zRvIPhSrO216oNXLCc1C_mt8YoYi6i6TqlnnOLH1PwBwcOPkI6PEfzhCKbdOm0q9eJRDImO-xGgJJtiXu8lsgxZAMmZCBMk4vuihelFyxtGOXvLvWa4Qei6WtSA73YvKfvuiLt_RNdBebXzfC3OLq4BeV0dJA2_EqCtQqsLnfZpl0bCRZAgZatoS0Ax64sWjy6DzRMGAxZIdeUNrDmxCER85X82l_OHvEKVOlSIR2uAsDqBA1dWUKvw2ttF9V8dh4-n_ecqtHyLS4GjbyI92ti0BeDRHHeO71F8Km_1HNZT5ypHV-UZw8eu1tlGUCd2CH1DutSGaSO2Br1t5Zb8MG1NgDVEFADqLQxY4cd3ZwqQtykGo4dKefa2NmNP5Lyvu44dM8u06aSwG4eZKYHrLXmKyiS0AgQty9J9ruXNeiXQxkUtq3VoI8HBfOYhsG85kLLccLhaXuhzBzmLt_8ILT_HlM0rRkNxEx7zpsddFYORUep4PUUVL5f4121oswOW4i1yNSbunKnL82GTrk30povd-V-dz3E2Vw1lmDRj4dodRlPzD5ImmJb_tlwW3u4kdr1xIBTByjaXLISXFZCpNmb1vXyeZa5stIH0dZl-f-J7b0Wce8lAOnmXBInGCjuzrcTRATlbmgNnahP1by_JfIydD-iyjypfGbyVGfmYkKIJp86KQ1KcoFZzhAphnsiYsKy8EfUT4VmxcF0y-VnbUN_5ZwQAwJoq3qX_kp_elbke1dTq-x8R-7dzDWDZ7WcWSCiBXooM4YCT56iJdFE4qp9daKA95uGT4NlmEE5lhckhfV7fM2mxp723sRHDXALNDHrJr2ThBG5FVqe010-3RdcyjYnGHv7fc8uB3cUSzxUBESbhQm75351BUVbuw4rLZylrexaWLObhFYi_RjqOQiDwkceVf6w_hNBKkWRfCtGm5LlRj60LGq9LtPv1H42Ww4Iqu0Al3CpJ_oXFKiLS2V1EcRVDfDguehf5A2pP55dty4t7S1zmrjVTo1KHlqjaucOzwPi-rYOreIQHRtFT2FaXKzAsw_TmwNtI2qfb-VrIuSOJtcuMz_mrOVpf96Vg4GOJxmuCdiPf9YZMJP-wVfqFPJi75ad2RL7dBQz6-9z60NrZjGDHJ)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/AG8NV2Y5hVt1d0ehrXr3ekUlzQCEqUcS-jgIAZ6dkNzQ8hyCPDqSqcpV6UYqlXEG6aziySkT2na-s2NDlNRvYmkSAU-XfEaNrnVpl1Lo2Wmrk-M0mMQItb7xgLpmmRL5vsAp72Ec9x1XR5Y_eMJJOmZ2Qqxmlkh61X5CqJIYc6ufxAW4W0lTJd3tcxsvNJ8u0AAPfXgW9b_q80HC4uLxETTaBdUTwC4JQgZbtQlYwh83pwVyj3Wsk_YCjWpUphslO4JVBZsunFHUaTEfTN9YCLUoWWRMAOz1YdetIzjDYHwCF91HnydpmGCJv266nplZ1fvav5GGfRd95BoGCwVBW9eKwEgV5g1RJskA16rrVWq1n0wAdWfO_CEsLI3TdGO3iWggyXDN3XT8IeWSgfJy5GeVZtBeabTQeRgDh4jslbpN4BTOt-cUKFRlDOUS05G6gmrkXcqWHW1C3ry9Jz1jUD6THJiaAAvoMSPMTZIyje2MO1TWJLD4LBY1S4KjHfc3Tf8HsvkcxqLN8Z8dPX94Qq-q7XpzD3P-PGuuuST9Ss9AcjOa8ztslMWrySg02sFEdUj-kbVwo3YPTzovId9lsrB66cBeJ3eMareYDfACDsGI9icTUJoXjDtBtSviu0yEZGr08vs9MPECaOR1XK_N9XFo0cyT4mNsDk9y6mMqGk8xe0v0uB9sbPv61eX9bMm_1q8LUYWDp109JZsnSf58JgFQWdx1o5frXjgtIwKJMRkyN6a6kGQv6MbmB2agvhArdyQeCSPE5SuUp9AT1JfcYrN0hG_iH39Zlg2YYNCOWUoL16wQOHDnDdPa-FW7PYc_GkfB2TaM7uP389pyiawghEDZ11TlIKIRb0mdu6M2RrJrLZjkP1Ke1j6T2UjspUivMayUEB_1PXIZgd-F-npOqx4N0AifLDqrn28kgikXv1NgtBwcSosvd0e_LFQaSHTbMrAfJ8o3lBee9Qi_Wu828aP0HaHhMg9toMvD2PNE_5thghREjoA9Clmo_O5IfNMboxzgZ1cnRmZMf3tI5RuVFKVXp0V9Yk1RWxAPXQssOPWcKuTucXE6jyOUwA06BRKeCLW6t3azbSHkkJ9BxCUra5eV1WyQDgZ5WjhCu7lFfm1lxCKzT-tGVIMd3KoPCM7a6Lt74ozq_bqmyY1X-PKyldU5N-2G0EpxCJku6JVKVPGTnZwlBUnqVmCiSIqy99zJRncMw2osCQSsn7_fzbYJzlLawXQmO46IGMIykRiBlK1v4AVMZ0S4)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
