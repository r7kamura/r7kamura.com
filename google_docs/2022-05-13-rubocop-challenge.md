---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oGhWvsyTTDejib3qOJeWx0IcKvhu6QJaH9aFLc7Mhc-8EGIMOBDHwwlhSU-NGkRYEAEFqkruGJMMY5D8mpONh51O30KuOs9d-V2GaDzCu5xCfRu_73UuaQB4EuZ0AvFA2GaRBVuuaiNNaAutqlzQcPb53Mh0shQeSEAB-qMRyd-ni46YkgKLp-k84ASPHR4pyH7pn4hphxIsT08BS39pHN7c0vdhahROWE07XtubWHGaCpGum4C6X-yW9LbywthH6SKqPyFXK-YlfVmVuUA7250gZ8km_uVY5dK8_umkyHffJPWF6aFh39E8z_95MGgiEHM61VgBSkA3fQaZ2DFc3Ky9CQW-95dYq-p4xXte9OlY9qllcFdzSLPKjem5F-A7XKsEdvaNojYq0Ow1nIANIMqSwy7BdqS2xVAFOKylnKrrMtCZ-dImu3gNWc9mRT2PVH1kcsCfRh1hF8TRYJ0pRgu6cPbE3Jlr1aztQa9wOaUs1IziUtqHxlUTMMKv3p49apZOQTTbIljomKqqT9Sdsxh2SA2oPQfv_5Iedu-4-mv0G9U1X6dvE96Vx5Mr3LLNhD9P6AmhpEgl20rSYtCt6LNZ6O6Fr_leffzi0m-jgOkefYTy2j3wlR2QtgVz9j7cB8BOL2wcocjcwrn2GdgircREkm2y3JQdJZ6-QdiT9bHAPM8ML-qziyL8Y78V9J7To7vnTdYRVbeRTizOQex4x9lxwTp2utRJrHjJ_1OHkNPlPffS-wJdWIcZLTuz9BsEboJGjeojvEnK3NdQmIZKrQT9SPoE7pny2PMwptqV8F5sHWp9WFnCfk6oC4tQrWoDRQChv8LZWJE0QFrHgf8TB4ffilwf0Qu0LWmRMLqpqig4Z-XlJ7MXfpdaDNE-3Sq5Pa10zFka38yTFEAXOoLP14TVA9oGDYpWIzB6OCBvArSk9sAK4S1nzsfEITrT2dl7OOcp8YpdR6s3L3fO-9Lg_md6EOIheYy_-P-1ATh1AG6ylwrXyJSFNnOwpMEFOXHKOTzVSlH8vyOoVeNc3J7q6KGJQ_WbgPt3J3NdOBPg_hwB46m2b5e-FU53Svfo6DXJxQCg-lVAn4kkNbimGvxjXrjxJv8prjcVGXVOpDJDXHdKHtONPqqkbl2uSzziDKnGMMPbvQYARn4IJB-kuYLx3_esv2rrWDSWp_i5jg47T3eggQfyppuThb3rDiV5wRD6ED8UjCTV1vM4eN4XGSeLaW172Ur-pZliN9n_YADjBk4Zb3U)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oEkhkYtOEtPWI7tE3OakQTSbIdjfjICYqqO2JhRP85utYFupns5vI3sq5epzXlou2wpl9EcCKRtPWD3mu2X8VftuEvNw6jXez_jlment5Y94WlHpo2-MbX6RfCidS8sQV3yPcQjJDNUXzAOLx3RYWsUi_rIAD89sik9HuSsDE8BREg87_5wumMutigKecfDD2RvG6t-AoiKZLnWIE3TAROASWh3_koMwopiSQ_a50hAweEzn4gOt0GWcrZF_Qdp_phlEbse9nvcHBlhOjl8IbOxrwnxqB0kLU16Bwu5Kj7l1fJZkE2HLHu4EeT9uYKpkZSxSvFMuhRHRu4pDzH0d4hBxjyhCtSFs6XvFcKeWxxCzw9x6wj4h99pnmdFQiEb_ie-QUHXaJMTAypsNwBCOmGdZKIH0OuTHcgjYL1oi77-z-0XppVmmslG2yqAdODZZwAFYa-BTzrhZ6PsxAR2oV9c1WSRx8ekhd9BV3laDm9KTssyOxD4fEb6w7U0EP5r1nJ35fMA5gl_U72qoPUpcVS6-16f5QooLZD16Rl2R0VU3wLslpwDYZFg6ZaSSpUpVbpg3DyqstAWV7FJ7rdhaJLs4HAYnB_ueuC1jxjSS6YmnxOWUO6eNLcXXJ6PU7rgeVclufQuKittvOUZrHSWYMmNWXEIiBJRFA5RnwnSqB-55MztzQi1dpuboAPdl2XCoChi76hyP8H5B-L9lMuCoyLs1Asgpf3_TJ6nzN8eUMFgoY91bYQBYPYzIqZbifo7cCpuRSrB5nX1Vn37_TBh1nJ462BjfBo8CFQYOzr2K5huX0lDipR4QlcWBkVjNQTQXP5qkofhHa4JOQkhXJxBSl5pxP5HvhjIW9SE60laR7cWt4CJthL_ZTkmfgk478Km03Wu_U7Y1aQ7yg25QzP-qqgEUto0-Ooow_U3jrIjGWh2j4NN_Uf9KRGNrbfOndq3LRutjhrDuV6rs0FpZqezuOdCtI-CO7IDi7Mf2tUrgoYnnrt8dGmRG4P_1IsoxsX9PmEzPTqsasBirSo3W60CmX7lFMtZIxhTdetojqMD4bItNCoGNIaR7t-_ExwX-0EBFFQWiDfBDKfGSPEM01s-74yySX2OKKPt6mloEZlOxvgvSLhGH_xWEMR0on1-9hAHvvVNTjY0CxXE9BfDMftVCg6T_IfDIYZm0sys5vb9zP0GrH5lbrL3ExBkrXgmZAIVUFhrt7KAZFu0-nUb1fNk2Vu6-ml_wV4_npTEKz5KbcOrmI6N)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oEpKzbexblUfm5YlY5TFwVarB90xEfKO4rptzJqpiBKMrlHXH_thRmVIGAqfGLeawSelOFuKcLBAnc3WAO_YrwuwTt9m3_pnlnSm317Q4ryNR0tUhiXbCpxd8Y7OwfDXrmEixTNYp07gyHcH9sJAoumajV1ml7WIXJi1A_yuekzspWg7tSgWJWWbC6kSSNPLSduV9TZ1bhfshY1UlGcTWxF0He7BiNlS8mHHOfeQbp3rDD_er1ex20YyPB4sjRg4Yv99tQiiy7KplPz28ELrDJLOUrA_yM6Q1nZwxB9vXNCkJhP-TRVAD2-UAZEGhEzqwA_2fdsDqWyIhm8Q6UqB-eHIZS7Rzb2MO1B90aY6h3cVmCX0CPuMz_eu_AX0WaDxcAjxsTmlf1G4BpSwlYNyDzDdXWrDan9g51NUOX_MZTpCxCTD2JrGe3B3ay6_VTP0-F9i7pyIcpFFx66inZZ4_JO4aRId5VuRvZ0HaLs5_ji8hZ4slrZddPk7x_GhGtRXW9VAZRVHLfyEhYJl4wo5ory5tIn8o4-FrqBaWa33-HvHRzLHcoBj79YRNNdmLgRZxqznHAPpvF7frFIOaPoqij2Xwe6_KgQIgGe47Y9SFogfnlQSLv1NN24ngLX7q36xJznfWN1XiiL4hPF9o-qFbqEcGyiHNGpkHFCH7c0XJNnYLRvEKKd6dY0jWKCOny9MklUcoB-7wBIgq4ENNUpngkHujOaFP8dD6YsLf7sF15yMVMJ_V9us2J7wF8nLkhf_FYBQsOoZ5p5ysdYOl6iaS2vnUziH2CdfNsff2rCRqgisPfw1jn7KCjo1IMZCZBnnQRzCvJ7GjuR5jy8LFy2ZpEhkiHwfj30_JB_6f2-paZ-PsnNd-XCmTOzfD_5ygpTjNUPTSlTnQUKUpC-gTADQWhyhr9DVtQfyzQ2UfVc-Zbvz1mrhW4xdtUMJQ-H7UJcSSv8t1-AszDAd6xJo5Jg0BUZJT2kqFGS4H2OCrUKJ22L4b7tdGCjeNWGr-vlCJzagowc5StDWXkqZhhNbjvgLEtf2BH8PHG9IINtYpAW2Xat3IX30wqon_5f_rdrJo3kNzKVIt2C2fIPDEr0NCfw6WQd5kWRrBVDfAruf7jfvZk5_KqAJFid3HsTJOQRQ1XPLFVAORuiGmh4gAbYpdW-j34J_RV6SKx7qqSqtBad92PnYPHtA5VprzV2pzcfIA8jmeOhfqDcFx8tFSRGnN8ti5JEQrbW-ALxeAZHDSwISyhD7GXe)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
