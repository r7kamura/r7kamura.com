---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oHgcL6jtFNkJ6lEMLX7IdKCTtM0yGlP52M5cwhYXYVI1GJX86P_4w1MrM-MPgl8V9tTP7eC65p84OYFCF_tB1zQ0_BawPXx5DZHPhg0f7EALlLfXPhFOcR9WqepC-zWcUCtolk_OZy3j99j8XtCYvbz_RUSyKR9Zb3rKuawnTU82jGF_IXo909TtpmHgKQyze5SvIUVnxM-i5s2ii-OF1018TxUgyq00_s8s34hivlQjsSCLXqC3em1imuic34kOcSq3va3Fz1N9H1uAskRNDv5gY27qvcxadp8LS0fyu46t3MIn4mqlM9MQjSqlUn6e9CuMYBoycUafvTkWFi_Xz74_KZJi52MOD-_OY8dlQNaiZiE8WjAdR0kfQPZMynPmTTyfg2hydRQ2covQYUKhwLjVdwwKOtj8Vv2mvZeMxvG5Ner594jYpRrtIyBfpIHkqBfP2zhXTqb-ugCWn8z2aL7sOjV9jfVthOaPfQQQ0qHu25SQFF2WHQ_kFy7mTEJFH8bh2-YGlUHRttX-We5OQVAFY3kQiw-O9w_ITZfDylDseMA0J7E3UuO9MoflubZh-zuX9kG_2Jo2kfar9V3skxocDVEoUFpKdVjazFC4B14-Qx9jIuELidpdk__miDerE2rNI2BHa9O3K-XJIihdDRnp1hT95jCUa5_-bUBNI2eVsMpBQOrYipnDuGGK_9YZliYzY3NUqsVB5-HoETebq8O9Z8jtoFta_K74BcpA2FawxZuWoXODbbKB-Bqym25eafzcBGTAQ7N6wr9ESi5oQGh3OaJvL8f1hsCDDerXBqyuA-jKzLZPSo0tRFQ0lD2SMIxzlarAda-yI58f8ssyWfgOJjZRF9wIrPzUOUOwetCoN2BpZBN3GqWOdRIrI6D4adsoJK-VJcNtsXJgRwHH9cjYOMgeeV17YsjdEE_6bHQvQa5k2Z0IlA6GIzXaKaBXobX3872uyxsJmVCYNQA7Lhm4-kcr36u8U84EMbZt_uqHpOX0_KeIhqdrJCMq7ElIIZg_rPeBXrr7cpor9pQhw5a0NVnMXPLYsGAFN6E9Gs_dFQNqs1Sz6vPW_t0iKLaMOiKPNr8cvhGFKqplvRSWAmQ1bSXn1MLVocCsOu6vbhVKOLfpnGwwaZa0ETk96jw1dWPopCWYF1bU_4QVKRuOcH-4F3Med_3fv8Lv183zpukK5N6dcgWoz4tVKLUA0Mng-T8RvnxCIWwcReYSZWJtG9l5-XuKVyFQfh39XMHPOCZop-o)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oHmrrSCJFFk9UQPzP8dG_R_ae5J4uMOsSbPMDP5mrD01d_oR0Lpu9Z96BiHZdynZ2wpnDVeb-OMKKxr11NmuGOf4BeVJ23FhUEozu32uACWo9sVzK64Vze0GD0MfGYwQ3X7uKsE04cDOzarCJAZb4CET_MunmdwIvjZuzyNwMyhdJfm7wTEuB5i1ESBtCHloJxscgfYjmSI1ZfMiHjGgijwrH5qXJfHYqRQQ1EPBc7KqXI72W-uDaKoDaK_1rYyirfJxrw0_bxSUbfFQFUPrQZL8td3zM45IgYLUQMBiKzpBw5qFHEKeIgtFFKn2Kx3UoZgeflYiRtrD4qkHB_PjOFGo8fqA-3EAsP5svFCl_6BPEtT1IzAoOWJmKND3d26cU3HxqLK7c-HBr5EeZLQ2FhJ4nN5tv3UMnJdTTO5To24RMi14CO6b3z6wOc0WsqQ952yNbKEeZEH80y-RJgFfmewY0mp_NZ7ktYXqN7VMytOxH7kvMqCwg7iIX9aMYlJgrDGLU1bhQ2YPV7qdzGZGF-X2zU8PLbRrXw3fiOms0V0EKMgR9WL4cBQY7ViR7jhkkxm3YLt7M4Kc7kvdOar__jHvBh61uNzK8YJ_Cwpz8B6UCZEQ24lFn_s1YDtUs2Itdg636WIecN2JlHudAk5DL_uAIRRqzV-LxjxzYpNSO4e5FUqe2nmyrvHXv2kbbuIcaZNh8i8rdmCnKNpwM4-xitxcq3nO44GcqDxT1dx61FfuTL7krhH0eYFyuJmdhUcBI2hCbxveXI0ZJ1CzOruTqm6rCrULrXdSNnKEcvMnIyEqKy64hCv9OOs0meNvvh-uOOK8tMTj2LhEKVNiUMr3xygqS2HrUBIO3Kov-3ApGMKsBBtnTJPssOTyQ34qhEaKYFQg8M6piB-xabIhPQ7o8z5sD7wuLQ6-75xbg_n8TqFLXNeU1ew5IfYOBnp3_nikHPwBXI9Mu4o-WxZ5X2bqxk7CWwFLbQqcRxzn6-6eZ-gQUIqNBhkdxMnRnFRHBi5ooM6Uly3g2cWa-RNmfyphzSc9UBIesU3xzszqkYPlfq731AVMGtuYX9rK_CxWBtG6qmhoGbxjMbFseOQgS0fEwUI1QIbkoSGRiQ2xUpb5AzS0Uj-lWxdt_PbUT5d3vABYZ_pm2XKJSnOlvSOD2PZQ_5uF-dM18LdkPO5NebC3x7lDOygA911vd9hAtE_mZEplwN6XnilPNXMzEzpNGpZ0Yj4viopEWfz2lWNSt6JW181S7XP)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oFYkuQp1jE_IirAPZCQV3OU9jq4gDlKyP_EbwNCBGhJbDrM8OPyyJbDXKG6DAkDUx4lbmbDjbSzQJLvqKSKXM_g1WZ80uVnZfJJrr_9TAIp1f_d37CHbsIaZxFh1jxKvZ0HWamYKv1zZGcoDKVySmo9lZIPj21HkEjQz8elmzqjJafVPANKqqqBGQ3uJTkLjvsN7LvnNhxfUIPhaKNg2HntlPqSg0Iy1TT7__1_yiqoLkFyY_eECuMC75YKl7phlk9BnN5cgM60njq8TudID1xJAgRyzXlR5qxOZwkAk4cBp7VnVGIdmfbvvSOF6gh9TJPdDGywNrMdizQ38_gb0I-Lk6gbgmfAJixyvOOdlTelKBnrff88MGcw4fb_8PhfoUk1gcFrkFgixJw2v69XhSmyv9rSODdq2kQztFbbkqvKMpUf4M-qL0DbJ6BBQo8rX25--U3ZdwDycHPHonz8eZHPMHz6IyWtKujgZ2F_jNausLuevwwA0meOXSp2TGVXMsjx4iTRX1fRVHQnpqczW6iczZMwsZ-xwGO6_7ZlriFgVEI9-RSyQjjd5Mt1HiEnK1Hq9OHBPj3YkLqhaOvc7fOagZILvTcT8sv5y6C0iF9qykCTS90KmOlv85xmEim2Z-CkX0rIGyGlG1fdYabnb8y0goUHEwxSNqzuf2GzDS3sefQhFmiA0nc4QiILp9qjUL68Kaa1zUcbJfUiB1jDKNvKjJNhDT5mFW036Pkuxx5fMegtMfiV0YVe9VG_a8wJ7meZfq-4u47w4LEwAbya_YAwMTAR5YI0OAOu3p1nXx-PCvofC37s8QzzqMmf3XFQAHifEvpljfMT3MufGNZW13EhucVOkvccl-MfYvHD4wKobsPrJbCWogBLyCtXko8Crjtn5aRuamzMFdzzhtD0kfFBrwTADuJjtYlG8ZY_SLXXqvk8HFn1I3fmnuM7b4rKtwE6t1N870VBjJZ-z82MfogArOnZNrs8qWdP0avzUi-AC9tP3mxywBNIE2zenzSfyrGcAjinfO21Fhd1r_8qV0Z3W1Kdgc_34g6ac1qyAvU0G9vGKQheg9GBBxKpDt515UDStD5iu-MTON_zA32sHUoPqJGpoYEvY84GrRql3HqWd-BDC6uuEFVqZR0mIWicJodwaOfwJTvejFcJptCngAyDDPv7ZJxFlnNP7l6pTmElPv7sp7lHExDJtuhyBuGcLr_xQO5-gDaWi0I9WvdME3BYxQ3Tz54zcKi96qflfkqXfBjo)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
