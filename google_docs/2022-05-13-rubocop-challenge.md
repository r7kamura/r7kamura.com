---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oFkbPR_oH9W6TsKuaaMqgGQY1U0vyIlu6RgPiy9RfLR7dklsSS_itu_UabH_BKwPAo7v-vV_ogE8ZG5hiXlj8XgXyKZ9_4rsRqq7tUrJnynLbM2WJxe9GNzvfVWrEPTY2xBY-0IJFRD3r3uGXx6RCwLkABjUhMlf5hNC9GMHaP4KJL9Poc3CwNCKAv0jelfzqfZd_r5XiMzEUqQUHfkorLqB4vbjGBCtKHA1T0HhqSOsWn8z-ER7p5ysJhxQsy4-8sHSfiTHM0pD2gyzkfPt4boyVLwHZ-Mymq8kyRaSaufL-73hGzxL_htPfEJ4o4hutDo6Frw6GKvNV3Yhz_h5kIWzGU81rWwh0cUR8yWA41WTiJ1HhjZ6Cahth8FlpIWwvI0Qm09KjX81IsYDehnu2kWZlYI1yRlqvX_Qoa0UxPsUoHTWPG9kdeiD9Qac-w9VBpfWcBOmahpveyA6k0XltIzQegANSDbmCCsgC1NhvIltlUHXsYDQLKC5WnWpOYC3DXYPG3UmA-5ekzdKwyntM2ZOslYSLAqyelJaiefZq_m_4GiINZuvQfEDPgZS8-J1fy7IC0AQiuRmHil--E52ZYcLnqXyyUUGbE2Y3Ee1QgSEQn56PXpcV7UacZ4C93bbnlnuRvOFHvx1ix5kjN5v79wrVK2djxiWb4gOMsrn4Z0fN1Wy3DFmuiOFgFEhfgdPBpXXfrjfScnQ4v-iN1rrHCUt-a1nEegbbdGrgA27NwO3H3P6GYJNVCqRBnLpP-B4YPB0Uq8KV9WxeaWpvqu39pFqdaTqOHXFdbBNx6GzBb_onxDgJ6kY3LIyLjGgwkBHQBZMfXaiMD3C2B1t65yGHCzdrWKzsL1ITz95niIQ-3V56K6zXSUaf1UzyBVn833QqvEfwZQNsHPz2yO-F8EJDxfzQpBKtbGsVmZwJoSDoM6mxikwFoRY0ebKLqfAdy45O1wrEP55PnzX-bK66bG-F3Z0-KEWlcb6q9B70zksqvr1KCQlUfNHhO8MdefMapCesFdSM6Yt2q-pSEluOmuGdp5nlaCfG6p-90ggbtbf5B0ruG6Xs-YG3Oe_CfZShnbrx7K5TZKbg33ppdi0ifRrA1QUyQzvcI03LGByJdg80d2Ef0oDdqF7lXp5yJ00-gG-tyomDY-ClYsCLmp_1GrCnhxrGS5eb1MCO36lb0fWxcy5ijmaVEY6gUb1nu6kKQxsnPQOaMG3B7K5X6Fg9VGBf0NyUsaiz5sakvSQW6q_y9xvgzH)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oG-yu19fS6gSTEFfGkzGET96DPoLa_vfc-EvPiiIUNiDSIv4u2JHA64_uynzu9o0-Q4Bx_FivCuGTQlUkmjPpJYP7vUEe4HQ5dEx2gyVzBNAc13or0xHqouNNcMWG6H1wrU5tNUwQxaFXMNvsnihmCohTg0hGVzGoX5vBK0rOI6DmUck_ziN_EXhu7AUQC3oE0wYKnHM0CUudtPwcLPMccMm7VbSmOvtimr5frSiXv0U_y-wRbCaV0yjZ6wYi7qYaczqyGDh-zNBajgo2oM9cLBPdjQD4DQ8CIddwnFlogmb-Kw4OmOHR3hbYlmcrNkJLvDJDLhbZfXgwxKvcgFx8FQu7dj9BUO5Av5y_AqS70k_-C0ugCUxrjQfK3yx4RF8a8Xs0SnViVnqjm5QHMO9BjvTEv2zvSL4o3CipWiBJMErclfqpi0U5C0GUkYzSmOBnNLr3nliibIaZmax5X08nl17uHKk95JnaAQ1cDBAWJNLphLNyxSDgpKCUbqVi1Y8LH8lizfHaUz4_pNUh2deOED0t2pjmEsMOBfZCCaVpDF8yJPBusT7tBD7GxTyQ0biAgN-MKsvmly321HbnVURUfuroHL2Zn3lFzNdh2FlfI6JFJxQto2WvdzN3_fqdfD3Tgbk2oie7lWJ3V2rBPQcRf2i9oNoUlvTKBlWvzfPMX2DmOeoTBQKZ7TAy37l2Y7k6Xr610MmBSJWFeOmbSKv9YZiQxZw8ne1DMlXs0AiQ_qhlUJD2K_r9jNTby-Ppdw7iSzqfV4PawOm-CttOTgJ7m6lGhYQsakFsTtPvAZOWvtGk22NxhFsab4vBdsRD6CK7cM5ZuMCOJ_aUtV7IdVy-Ba-i9LQFYl_KCu4lR2AwMFNLwfeBrbV0gte9DOBM_WKbXLw9FDfhhOAGu_a2Bm9_Uw-2HWdZCdblM8Ez2gi5q3BT0mg_20dTTCOPLm4javT6XVg0OSb39RimCL8diToEamHrDRay1_aXPdfA-F-hxhgYV0PycmfqzDwFfVi9TLU6zE5aYUsoVK17P_MtkWwKYqWEmQ9R7vz1kqt4lWY5Qs8zqk4HVtZ7blYBbjm5eNuyPSKdsCyfud1SSzoFqfm9kysjcl9KObfUsW7rQy6VMJP6W3HOCCqUIQEggkJW9kFzXSZOcXhUavyJqEWOL_LQ8XHjn1lRin-MRDgQm7LyijPjmLDT8nTEBUIckMJbhwnEEnFAnRgkdIQivVq4k4ved14BdXlqhzp6fexPcuuKHecdaF)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oFGFFVihi-feH4wxEHzZDg-obd32znxhOm1oA1q_SJpGzEhAIaGn4uY-oT8GDPbOn1cmMGvQEMyb_VDUW4Kn315kbucpqTDuurfTzLE83QOJGRtokJ4mNf5yWHvfbr-W46dhsnctb-R9tjjP_lwj2YTY3q6dvAst6yCkl-6dQC0rIqp8IyOgcwekV2HHT8mJx-HwYhR2rHSZRGF_wWp9f_NX-QqeE36dmzC_1QwxmyAAF4vm_52GbyhNNojV6MwX061EKAbIueh5YRyfQQlt92UEoOd0DSBBeUcaoF5_rE-MxFmDrobzHfaAamMxRFlRa_UVuukNYfpa4-2bduQPY8B4NLUk4hBEw8gf66eJJsalP4zVSZ0MN7qghAll-MwtC4s9owWIUDbFWXxGrgDB8469dTmTX6mihrt1GqIhaZ_BGavnCnVV9nbjQLsEzM4slrqR9Lm--ToKLCtZxg-LfkNXN56F_kRvJj5dWg9zCWCQ6JC3UCe8kuCZEdMi8C5Kp7jBqaA15vjQYdEzEtEsIAPM2eCIkP0GEqRVDPNkAZbWB-3LNZ9n0KTGdrbagN4Kr_HCHccN9jno_jQFrhzK1dYKCKfRsCfan9kz1LTfI52UtusM69XboIY_339U1FaO-OE6YUv2JochWOkEEDSg9lOPeiMu89us9z58V71eymFnaAQl6DM-p0YzaDXtMIYKLTjY_z-6qAY08ShH-Y1fIaO5tjzNBpLImzf1C1yJ61G1-2MYkbIW3bQLJnqEmDslYm9AiSkPrYiKx8EOUHCNW_bMBtAqk_s8wL_Y3L4ewGcMt90McJ20TsEgZaG6O5zRtyzjuF7nxm-2VXZnw05_So-ECUgcpe8QMQvgZ-VA-4RJP3P7vODnbleDG5H9n3LyURNgauazPXE3BGGGD-D1K77Flax0cjmYp77d-q7DVoXHZe9eRppYZZvZzvOeoVuEPV399s6tXD7s7byvBEXjc8HuYclJw35Da3DiE6Wql0k3ebr1T8jEmyeRBwNg7PgWFRpu8R5zpyC4nURzxb93x40rDUTBH65kFsfyAPwi4Uv5LIv-TuFs4I3LHa8qWrkyFpiHbmOY1eNedprlZr7v9mq2sBj8o8U6OvpepuObbyqaqqT-_mp3xghy_ZLLwEupCoh696H95mzDi8bRS7-wUr5rhvt8AM3Ra0PHR5rLPENTo1m-6XSbjHJK2QKW4r6kaEgHbrAUssPBIcIH33WnWf-4NesRO4aWUcWRpkTs4K_S_no)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
