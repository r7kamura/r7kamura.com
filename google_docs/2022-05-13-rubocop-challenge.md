---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oFk4HvF3UUUZlMBtTs3enPkB8gSAd6W8ne57mwew0RmVAWiBz1HwoYN1-skDXSDu3_9LUvrYXRtOMrfDUrLLsAy7OzY8o2E4peemFuHh3k3oj1-Jwkw9dpnN8rLZ6yViryldM8agtIgb7_ftNjUyO6WIXEgY_9JDo_Kp-gGT8PW0a4MRmyHWZt7OCOwBQWVjCb8alNNnmMxI4L41Kaj4Dii7SFWaije7-FwCCnm3Ka95_PaGminpfRoMOaR-q9GWvbi1Z1d8-AqAiAfPixAnCBbmb0bVY2EDho2v0o3m4hdk42pzrLnZ_KW_sOq4BymUlK-FTlkHVw5VoEwYB6i-sTHqflJeI68HAWOYk4R2WN59bGmrXAHgt1hU7NALoPzygjA1NnOZoGBRIQXhYCzVYcS91EzW72zWFwHgvPhSsbgNgoMDVEIvI59HL8PXQo4zAHagZOWAsmJXCIISlRhkErl_cn2A_PHHOEvxmZjLIBaqN4J6RBhrDUi58jFGXo4dnWN7N2NJvC4hYsGXKXtW2SDYTjHx8IiO_s_1W1_mlu2CNiDBC2poUqqXb_L6nxzWx8f1Jv-jCQcEvuse4VqpplqjOu0Ytrdh79FoPTPaqBM7032njH8Z8xolef9RyX3f9E1l8_Bxu6HGRcKfMEKzVMZ1FEFLKySr06UXyha-t_LPh8S3AHbD0zPjaXlc31ghs5CTmODTWGI-fZjdAWhfWWaqjTQ0ankp_WyVxhslD8EAdqLtfLfXVFv0bu8pERrXEQrJp33Q9oBK0azRzPiDt5LzO32MR6PvkDJLInnidH0fppBWz0ygFZy8fs5zUzAizU98m4Ln7PKRpelDgbE5Ispmi2dvNi6hfoCZuuNoLxJV7p92P-eX9QRZsFWzoXVtmecJpRfuVFGfp59AWXbOnsFYsTQwufWbyWSZNB9NJGjxRskh3k5ndUITQf6wJqAptABzfafHVNqt9wzwIzESYin8YQdZHuyYSGTA2vCfTSFpZ1yA_hUv3CcJR1rXWVDsalqXyYmYqC8r51FfKAZEgZeB5qBPl5fV7RUzK8xXh0ZOtrGQLafz2ww7MFUCjueBsnNrm5JJI_jTBot7_-npIOSvoCWLiVcjoDReqw752qEKmw-IyuctY2NvUdZORj6IxWeXQJIs8I8ZT3If_xj86AHkhpez6N7haZRXE6BSZBWn0K0IJJVckBH2GVY4koRC8X2QajtfYT6XNCfUYlu00F-ma1450AMCkxesPRtvlRC5SQM)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oGQp0VQTzFvWd-mKshnMJyfhv1nWeb7vrM9ji87jTEWzpEewiOc69H03ptJgcqQVN3M2wOvhWj9-ts2ZOwLW080Tiw6It4aXQrW69nym-TFeMIPN0ERFRI95J2247r7ZdS_ZUkgruZcgmY54DZC_l1zULmc2bhi5zahgdaCgJoQgthCCR9CEm13OaYhqz3tkRWBS4sYl3dTsjA3_4DWlVSLP8vzaNcyKdz5e2yGAdRngVPSnEZd18XpO2TZQwABKPG3C-J6FzdjDxfCQU2XT_V-glklgU-vkr9J-uJDOzh1JLzvd2XBr5n_Q_1agnaRnVy2uJZmhxrEUTMwEzS3_qfPqKfWjcIFEmJk64SBeec-EsYeeRDXL7kkF-KVtTa5CxlZO7JMicrI0cVM5rtqCZVbV0tQ5fLRpGf7hNsoFCFTVVeRbko4eyeiua-tv7aILJo7sbx1bdT9wNAr9wQwJ7e4lS8lDpbQ1ac7UexpsrvnHmzsoYMXhrLKoRtcyCI2HIrkpV0OhQ6WbnOcZ4-gGvFu4WUqp-9qWu1HTSGU_BoaXCfbOwTYoaeiXJs5frfsu3jcnvXYhX-_q7S7KOVQ41sejMlFBTr2UjL3G0KyABeGBlLU0kOAqKyra86ZssKCm9nQv19XLk-1IVKKJol-xfscwgWYTbht-1sRzMzdVlinnDT5QWydikC6-qG3_cqrepQtbMAOgLtTa2MhpGOUvB6bv9_2cdugi74OkEKRa9uJkm0f5qoVdxC-9b7LjAZfBScu2Cb2omTk7t8AWpXbnT6Z8GIDWSZhjLZ8qIxdwZW51UmaD4G56ujDwr7ahL4_Yzcf5IkGR3tYHHZbBfYBtRIJVcJtIvV7v4D3EYIfJX4LwERBL-DcagzQ097Mmq3DlsGDEBLgW2PlMxpqJvIOJm_HaI07RaLEcDGkdb5HkMMkEyofS-IuHzAKBF7XbdVqZa_bfZKSTQxgdz8FvTDNizooEImcx5eq6mA-sD0g1XKtyl3iTFoDkW3cKkSTEYK81k5xxUj9xfHqj2c7hYOvQmh3yCbgdSEcyYJiPPbiSMdaCaxViKkFhqN_b8es_0khCHzgASrrekCfnkUr2U5rNa2nb0cu2a-S4qXX-kM1vrAADwv-LhD9lOKLSxmsICYPz6wnvwg0yK_wMqyRr0RSQlNJ_aL2C47MSOjcLIruzgh0uF502kY09rs1fYWFE-cgCH9EcNJ9SvC1ZOSH8f43wl6YwjrOGB-2kuc8O9Et3YIVvkgH)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oHbfWXgoN51KqWtNbTuFOvmHTnIalJBGiz20-Qp4WmN0Zx2RuFtXw-BM1kMNgUV53Z3Zc-VE9kF0_KgJMUUg-lGqV3X1Mu3YjEI_7UfhLlVq-qQ7jpJdufVr2xV44LQ9kMhCyVQg2bvvDyCVkTx5nxnXckDEXPxkWskxocohnA28men5mmaKZcZTyq6OLjSp6wqnh_JBctWLmeItvRDi9lmYV8gblcL8yGCFF1uzUid6ANRX7Tl04QYd_CZiFFGfOf2Lk53yyMy86lx9F43RfFRGPjvtH5poRHe4ChvztaeP356wkv-L14RmiSdb-PudjwWKtUr0aEGjqpPtMwFZ4KElhJZo5QhgI0bnMBO1nLtblTfFbiOvqBR6-WciD3kidDbwCw6lgMRP_ffOv544Gj0sT6mjCm0xm4rnB806oGIoXL_DPtEw7PPqOXDXZLDTLt2hk0JA-G1eFKhkszoqk2cQdNNxMj01ulEFQd_m4eAsKdsw_XucvalCp1dHoLYa39KH_MTfGHJHdaVB16QKzBZExEpGTd70O_WD9trScfhMqUz9UBFrYLcSljWLQMT5CU-GN8dIK3smLo8x3ps3fPgfw9CDxt_efMZCNCO_kzkLf0YEqsGL287h813fyz1VkmvGtf5FaYq9i01taalrmD8oB1ZmlxJMyNZjL22-mbeBQngDY132-abJ8l1r4_QGBt2kc88h5bBgTVUzLfLloxIS7HoQuVw5z4AyI0GUTHUw_gkIE-W2N3_RVhPa50wIlQw8bgfjQ14FZxvBVPY5AnvTq2EJ0elarA1ftE8dXoNPx6F7EdtvRCb9MhpBlm9QK2X3CjxCt-B7rOKLDDitbS3TUCfmRla6qkOQ597rZDItMscHFfI_OwDowPIOokAzonvDrPWNeMuxxjEM6sDcTs7Jqrkz1YQQesxDqk2rlWj44bLvBeeQ9mRjj9pvJ0j9zGPMZzA-U_Ac95vU1qGFxdd7qC03H-NQz3pC3tEMc54UvM1tnqeZjpRrZRAltcag0cgD2cSKwYmGrOoSO85wOPdRRLifWhFja_cXoIEPLa5QTbeMwo0WJtuu9FnKp0lSIEc5fX8TJ5owfFkjqGLdWOOnjrfvNmpJsev6Qi-r3jadcGnhcdRD_GJ5MmPLvZGyl2Xjlpv4qfdlsNezXisgIEeaJgFY5CRl24DF4E5fGIYx6f9WxLgrGNiXXc376G6XwWmc44zA35fBMLdqKKjs-JphGbvm1DQNepDjWsHFa30xF75)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
