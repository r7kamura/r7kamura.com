---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oG9XjeCMVzLhl-k_kGKPgVzQ--sQanb4Gv51YoWQsWgmFWdIZ30nmkBlMwPZXHo-OFV5UoGNR3StZ7YwBMAkR4wPPqmyuxZ36qc-FVV2dUMGnZ9x90oIqvN-r_K9XJjlmyXLvihxj2g_7fmCpaohNqTTUhQHDEkHNt-F5R1sTg5TY0AblIYz5FhpYCShEr7Z5pSOEnsnnVk1sk82L2Kb_10ztw9UkykTzS6igABju78TZ4dQCmGLX-c5ypBG2kmTLyN0xkwWvO1DMDCU6u6LbgxjVz2I7zuKD7KKLc9EPwrRSP6O9NoTWglKeLNHZ8ckcreqbr1zkM7q2l3Y3JjI9_BA-krrjZd5lN1F-7qVIEmQVUAEM6got4ob5QYBjZLmrGxZKCC19v4MW7s-_BTMm90c_o7AW85df4JoBYgTg_ZoIFktvCTQywF1mo7HJm_23KayyF7c3-0LXsh7BNlJd1-_HRAdasQb2blfrABJN_34XI8ut9V_oYfUdqGWV7gt3FPycqjtcq8FZXJ_sKMaCXBPa3-mb4Z1HgMzSQ7I4BgPXudJ4kXPw-iLUQc0QFlS9tBfoGBIOFYyiVXmX81gTTEie2OTbQ3tEZqhNNwOlAHEVREVdPRaHfJgMcr4Jl-5cRZj54ylkEQh40utNkaD8K-EiO_kDhjkacemoQVwqwLRBxbd2-ksztyg0EJqr9f0wpr-essP35zwXx8WMFZCte2oN0K6aJKSXB6iz_VJVkkIxV2KSVofWAgQNevKVcbv2JWjfwyFv3rSTyaSi-Up806Pl9fgUGszV0njQKYFUCRmnFbsFfqtcvQgoSfXljgIdA__omWKUCymFOIdBahE84It7DU6OvYmrtl3s-d7cJ0W3Y5cKsnCk94HK90IkZoLK2Tn6znO5epGC-JlH9cOXA9D_CpbDMP6KGGVohd_woNXC-ikvBhlUlkW5pgGlFx0hEnxYe-snEWQY0YZigiMHGwUsd05U4XcSpSbAAafYeKqkVs4iapQxbpPLtctWC9Qe6SV6g_95RREEAV-mPCqkqXs89gyN-wYasoJq3gwFwgBBdN6e_C1_SOtEIruJ2xzREDF78E4LITmb6nkF6urdvcaCmvxN2GUR52ulocsmBWuXW2pLbrC1td2K4VCsH7wT2zTeJr3h9W3k7REtklNLikGEJu6X4s4ERVmmppaQpCzOOuVHvcpIqj2kvydME45A_kQ4e-XP8AvruB2Im5ppTWu13biqcz_1ylxRSD9NZb5ysj)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oG7Fgb_yqi8I94fF5QXcvwsYAevulukjOTEnbF3ilap-BZ7nx3FUzjVV7v_Gg0xX8Gg9Xe2NFJs0Cpk8O-432sFTPHVRg_5-fmHBHBQHsG1LQP-jXzWTzV4G7ScXvf97p-cI-P-J7i_9YzihOEkWMsQ_JjLRx4xPui9YkVdFYvgeGZWfJ-iMwfI5Gb5QcfawFmHW-RmW7kZ457GwOcXtgTVY0LkJ46zu4cHtluL04O1qK2WfJk2E4CgREDV28Z1hai7VJiEuSv2bHl7VnSYspMLKxEaTBk4WQZtQCNQh13ZAq0jG8JBjAF4pEnLgo09a11TQGOY3EtvOQNve4LvGIaT1wMSCbvmddhJ_nzSKRPCixIW_2ML9TASek0mujTvWjD3izRl-4_m4xKhlmi06HzosQ1XeeBPkvyp8LP_FZtIMyOzZs2HzTmBt6cu4eU91-PdVMBBESPtwqqHscVwMO3I7y-BslEehtkpLkYEesnbjBPGvQ-B999qcpmGhKKam4pahFt5L-xX3ae-0i1LnPSlofoIk67RL2PYBERXBD_IPYca3naURNiDUlfg8AdQr-_UnW4ENm3XFvvQLUHroxbiAAHF2WrqN-jEeKK5djC9-sW8y4Vh0ByCX-4YW4iIR1dbHnenoU_z9X_lX-0dn6O-ZNjz2y3vsZ2bCQQ8rzGSBmC3-ihxhi-Vh-DmCGRAytey3VElGa1QdSNkOp2Oq05RqS9l2Tf_xMAadYqRkj5nMe-6Jol04A6xonPyJxE7FoZroPjsstDQs846suxuddtG6H2SrfXwgqXxyggngQH8hNcJM0StoN1Wxhgd7QMwjheR_jqQ2xaaXoARi5tqQ2w26pGjPxKRPWJE_p37DkciT6F0ebzqpd85RVC3pPeznZ38kCzibLOcbnJJjuKlplrzb3Nq6ZVWehpNPFQ3gX2NonPF-NAa5OFOFslfUPmoXPd6JQbOIt0wvCErA4g4OBdM3V8JRx9lLqIdYUOff7sEpXuLBdAj5UKvjtP9B7d17IjipDjkZkkR0IXgfUg56aNSQfnufXygt4TjYWQw1FeH2NT7bLLYwObqiJalXWa86VouftVhv27fJ2mBivqiElW9wKVD5FFMkvGdgIpaBFyAnecnfDSTc7C596IPWobalRXUPmU7ow8YlEJiPYct5mCa-CsHpIjR41BlBwZgxdyG58bd6n20JOsKqh7e38naF7_ZNs1LqLYhi5sjXNMUuP9Ve9CFDdfIcB9w17qxj0bZ42wf)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oFYfSZHf3FCXYkNdEc4CX1YnppdqoUDHRBjHxaIhD9z5xQwPi78w1Kxd6BAi6jbNk41Z1ac_SFZfWbU7OheBnAzMdVgFw2DeYzKlPVRwNOa74RXc66698_z3Qum-HjUHalSO9RoqnyxrqSzXpsUOg6pAOnl1rDqQhpi2G4OGBqFdUtdH3rE_7eyqxDZG_WuUJGYKjAzC-JfrJ9hTOPmn8uZDjEEvL-Non-VheHU6BbqpVNueJ_sNpO7Kyh9O0GRLbx_DRydxUbSpEZhecXn-xqzZ6tn-bJDwBb0EXX9FTADzRSztgBvQ72-nt4-qGQA9_hS3KkmjjDQuM4XQcRfCjNzRtcC28n7AgcO9Lj_CPD391SHayH2axBG9b-6tD-c4_z7EVVS8GBzlpuGt7WXfvS7L6ZA7_ECuvULuccoZJQxz1a4S9N6juae8NyaIsDD2p0zpezvoYqNftr8S4glEm_Xr_bGFDJd6TAhOcdxNybC_dx4NFkxQVs8SOkZGNqpwo53D0rflWSCVngoJvzH2Z_wh-_2bWhLXa4qqDptF33S1BIrp5GYplK6Vdd6ByS5LvUczmtRjIYrT5p-aWzsbuJBer5zJAQuot3UFb2W6s3C_ZcgqDzkvoRT0zXbBWdSnG0_otADamnhGeXSNaKpmCEFdwMsVmLYXT4T3M-2vM6DjkYyPG60846eyUcgOc9Zcw2xooGLuoJFoPjYv8pzWhlXgcGbEsvpQiX_lpKGMlFHzxGgUGOE4bqQvfQ6XdeXx25al3g9WhocZOlaRjAt48PmVcO_V-3PD_NadZKYTjJf8RBPD0K3XDEWv5gfW179SCdkJM9r8SgkRt7fJEukdQDqpOglP8VLxgHDLt048XQUh7AtjO7nJhPEJNAdqbMYm_M6MpECeFtdQ2NrQxNMfCJcZ5hhTLIsXvVn7lHM4XVz5SUsL0uzEJEuqbR8aTcXAViUA7AQ_tq89oLsnCxFXpF8oHWMNcMXKcVHlSsn2QUs73_z9c7CcjETkBqRZJxNlo9Mho3va85OhlpwtzOYBh64x8gBuKIVasa0X3kUH27t3Gj22Ysu6xNA-8ZUrad3M5OeU8etLAGu9yoC7Koc2dKue2-4BCDbz5eGxPccHviyL_UEan5AKSsmOORmSk5tp_J_Scz3-cwlbfXKbPAJl4oU7vfuuRYdxxEvcAUW2N89DXDBb2o7aYL5AbRM93s5MyXMEheLeURZKWS4gfMxvNnbsukb2mw5jONisAR3iTxZPG26)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
