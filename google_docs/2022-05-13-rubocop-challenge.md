---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oGJXuZT-99stO12IUCF8032qJ_gdMpuUXqcdy5FWXuwqk6m3J7tjr_7d2SYR1AbcW9-fA66AcLAoI-B8WPuxSMVB07bQP1vUL-r-cdizeXC8mD-oYwS6ptGa1dxfp95074pdL4qtHnwzjTzUzq3CJezMC_D-PNigMF_WYhvvEJvgiNA6S5g-ihTm7yKSfvKi_561TXu9ey4O90TbzGFmpaJpu4O_8-QCDfsXejkq4hQKivGhhN9nrYfBU5OEnbcvBN8bt3Z58IQGTlrEMdCTThw0RD2f-VXkv5jF_4QlULM0_ja14MpB1j7eokIp9i5zo9cPDtgCcHsdFqi6qib-aDumjNfI7C2b2iD85QCKdddF9vEvxlWhjSqzghE1-6POoB3F47YsRQdbuYopMgqttxEPJ1PWMOULOn3EFqnEdBJKXc35XZdgNLVjucZj_A_vbbKHFGDAd6aU7N-Z29J2rA6Fr-IMDtWtWwa1e_45FR1BJbPuxvTwFePOisLP9bPSW0yEBvK_UBy4SZVPdoPglNxbfRi8XPdR2qCSpJxBb9GQvo-0RA083IoNFNxUxyuA-SCa0MXtjIapTIprahMIZC8LnSLVIct9OduOpIibLG4k0BFJw2Z0mzdpnp1tBgMS7mzxPpFpbNQ7Clx9Ucm3qLioTZTrNUn5iVs81iDYa1cBPQvDsi4Sljy3KFhwmP8TUW5z3psMGRVI-ykTGE4_sAnSIKOD_NK1_87nowzdTgkwpI3V3i8h_ineYVDwgA2Bn5GkeuepX54_fu0Ppvbi1aWzQvUeKC0mJ01oRSrjFi23dx4dUwyOiNTFOoA6fZUoFvQQZGa4k5msc_8tpx8XeELIgxbDo1PVRX8kqb0UAZY1CoeOBzfbFh25rthji0Ka7YXSGBRMAfXMuH_grpjKxCi2w6c_DxsoRLx85rbcC6rRdkhjMfF9BkU8W3ohUa2jV2ehWjJMqp_FowraNhg8z5NEPVYTtYggPXDAwMJov6--spmLNkG_fQyNoZ8w-R_TfFl2qXJfUNU4Z77XGv-2EfNKktWSIc4ZIi3cSymIeVaic1ExdKc-fxU3a6hXgb3awD5pQOKI6XsEkx6TNT6dp9Y0fOUngThDhf3qas2pXAV90sE-U1bQXpBxUL8bhAjqmqHOUG1xa5FIbyohFbb6DDciOpBhWrlx85quxOOczaEGhhTJHgu6AwVvO0XfDMpckwavTpGe4m3Gy2Q-lI-Vz9X2xTwRO0B-hR2I4U5WwCPw8ZT)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oG4m1brdwO6fSBPBlCwCouNXmDal9vXbBr2LScXqVDyZNV6IV9Hipe4uehfSTLPMGsCW3ZQQD0uXpeT1Z4ftdKbwX7VxzDYWcarJdKfYVzmbnxu8564HrMBmhBRRtsrilw5zPRuG1yJMVB_uK_fDt_l4urf8ye-3JV7rwdaNSN2Re8s05dLXkOW09eGFoF1qgQtsNqQUCUmHezUACPOjgm7ZtLl1SXPoRRvmLdku5QoiMqMEdEanh4RnpPvz7I7jreEF5stoVhhSgLT7uag2AjJgppmQ3vL5P98nr63bm007rq1oVmfrOEbm74avJd3yfN7j0xV509MUkxbeS60N0fuvsio8Q1SF-KHZxMJBr-iPZIXPAlwjeQQZ6n6GYfZZSabMIBhxGkKQYspK9LiFBAdywQ6q3vh4-3WQzsUN9bVwAuNyOOmJAwUOUyNUMB0jXiuSAhE7uT4YF0L3oBteIwcH7HdU7x9s3X72ZW_jK1qru9GyAlshr2wCXEWcQOAZg8JrEZC0qODJ5JdblvqlgsC_vM2Wc6ALPNp4-HW96nA1Wjr78DM-YemXC9keTZxp9lFmbzOdnDDs4UvpSQCUFLiaF_yB9tP49QWiXVipyfNGk6i2F7l-erkBiprtQgi4fb1czmBB0C9SNaVwSNsnOg5RN11ZkoxsNQrVSYpLUoOlSpfAy4K7BUm84b6Ri2QaOsdycFhXWaI9bDSdXVMr0aAjZRiJmTHUR_yiW1NSB9gWLD705sv-ueOXhCXTl-JGpGly8zpF1SQhA1pJG9NhkVdU4bjnBN5XEkRFKdbhaPwXw445MPLXdlXVJggeRcfFESM0VZSObTRFqrI_OV2GrDptgKp1ZMiAJBDVaHVAuZIT8eqXwJWjjVP9cT0KqFbZx0DigQ99PrR1c2nzrboexaGvmpvNjSvEwFdWYzN-wz-yoMT-PxFMPlQEnnfyXAD40sgIb9E94lI8sTMnepb8wHNClnFJ1-OhMH0D1pLtK33qQ8bodNcg4jWnG5S391hTjsWFx2Xpq8xi8EbonW5Te2kv6pQPdstoVcPldlCuVldPjnNFCguIhMF9OooejHQ2bgc0coB-VDONgqchK_hcAcJwOUHK2dqDfi-4LAHO9mUd44n7A9f-GyUlADKmcT0mnNkFiz0bRLPlED6RT_EcTvfNlVXhoz7-DxcW5gQVi7MHFUr4rlxIcJhSQNu4dt4vKG9J5hC609YinK2Uc1qyXZknFMzrQM6DXo2J4vBrpWLRMCy)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oFICsS242Em4LYNyEsmX3uKuZDpAJlX9yf7q_Hw0e6AET1y37IbNeL1G3YSfQF6B7-tduEkiLaR-UX403KtxfNpO-wo27t1e-gdc5h-ZPS33Cfqin_iz-bvIcMfKmfsTw9OCU2ELMwwJfYX76Enq5GBsFpWxVvzckNHZ2EYmGkKhizBa6mNY_A86K3V1mNqf6tnwFhg-QDBYcN3OwCfVqWfBQcsYf-0Z-KP29Naex9G7_xOy3BJQMr4HwDvC-A6NjxXychtGo2iYc6n1U-DD03PHgKHtllA4Rqi7__gmbtbQpGDHMHTyfzi0OQSRSD05iJ4lX0QBU-tx9FB_On0TvdWlCsImnzaXaex2Lg_wcVd3MNc99FqniracvzLt6SL9NaHZTS692qunY6V6HrH-1_Oj72Ml1CGmL3sa7frYqmKuYrUptBXpAbMP38veEp8EtuaYCedpo0zzPxrxEsJQfo3vHNUMLFOfKjInAU5JnuhFzhLYq1jJ6xFtXbck8EePhDcte9s6abvE97Y2wPiHHYoOe857EOIASHPq_nbE0U0G_N_A1HcDcMVt_-XN2LWbRSVIJ42_B5L2SdmyTo-macT89V6CUs313E6qXnHzdWfJJfYAvvhDN_4LyyqvfSFKa_J7lsjXqP6MMiR70DOwBnxZgX6cc5layV1GCXWZHQN1aMkWUl14aXJnTIIIZ2PsGidLIPH5JZTmflwK8OAeYP-DxkEoW4IUWeo46L6aMhZnw9M1qkF6jXN1B4GThr_fkpeByddj892adcAy5oAr5L4uFs3-G297ctfSpmDeG2jYLV9KLhwTS8d5ujwQy0dU3SYC3Oyabxw-4OuUjMXCGBBA6rvYYkrteWR07hrLVhOKr7U2s3YH3VGiGdfU8gH3I7oXwdWYiUWqpgFCsVbT9aW-3ZiIYBDOa5mqD9SoCCMz4fLiZsr7dQEEX1mXFwjwd3qC3urIGrkzEkQ5nN5EgrEClVVnfwERAG--gOlaMDVq53I3mHMa9lHjiq8XU41rAKo-e_Q7UtAVXuH5dd0iaCDOIDEVsoWMONKZrfOvlES-JGGu0lNzTJq7CXqSYxQ7epsCq_LG2ZolkuRiu-P40LLBfG8oVtvunAScWZxULbW8s6NImwao18_mkBIv0loQOZEj1c4srQ3p7T8DisY87MTDi1Np9RTrx0mQjsL5vxojmk9194hCKvx8WOw3BEvwEX8E7mBybOVs02tQjSnN1ESVmuKFE-phVKMFhI5fSGmRddj)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
