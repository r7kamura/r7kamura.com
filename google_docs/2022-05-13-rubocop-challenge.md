---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oEyGtiraoLjruapywQ8IMGYG0QONBLe34RIhtrsOvnb1BkCZtcIJE1B1P3sFKmImrYcXvfjnO-1mLiN_L7Xm54gutKY6MfvHKSu4OeGnOfnmohYJVWW4UfbpiwJZz9BPVMGAMowQiMVVGSWf2wRC6ZFOH6VTvOYhhBjVXOa2qRhYuNXrFVwEc52UrV11Vx0f3AWq7gv1roAkst9Q2ROt9xRVdgNncScLlV1_J_iYXEPmmAPfGVAo1g6_6sf3Vr57wlHx9_rxLdUT7lB9J2Z_9WDzE6e4bbuoWqQXsKrBzbhBAw-1Axhlzmn22i8RH_FiulXmFE4-foKLlrT5uO7tgBgId4bkBFxjC-YwB4QIr8IrqWbusxWe_IXEz5k7NCKNGrTFhdpdIcsmsjT0yPd9Nigx1bk5VJJei7u61X_-Tde9Lc8M4Z1T3szUUs6DRo8xLT-XnYfWT7FCyNzbH__3HXrzi7Bxhz-NvrffvHvieuHdMAxgiD73mqnzEnVdemTYs6ywnt7JDpoOHHPP1mjfqPIxe_pjF6GXgH6ICkvXvmBVXCcry6rkAHyZKDBe43W_tr64j2qJIitMjd0EAPqGBk84VXDQfGQlr1DxgvZdxnDZchSuKckaNxrqv-s4ii-g63uaye_xdWzsviJiOPsVfGmLTTcu7VOevW6StaTOdcx6FvR1_ka8aQpivutB55zg7wmdJ6f8sR6VcY8eHmJ-Ve8EhUpsywE7xGtFNqkiC1tP1W8-70j5SLG-DwaAqI2xKvgKbt1lvef6Dr0PejbnQX7RnitZD0FCkGrhY9rQdXwB6-UwdkxaBN_YnUYEZVxnMO5XhyVoxLotvFk9Aex-V9J5aTiACnoo7XEriXAN58dEiK2wVdOMQItF8w3VAxAfFc8PbGXxbQ2gA_aBPPoQ8LVa5ehPry36V3v-CunGUnMbVkS0AIIcAUpxgE1_GlgNelR-jqfg2-FP0AoZky9wC_W2BWdvyxPD1jU3vt68DYgH_18zNOS-64ZEql3UehbGxKz9joOMV6C5udyP4cDaE4T8x4_XFZIcsq2gctISr5RiAO7hziFppZOD_JMVc-yDryDyML37kuq_3BJgueyeUPGQtEx3zltPmNgwCxjJ5O9lsSDcL0dt1wpA6pa2vUeg4qvUJaXHWZVMSg0QIAGbCmNZQi5sGN23waTM1751ShVFxI7FAD827Nh2PFiah5ErPKYs3nitnyFx_ViQ4XtY0bPizqb0fvHnzQflDbvAhRSYsdr)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oEVeWHs08Qs_L-gdq5XN5FZCY9R4svCr3xicZwBHOTLSguKhg5QHYtm8EJQ2DuIZOD6yNqPhJs9bA4vIBSsGtwlFMSTsgbj35Kd7C6cyqCv-qryrnJqO33Y8qndPfaUiJRXLopM8RlW5u8ryl0kzf3jYMHnAeVfyMXO7bYtL5u6NnCNVGQX6fHQCFcYPHiBhe5t-VPDKO_5DxiQTaBH3B5IQSiglYuwT2Ye3pc8JiO7fXEwlxignPWm8SYDrf37n8403cAsSVxpt0dY2alE9EeSAmWLIjNF5dOw6CpcJiLqQPs5LXDFYIIBeigz1b-VrF4e-NlmZjvYKyXQ8lnNYqVtBA22czqCgucH1YKFb_ZNgC0yt9FijmXv0Lv_XW-zN3UzRs6VT-CMD9WcGL1K9kBzyE4gcgE88V4WjWSjqs-G51bS5lfD3-Azf3VyGPSIb8xbwY7F0i3HPkVmcm4gtUeAoTCKRdt6sW2R9h8pCN2VLUhjHySWuzYg1vQxd1MC9oMls5yhXPnPrOgi08ixNsLMRtaayKJrUfkoyhk7WnpwNAimK4dS5UQ7cpoHYAZEqT11syvGX5_DGcKSzqmBwioKxLEbLUI30YPmX8yt8re8z-aPcd9_-seDd6L2T24dmeXiYi9crUR4y9gfuZBiBK3vMD7ziALTSrRyw8yWNjzsHEHBMfrAGZAgqgebua18bKEcH-d2KEh9Yh4u_ieWvBFCkGKmyJ7Ei_NXqDJUOe18PzzdpW6fv4Db3qkNgJqDtcky5mvVheDYPILK7JNQHYE0RfUlAhk5j_Z3aNYKy-OlX9Xku1yyBDbQuQP60jlcZSalurjw43n0BF4JLvs7kvrDA86j1VKP214F6YIX3KznkK2GTQTh4W6rjGC93NBtgPx8km2vPSvQU0jbYzd11VHLu8trDfh-2JoLn-2tfrELSLMDF1Bk4d2PArcyrcHQbkvpSwD1qKXDmenlrjUeNNI0skzn9P1Aj02jCHaVquZQ3F1bg2S8TZy8_pNvUcnbXtiFMUemUYDf7bGhXlur9RyPUwEUa6g7NrwbkGzDIFgBbfZ2mJl5wdAh8SE-Lfgpz_bSxDr0sQ-L1Aoq7fJCfyiv-1FfW27lDOrPJcWPAc33DA3rwBOIecCRh3JZf9gMWxn4fWD_jB-tYNPe7l5kaVfwzmO3l-exVxYtZ8qrTPwgwcsIyoFLLSUofznElfV0_Nfdruax9-37M9K_LWcwDkDdquyggRajfYU5OJPZffmE7Oj-)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oE5i6gCPvS6vOHKtiUFsBu5Jg5SQDQFRnHf2PUU78VuSuJtdhojL3MmSsdHEnaRifJAwkt5ZXk9Bpy550cnHONt5zxnuQMY1hx8_-iEM445YQosEzDr8_UWpMSbjaNTkbdtxdSSKRxzdGJts0tS-QbiPhFArfWMqaPMxYu6B6qJpqMmRJC4y6pBdpxywb--6tJLk8jeZBAptdZ84Qb_K-0XNXUtbCd-rFLGuQQ4NkjH89wZltcB0Ty7NMArKJZgjqSvVghsLgAKMFkT2aFchP7CTY1Gm3FReQqCKk4opDwUw4LYK9F0dEz2p5JNF1BUGNugtFTHOYYYlS97IOzU18rm8l4its-6sIEtqsS5ykj00pzmubX6AMwqRszf2D1ML5tstcA44bU41bJNG7gZ_2lAfp_jsp2KAqWO431jNZwSwKETkeGSZ64pQGm0QP-4RSD6epd-oZD3oNn5Jwb2O0353Xc6kQe3hJA3oMwSz5jqGpE5N50Q6ogxN3PwHvnDyQhWCvb7Ni9OMdE82gkJhbXhpwRpjtIKNi7Cwy5SAubcGW1KFDLFIgNXiAtPXuLkeYKZ4p4BihppRTvo4FwV19YBe1rU6HmQBq7Mj2Er2tSyBCojz4QL_Phw_gQtR2lUxWeiiPZxC4NwuOsq8F8ZWZTmxr0wfuETsJikHV6-3ztCQdViALZLR4VR2jtyNTWrjuVTe_e3f35N3rndnRxVS5YONUuWded0tw1CaiXzTrY6PXR337FOIkG2ne_ukzX2PWAmFME4j6fY-QYp0bBqyeqepiwzGG4RrlpOV0Kcew34JvQxk57TyNnF6NwWC3iflerjJqUGe0RTYUx1CrMpA1H5LK1BgwypkrexNoxfkf2LoJPf7Y0oRpClOysKkPrv8_4synSNEWNJG8uxQxEtzbP3dGvYZUGXQDV-Xsbp9iDpavQ9T4D_8-GGJmAEH3FzMV6a315CQWLzdcos1x6dayAumirt5ZTqHxVx32B5gtVerDWvhv-Q-98-9dxg_tWpcjrW67vksrIs9bwh2MEJNXvGVwqsmbw532usE3am7UGDr0ZBAR8vABj2r7l-E14jPxJtHmNvPAjJtjulcsh5BYwOWm2I-KCg9DRdT4aPaXQmzCpyr6tst2cz36IsA1ZM8J1BsLmTlUn9oCH1kQq5XOSVHg4et_Rl3wMrYZxbctNMzxwiGhUd1jnCjsAN8h7AsJ8H12RDXS07EJ0AzNvUYtnMF8IEWSdD_whJLsAN-ryybLxW)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
