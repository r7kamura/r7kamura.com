---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oFiQ5kRrXXCWvO7aK5KIrhQ4lHBsD6fBwX2jFM_csxfIOxkLw_cduJDDdQCGmlOoAjsMU9QmZ6BZCQdlJ45vEnSLS9N6T0tPjO_dR_COaEz1YKbKBK72O4SgkDJLv-wYZ1jsDImtz8_1cjGPHUnM57TaN9jhNH8ORtAurZPmhzZHmXKlDyyn24qw2lkXF1pClQOKIFRwoWOfGt4K0m0z6IRXtEcKjuwqX3kvsu14tP3zSC6FvzaGS-IpakrO2YIUSYY2r92Wfmg5rt1PezZRoI2LxP1mZ9vZzozw9G5mrEQPZaZXj9ueswR_iULF0-c8sh8mzUB_8OxQUiTfNfn9TT2LskGbJI0qFNxIIvVLrAzyPiBY2odw62gSFP1TzypCWaD115JUunemBOzwcJI86I8E55F60B_tW-xZhMuDpYnIJRM8yg6h5yXLU4N9_gLw8E-zm02GRizuXM4HqcLmWY7LraonwTN-N_wgYWA79m4dLowfK0OvZ_isBrLVvfLR7zDim-850t8WxqJhl_S8cAKzoVXBH3913_2o-BwWxQ0bBAAZTLrPD7QrEe9zvJBTt8zLUSgsnVPfxUkcjK9OVFq6SwOsjnPBw-Qu92eE8dXnqaGQtG9adw1q9nwOaE22rSFEznA9e2tnZu8tZ5YkdjIR9hFBXnT6nVRSQVprm-Q52Bmih0Sw-mYDrjZB1YCCg4kzQLWR3TrbgregQlqJcqvj_fAMQf3fBtNXSHE3ri3e0Vjd_pinHX9YZH8U98C3Haqdsqc-8IZAmQEuF7DWiTduK4H62HYZQyw81ywsemQnIiGfifAUtaxr51JHnnD6UYXNQ1jl6ZrOUXDISedJ9u56lO2W_Vu3NF4g6OjSZ0Hjprjcl88uPuNM6-xertSpVh_6eyztrHcER_pPaxtIDkIVwhhTDTHT54j4-HBc1zDVXZfF06uhzj5PrJrn6gNTYnn3nDXA6lOmz2Y-jXNzdgTqPM6lKHtreQWQ-NpYQSU5sy6Ca4hMdCDJBFhV4UTv388nnYSWXiJGy8Dn2EPEC9k8Ru6HPhM0EKEchM5wCrUC51K1u2ylWRtgo2WtSDDK30V2HAqgE983tAcd1F0ZF6xKOeI7JmRPBzc-iFv-VCM4BO87ncF6uBymLwTmKpJf4hOrX1PyvPXJmUjqW5AhsYFRJy1mURS0FpcToBoMQM3Jv2O_YtE1tBMshKxWzTdKSg9xD1iRHDAN6tSfrHKv0uRrg_WkpXccpbMFcac9RiVANuU)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oEqtvsPulhECxoyPFGGfA4AgPwEhVc7_12uDHecV7UYv_kOVR2uL3yQtdZxu992w1EyG3Y324-2h0fasgp8iwvUjXvfaOVrG6Izfdj5ovTOHhQWWrRo9fDfxD2iLyWBds95PGpotqd3BaYq8uXxawsRwTrgr2o16C6GYy87x5Qa21AE3kbx4JebjR0oIu9i8z7rcVffkgM4FhW022HeEtNAE0AT79IkpB07X2gQGllRlPAs1LRleIeBXIeYAk_yxWiltCP-LkefkshtjFD5-smXhSVYSSTqHsqvGupyCIOHEl8ZbUEYcpRk0SklbPx4SivEPFz2qgnUaNDUM_LcA5buqWhI23YKhedRV6WwgZk_6YOYghJX0gNQwqcz2-MM3Tb-h2teclYOm31XqnR35hKwkPfMfETnCaC3X0hKAAPhYAAmzhDvpgHIYWl0RdfTSOtCkDloGIpu3AOsPZboK7Ond_qjfC1Gn_DbB2SelkPDS84aFxRUf1ByYLxsumr01xIZy8uhFnemePGE8OiHjqyyG3oFwGvFjvETypSptndO0GGBFy6irksyB1mox7RN-PwVFu2mMKJdCFE-zWkVJ-wnZLDuBkwtj8LTBG7SxoQuRb-7qBAxeZVk8XaLC_kSEGs1wSG78oWJOalgaWqARlKdX5qLg-bYZ4qHt17OD98mWUjWAL0fq5bTmu0e6mDPbu5sFXR_NM3jKT_NN2i-ld6eF6llC-KuiRj5KiOCgn3oj_lyRd0_Zra_LceL-1wY4F2rQhs6mXypAJfOlRFOGRyOhG7rMAJeO_obTE5Jwl0jMUXuKA4C5j3-iAuOpw-bJnrRcG1h3yYy_qKWrQ9qTN4hR8eF8i-QW5dnGDKAKOcO9DukKtGg_MLUKZ_oCvVHuGaSZ_XsSnFsPE6Zcd5vS6QX2PRVYKAaVdV-cMZw1D7BGUzJkDP1qcxzZMFXLOyApsNVo4L6oLSgzAUPagr-NgNabYw4JS3v5g60RroH8MApit6R_Jo0_PrSCebDwGUUYrclsfOb9AbG9zURcjWPk1xDqnOPNGLuKgrMCz1FBl1SSx9pcT45kUOAyBDjlRcTEdFa0SOlkU3Z54echQlW50KXh9bLMmpuk07uMgiBR91m3En-QbEQv4Cj0k6s1l7HHlbjAdnT8Pou5kJPW65xqDbS74vmdnhAx2Ugt3TlqpjfNQy5lEcPvm2ornqnDg86NeZIVgdJ98XX3q415lsZvw8ouYO9VvVlWlTMcKDVWl_Wa95y)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oEHR4gpIiyH25EUsCgV_3rAHMOXb38qwB2nqqMEXwwrI0ofZsOlMffLGjY_qnR3rgZt5MIDIVUyZ2U1jv2C_zdDdGyHtPcvDo9hI9x-Ja8jq9_xo19lj8yxa_3uRhRr5WUtUzUhIvgjUQ_RB1_cxYmCxm4Vde2n2KdjOIEqx9l7vqSjsXYLCNg583jNeVt6zY8lJKzJFykncBngRKfKwP45GHvPfNcBau-bXwILDgLGM0YqNUN08l-oqFOjZLsakld9x5gIEzG-5zxjcr5Md0OFHk06thjHNtsjLFHS-dM6E4rdChUYBoyP8r4aXem0XlWIZcXlMCwi1i-u_QFHE5ESZtCHSTA7AHxGzYmItivZFrVNQVVOcgH0r7p29oMjzm3B9klWcoGEUrVos-rJMBentBptYL9uNHt_Ah_g_Bg6aVP-s4HIwpMqyQLSD1A4S-eb6aC1Aop9Vmjf_aGlNalZe9dL-_NrIcktplLFOvx241L9CNZ0WAVLT2T-1hQ7kNJr-xAZy6z2KM0piGPc-AX3T7CPNYCJgqhrVMmauneIhSQfEMPideso8h6ZR6zss_-d0MDttILqd6ZNxiV3aJ1ZkezPPBIs3SK5KfdlWJIBKDxplMDmeSELWJKPUfI9KIQVXSCVy6vjK_1wO26WZuAz5T1P3d3K1C2j742V90Ss2QkB4eW-BvbcZUPzywSbpN4a1sLjnv8EMEYCfihSjA8u0nCC86yN2b12EQIAkuM3YdP_3xDFF7lofLo-nVx22cORc_HqCI1gUP-A5EICW0C-pIKIigzHh9Ov3vuz89Rd2sWkT4mutoqi_3MZrSSzZOaIu5FMCA6Ky7uYSI494uUoZWtXTw0vEcEPSY3zfsuOHB8_ewOmmyNzTYn2rC534xvxoT-i0Uu70D-bJl88D5nRB501I-Hbx_lhaTK1pCLY-v9MCMeNO7K3Urgw0aaIhW0na1FE2pgZ0dsqUb6gONymlV54gxYva96B8PBmVfwAnDGSBrLo_5HxXsEKvWVWhFsB2IWTyaE5Zi8-lr3DksCqTBYvnmrF2jz79_yvc-q9LUi85YKWn3tGAs3aYqqkvKIpW_7K3jmQC6aiKW24yAPGHNUhi0S5Eto-4lYL63OP62rZ6KXjDbu5F1EURWAFM8Fl2Eym8v4m2pA2FqadYRzsztyuoMYQgWZacys6X-RnbXpweBOumAgUDk2F8ym-YD_11bD4aHkUUVDkY7TwqOyICWJ1DV1Ob4wVZggAAbe9VBvT)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
