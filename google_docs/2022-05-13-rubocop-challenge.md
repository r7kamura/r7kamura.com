---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oG6NdBd-aTzAVi0r4cvqNdlXwu9qjfza3DOwwdKTmNpil3iA5Fro6gVne4wY5NVm0yhMo4J1Yx5UwG42aH739idtfSRjVXKgZVN6vJPxweIgzwVKFWe4yW7XdGWyf0aavZRBBBLUGJQdyVSjAumBYf3BdM0fjTMT1vld-j89T_LEGfvnoAewURKQGcorys5U-fr2yrC1AcS5AXR1QwGw1XR_RmhdhoDCwBhpjDhmaKqAP1teP5JhSveODFj0bLpIVg1E5_gDbL4jfNN_ZCvpNlmk5mf1Ube6feYpvFhDqqxFDb6MFbmXB0XzDfDdPgoN_mEniTKZLlPzlHb7b5nORC_LFDRwfUyXx6mZCCaPxampMmNBHIssofcy5rlEU3sgGgp3mjzVSyd7e1ND7cFokLJk_ol3qQ_5rWmZiTqZux4VdRaTgiIw8w5c535q4PC2F13Ft79hbiTLuUG5Yemx93wDat3Uk-tyJhmlZNpPlkvFDYxmq01M0RKkW4gHAcjpblWBzCbktHi6ou7nrnwukWzXATmtGD0l1l9mx4rik_icMZxCiHoTye0rKKQr6ubLWnlXTNoAcaIO5JRVXTK8x7dNWFTOrNKGVYV90cfcrJAuqrfoIYuoi85pWAB7HWRBFn6wfbzzjyVGdtqY19NnTd7ihCypJVhWvFZbjzj3MSUPLno-zN978oK6AVWgXtLdbBNc3fGtHWIqPyzMrqf4khHUSxTSFxsqY_jNXRZIXNFq1Y9MuwL1YZwG2Dpr-cU4LufpleNMFPn1b6tCaIZd5u2TANI0xxOowdOF8MV9yW7Q4-qhgGeef_cC2_vmXxA5GyXYAA50EAjFl6SaONMfNfEMEk3Jkd1JNUS8cOKI0a57j1LryGIk5UgIS86l3_QK4O8SYYSD_BR5QpfGOV8Fe7HWP3lXhHBl6Vw5XSoHGoMtz3s3a-x7uUXVF_iaEe_IXsCSm02V9ABidoJXHIlY_e7nc8YKEbBNlL5ra544pQoEyoyKpn3SCn3eVUh-991HINXiDoiMoqcrfJqeoHckv-gxKMH3v-W1JOliIST8hiIIcDsnNyS4RNbJyPz8VFfdY5BLj19HTqE-XEG-TmnCXnYjPh339w0vyfI7G8lnffsRfxArNCZ-UgRZ9k_s89aFeiP2ex3gF02GK-faKIDKcV6yXwRjDZv38yIq4KiimECt8-1bhoHwSXXXgyDIAr7810l6d-B7fuYYjli-Hz-NakQAUL8Lvveq9XEtdH7X041NZap)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oFCTciA3nBbulOljnxGJ-OLcymYwtZMP35IcXFZDNTMT3LikyxEPoMBg7Vi2e5_75SgezFT9j0fFut_xWiFv1rM20oMcS4IrB60jI4xkkbSCVdozgSFicfCf9V3r3ocpWLG-E3OkQHmX876MZnD1FB4ZXKXBN51j_IFaDuTOGwbTxyS-S8waxPtsfySDsp-36A_NGuAxy3U_zZF43OFLoQnfAccu9I00j3KHhFGYwnklX1Qd0p267VNb4zwbwqvzPyGqkfoV0a2y8JpL7xAl51fHnRPIKYSUvVRKlkKGgnpGhNA1vK4ic28-2GNesJ0JJsAcTP2ppgyLjJb6UJHc3qUDeCl2GNLb5DtK0dxaZyOyg_VC-YIjja0UGcFTJ6iz0btTttAt-OXCIZDV4svc2nXVi2-mCB4OfCUgglOUJclKFUBMt8R_R3BGk3OXMcBn8o1ZA4HYhOEX_2-wWCXwxlNmjNcH1o3aDBXKrNitzkZl8y410LtlOw8SpOZo_wQUt0KwKxtMRyQCinJr1AJjAnWoEoodQ2tOpO56CHZfwneT7wHG_ke0DY3HFqa4XXfvYDFaCtTy1svXCK7Iow-lx-4_PktVY-XX9jh05f3TkhUlhq9KPIzw5cdiE2ZWJD5PPgfFiKxYy2NVrV-cZ8HQoevTt2vXq4pGDPl5a6_w9rm1K6X91MZ9RQISFos-5gn_kwhFAXl0GkCkd7pTCqscOux0jD-ZdEaed2HFrsp7BKElflOoMGuwptFdkVYCdsm8NKr_Xbroa9SbvUnl0b2sWNcNTJ9AXYpsGLOqLO36m00fWYddxMb-768uHUV50ppU8rsImCM9uR7-cW8QijBazA9UpK7YUyzMv884EicMzp2xZwlg8twl_kqA-NYCW1p_shHWoagxqm3BM2xMMh0hk2ZroEho1e4HHTT-zZyNYhO3xkSRdZZqVj0VeSIE3Opcc3qMs6a4eoWPQniGPweCob65bnEXOym4LVmY3P6XWHvo1zfqoJWGeKdn1N06eUOe0U4KodxkCPoglyZcqVuSlx-UTZle2Msd6EtIuDjmOteGYOa9lssBc7zd07CfCmT8g0e_HvLUICNy1RTlirc-09PWZa3VbKdIxdWKmEHvgtz-IK6DKaFu_B-jviqscJ-l6XebQcOfYAr_uuc47g6iLien4MyyMNt-mPU5WfBGwWpl6JGdeMv6ONUa757xBhp04H3A3X3Uxhu335JGgKIctBrU1tJL-2yPZtdJd8uSs4P-jvX)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oEGVHFXSoua6brsQbBhjR-1Oox5K_M7ewVNqZhWfX0VdK6wdPmHjJwcKTYj2ZrVGQWb18t4UEE8M9T0WrRzu2QtO0_dhpyo-yUS5Znc087cMgQHdzS4jwaVL_lYCsomJNikzMDXZO5nuLAjXL_qEWE0IaMeg46QnoVJi2-IezfL2e5TyzIi73hmKzSwOKccFRvj2prUAygBKSy1tE4MoioselnYNTKH4bMDjELqhWo1KHSGOZRx4X3L7dQeJgnLqQOrN1NF6TvHoqZt1ZIztBkZ7IT09DyvXwBeWbjVCMhQ2grhLZxTodOxewVW1K-b-sgL67HdywMU_cfW90wJpZm54ufFW-rLKZp6vFKa2aYOXzu09CkX0KNei0ZNoSl6XGyE1upIktct_b2dJvkjXNa3rDaZHoGrYrKsnIhcuHDIPmclwabIrliiSv7vB0kYGMaNKsM3IEpa2vyG7eY7udruO6fihmkCgAiJ37hGUycIFe-kLuD-gC9EalVnktKW56QvAyElu9hPGqEPDxtbGQlQxTMcQlkqcxQXBz-B3LNPoPpr8EWDKj-LbksL4hBlqhZImWz_n_BzjnCeHef3KNPqA1H_nIcpb9CHrE1MuvRZlmwaC90JE6QJ-4U8_ZdA3b6XnxuRbYru0ETSFueT1Iv_mALN22ESLXAtefjUFUSb0GWpvCVLZCEm-gOOyyorx0o7Eo_ruMmIg-3UPd5ciZNve-kcCXiPMd1dXDVl_fEUdwnXNRaGbM18cC32UfOR1bL4FNJ--F_Qcqlrirdlhu0855q5ipS7yhkTD6kVIYOMlcDPsMy9xJ4br_wzEgUk9zIByekczFzzZ2r-uaypRpywqiYKF6Xhf_Xp2D6Voaach9yyTZyeBMHtrN1kOqfqKXiVApzHu-0xQDYyXOHY4OIw9d6IKCc_5XvDV53fqoG7lL2871Rwpz61x7XLV7o-p6L_mfmYJ5ksgc3kVrBXg7gJc4WcMgv_MyHZaanSithcyxMw65bmF5eTBUEwStwDDYPTM1BaZXfFaCBFmdaxtOYyEuKIvy4f6VjBzLRme1BdUP_KYkl1O1Iz7S5e3vSWRJbJh8s67KC0--U3SHv14ypvq0i03GuDYgSj_J2vq4UppYCaTfPJ_TTtEMBpox99yqHKCbZiDsiVAyJelSbc5P4dAM7ATgV8NaBi0MHY9lQ4lRhgIvhwuVjW7jeHJ2HHi-rzaWPapAKvRyfTiR7bP4Yon-aLuLtHm_ynZ0zTCa5V_1IP)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
