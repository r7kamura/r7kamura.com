---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/AG8NV2YMNOrMIMVwSkHHslLSHycMQJOsH2VQvOSWBK6yFJjhTtP6EVN4R0ZtiZxIQ59qFf94FgX_gF0oujCYYXA7echjzCzmnWBBfYoS-6GcIIy1Qp3CrXYKskCD11uEEcjPmn7Q_8qlUUwmr9JN_n0PAUX5UYyp2h-JE6jdxvGEzm-BzcfQyFxywPUUerWcVEtWB5SKTnmmjUcW0eBbb_SKEsmoonxysKBtD29o2PeKz8p3e38cqUS2yASIJ6Xj25mEWsyUvvZCnqj0_H0XTSpigPAH2tfPkrLAcTCc_JP6rA68R8k7i5HCZOlrtBFA50nPv7OiLlyknfU-fAA6EK7C_Lds66TjV8jZUNj5qLvKLy8FPjFwOtxGYsOsx893xqSkRPCnAwmHPSXk80lCJ6NwMn3gcOCBKcdwNUuoA5a_WFpPDOohzU6UXGIx-ZV5mDUdkuOOeadjH2IpwYYw5ibwoVgewm7LBsUjB1pgFDccxbrvIFSxgqkpDEE0uQR2ArEgmaojmdBUkFAGmmRA29Q6VepMdAubQLBS5-FLkkadGGlET_La7ICNPf8ivibKzLyucyw8xNrZR77ByLBY5Mk23KNJX1eR8N8T3EpVShVVjcietFhFmRCeQhv-sVaO_j0VSU8lvGLKwWoxb-5b0J1HjV2GfRRAuPVqwLcHBhdXoxeYeRQfhVqaQKoKTZh8lx9ViRBNfglBu5s-qqjgHVlQ1coayfnmIIAkDUzhd0yoWfyR7HL5PjOW9HWz7qE-8vBtIph_DlUCph53bqJC4blsUpjUE8X-FPtYLFrd-zQn_H9_FB63NMknGmpBYKgKVtjC01sUsKyu41CO8SkqvYYUkYATn80s9xGds4WblnjOLE5gV3L6bU0XZP0I0QWEzJ4cAVKv4GgSwZt17T7H04PVeRV-Iz7d201JDFgGP7M2slzorGGgVyk31sRLY5O5O8taC8h3K1NsYUh5TeKm5FD7J48A6kG38gOmIrU3tWKTiujskRH0YfigUqrYYLD-jBiPhnDuQlvcl-R0WXPi7ZzKek_Zy0q68_n-wOs_FDypjnYJbHtB_U-nROA_g_s1SHpMBFcMcXS60lq3VgVa8gFgXKH6dEjlQ2IMXi--D_MK16BewpM6dgo_K04nVIBTIblxMdCgzRahGwBALsi1GncAFhXqasE-aSB9-l5Lo2Q1XqCVwSewrxpiC4MBRQ7mnxAyhNrfkWS96DqjERI8e1oNSLmuUwitRMgR0G3cOtrAx7HVOePy)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/AG8NV2ZutseF68Gl7dlrJFSrXvydBm5EhaBkCyLQH7yUfgnWVbpF6OwVyjsxm57GNSDLO_7_HNLAjjHLNBqMp7MaOWj42_hEGcluaSqCNGs8QJSmbV9BfTNP82vyCmjGJKFdlQPaf-znu_Lp0AliLPHPtQdAR1S-7fL7ulPb8FFPENOyYIFAxoNzCme8pUdLU-FoMHC6_gBMrvaxaTSeCAaJOG1PePz7W1AL_ap8LTmG84cCOQzKpdqaZBnJikVaseu7SpefBm2O30-mkIKw7wJNE5pFKZmi2W6eiKyv8muOOcNLN8Bab0Ia1dsPMzk_fn4YBnLIiFMCKeR778qNIfpPS8uM_7xkmPx9uhxPeCjsq70gpSboim6Ug39TlJMaOQoQXpjq-N5gKHZ7T2OiizvxqrPDKsSIkWi6ksW1-SQ7AehQFtVAi2PoM3zgTp_pq1VdSo6kxG7HfZs9KQGnk55jZDeALI5ootg6MvOED1_5YbCiKj9YkvDsgktQPw9LaCBau351YZ7KgXJgzWRXo-APA8rwy6gV7EskiLg4u5L3kBcZRWFYgjlGyRBNQr-SWnXxzGmRzJ1QTx1mfSnDf9vFmZCT5GvZXVg1u6pQwXzdYmk93I24hnQw_UR5q5Yv9uu205cESg0oKCFrZI6oWv3HQuRs3eT845BV0bFo9zQk-4p_9OAZ4PxTihpxshJKAqBxVP9gcR8X5OwiOd62PpDFne3pbYTEQxu2TLYbLowddhNVcUWU2gPWC4YXHrZeKA0XuaDVWjMgOKJVpgRktthTZKtF6mFed1PnDDwRtDLN93iFNzZmi_FSolTdSzq1WwNk587w1h0NSWzzni5wRMxh5PQvJORxD5eKoiabgG2r3CY21dHVN3plet5IWIegCFPf1mi2Y9f8Bwo76fr0VmNYffpfHi9c5FqSSY24n9elZAsmJ3jYFE7DUZBCrDvLQeNyFW1uGYQA5YtSMIjpiu61lGyWDpEoc-grxl6EvdidZU7ccyECYiVM8Slzb5FICgNZXdbFr6JTjHR28aTGPyM6s8i2_hyxAD9HUr02Q3uUaZfbHvUCXd942l8m8K2ut3EtnhCOBliLH3lkYw0Yy8FtUZ54SENfkMqIXzmDMUBD03wLnMVLupXEPGH1aMDgOs48WnYvwxR7KOKCU8p3M9_S6cpYFHHJuUsVArnalbyeOJWSFGqcYwPdrRYsieqzEwtMWnB77uJJncMnpwNw1FV4gs1jmlHm8Bid7pPp-Unl_NC9QOYp)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/AG8NV2b5aqGkLtAcRrw6XRqPFtc1iXkBJbCmZbTQjb21j7d2JLoAt7jyEkAB21f_7g1xoTXIfcgdEMLpaWCZREuRwtCJpdIMPOOdcX_57t6XiNdd3CU--m_lZ-9Pp2Dcx0-jF4kh0tDmb1wILjRT2pI9oGHofsRCp6oBPU-b3d6fzH4wbRRKG-DhrdilfiMA9l02j_5uQSt-wAOvlsiwRfVErXbUvDiRiVRQQcu98O5eFEx23dV9Q6yIbaSFNeBKdwqEHoQu4t3jcfwtNfEZNTjlVMuXynHlv1qxIpwvEKXyE8LF_MxtjjDLU1-a_PH7fMcsQgu7xuW2TpYMUoTgWauprFnhoFbn6XIRJDHFDHCIR8cSRM6VJhfvKRcBBdBJmXGDtTfO1KoLPQnmUECxaBeW3vN0yghRYMFR2SlVEaftf9fi3WHStuMtx2rKFLpoP7Cleu_2SHla668xB3FiXmRnNyY6nCTSZQqqlJU58wwcNDDYOlTKECrrzJO-OXj2mq-bP3HzxtEnnwo_e-5ataJAZ9qB2VUCV79bExyS49O2c7JqCHXUGy7n_llv3lLxRs8QXFL_l24Te1cWiOBlEYHktRrJj4FU65JZQa0O6n7mnwq-O6hGa_D6YH7axOr20o6j2h1PMzlZ1EbPl10YUyIkhHQSxVrVmxZftO8d4mhDqnow5Em6hbhNVGP4mLTZF2LRmuSAdoHdY3ivbhCmOpQV3kt91w1rNauFRp_Wx8UKfgRmlf2PaiXKrQRY2fslHH1ywb73KwdbIxKA1ACTtKGYgw_G5DyUcMtXK0ee3iFrFhVZVh5hOy2u5lB14S6Bhz1r4U_7xDmsyqWjMvbFOuAqDK1dqBnVGefvnjBWXMHJ2M4ChDSjy9-Y9ssh-tp51ixwwjoiR-9-u7yFhW-ksb9ThCl3YOPHIEaVVf-2OdwBJbDderonxVyXOYaIKqlcGJAslZAHGdGmHFpAD4sjz1lN-5AlXugnOznDr5mHu4NBavxcJMF2sC0KxqlGN_DvlRRBiQLBRiZn4u8tKrvi2QJT0EzK_9a1vtPk1URKpg79BIcL91NkgVXAq3fE6IPog7XD0yp81SUX8zMJSjC-Kao30RO7sGl45-VfST-muABfhsW7OVJTJjFzBePW1N20tjbzncpeS4PrUiTzJYF0XyUnMQ1AcvKHoCYx58cg_kH0_pSs_bZsaOs2yCpLZMfHPdOm4XulU4rNN5O9w7cKqhjhggril0SIYhrgNIIv8LeC5kh1bzKM)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
