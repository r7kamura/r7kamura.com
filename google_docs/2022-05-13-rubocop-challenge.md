---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/AG8NV2ZVrwOK5yUkp3NGIGBGg2vpEeiiNej8-8ct45esZhOt08w0ik-I43w5qs56M4Jv6V4eDCzW4Ubp9ZxcMrk4tZKeN41T4vrunTRDRHiCwul2ciZl-IkXNU7ftovZUu0sYS8zkMmyuzVH0Cp3leN4AX3S6e5mD21uuZ8CcHWH6s4TayhleDnwnLTmkVlXh99QQAuedPAJWvedvL0N6d5yX_I3eIENu2eJfadgtU9l1__X-w3eAKlj0cMh9w-tnDqJZ5OXarxYHMPxOqAEroZ_NcaukycnraNAu-U-FvE_mKTj3AT3hvAAfmX_E3Gr4aRAKu24IRmoKq9l6JfPRXYkncy7SpHYDz_o-zFRkcc38EJ--9z-zrIq7nnq_TqIyJr4iGm_6vmEWXjxm8mjZz0TLJbnPnRHVDx1hH3h7RERE1OJVZPm9eLntHm5j4XgHNeYW5NZimvCj-K76IPQJUkoQtw4UtpvHXD3zoEMG1bICN7gpBnIw1O0NFHUweVlqsD8g3OLkUS-08OWhg0VXlP09D9sqs8vW-ZL4Go4Mjkk_EizY3VjomWs0lVtBKZc80T9iW2kbG0nwJSbc5IorWHXUW3BStW7o0vfq9o4676kyCtoV4V71gXaCnaqxWHC3VSHKK-uzTiJ1i-A5WGn2kise0fTjNcfwDA2DO3okPRjhVNmL0YnMZdZjsYFYinei3zZLOf3sTJC6_aHWNfs0l5JIYGjPNO9yVc7P6Vzni38UdohYrBUW3zpRknb_X2il9OOmmBNC2U2kmyn4q36jm4uCHQn_9d2sUrjRZ5XbOJfQhoGbGOgBeAA_qHLo2nFwfNw8DYwfPGMO73tmZxif2Yd2q_BxlxlGQWM2B3-IlrMDo-CRp9FpZvQkk2tWqK8KlT7-p4iKHzObT3iTtYlOn-cyASG0FhdcatrQxLgdSxlVlBf1kwXj93QpgDR8WBGR_OGpY2udMN4fnXEBfWngnHyvkK1FhEfDTqbOPtprYdxQZXoPtppmdvh0KiNhaDh1eCW2_WI3oIuXaFq8v6s_AR9b3lz-62_fzcFOcY7sC9LvIQWdyOh1hNJjjA_KlrKaobB8sgKdtF7Fbi5kJadNrXoCODnI5bjP7mElTgUYmguPpGSInN0jmeGriUYYoAaKyNZUZSg0w3YI1pnl3a7sVxLXQKd6ChFMr-VzThREWWzlSf62K2CJ1U04VKItglKGk-gfWEWdKgXDgCTshl-7LIBgJusCFRQvAuEhH-7UDpmoF0wGQgD)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/AG8NV2aqtu0Qo4pmQ1vAnmBGEnw2cBQYN3Ym2G9DEJxoFPfF0AY-WriT1d9VrgeGWfoPL1CAEZ6SBCJ3iAx7_B9RJDfqY5OcZQ7Zo7QyLZn7w4ObJ-S9nqgWNfixiEEzIDloZRpWzQVjgNRpcTdJ6l88g4-Tiu7h9IYdxPmUW0i0qRgb_fEHQb1SpsDrYYYB0sPDpTqiFWQjYojyQQqLAPh7GT3yoMIGKQxbn6E-d3BR034LKKDvopWJ0wJaFm5OBJ2ZSb-4TaSnlobeOZRwkEIBAF_LBR9SYR_oTQOYqS1r-BcVzRT9PO_DiSZPrwKmym0ikwVq2HArgDhE2a-SIhLziKQj37omBqErGzuus3eFpo1Hnz3cytIegFDS99W9ykMdNABiv9EoVe7mVkGL-P83eUXfOfbJ1hTkVbAzvfqA4asjpcDUk44UG2wryLS9qcIl-ChxBg4rh9JbUNMXsTIvKj75_KOXL9aOHHXoQVcFon_yBsw-qJaYDBM8r2cqxdYBn2DG-HcRIsPV6j2Gc7rqE4vJ-PySrQYIU6YRU4ycjhI3DONb4jIqrC7Qs4miyRjNNe1dWFpw6L-V18LELUmvHi8cNlgpwIFWpFt27A_N186_ScD9JSVR_tCCEbGy6AsZnCML9VM1CzPbxQTTA9pHGpS176sPLt17PkVmY39oOiZUwK9wysDkxf0oCMLE1LxTLrY3WbQN6oD7NNS9HjrJsRCgwVy60q9R7JmrvnX0Mhitnu-_A4kJiS3PBLdsvm1NDcbf5EOiM4DvBKUCzW3FDpcznqt0UTypC5RHtUpPKgWb4w1cwbMYeKeSzwZkWV778vWWLSdEn0k3DwwXtdqUCOaUctONpHn3OiYb39IaFo4jTSKgLkgowymcRMrAOfrT2Z_lUORDDbgEqun6Ggs967bJ1IYq5pl2V7uQwmZVyoTloZfMZ08sZ9M4G4lBB1qE4Iwk7BQ1aa_fwFOmVio_N-PCtQh_hpQVO6VCnjWma8TTTqPCugmCO94wOsW3bXVbv_aGv01zPUvCWm7nQbkmFRQ-PK2RrD_-tQpDkGGrc6F4DOiE21HOTEJNeHd7GL_GUiSEsQ2u8r_Be1zp4HqRvj_sB5ckVuHRfm6QtrvLHq9I8DbzhfPpVh5jp-uk3a6Ji4s6DK-9P1k7rqdmU4Imbd3S39ihmsqZjKRVqncoo07_-WVPnfKV42wnbHxGPKL8L9TAKBUGykjYgGK28Sw-IoYNr4zJJKOeLvc02VeWun0ykjTt)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/AG8NV2ZmM_VK0-xgNCL0fxTMti3_w4YYuEYhaGWySz7-mWaaxaoHS6kNOJFPahc9GffAyR_8e9VgqZdTrfBRouclJNen008M8KZ3IKNO8FZsXkciJB84Mju9cjuZ8CQayagNkQGbM8-0-BuTaOgcPmyfUCuuXXJxogEONz-5HrUocmvEumcpxlef1GsSrSBQUxp6rjkwe8zFJDWVefzzPpYbkRO4y7vAukRORxg_P7xtw6Lq_YJcmewUyx2uDAltP47FLjErzrERCz-e3fpdyvvN_rhVv-7cTqp5wPtrABIVoSg7b9PezbZFS5c4Mg4ZgLMlGc8pgCrCOLg66GHB0YSQHD2bfr2LQ3QcvpbMVdWgpsS6gl7BrsFyowgOxtrLVsvH12zuOqDnAhfIJ5rRWYL8aLHkce2clcmayHE7ce0vO_hL8q4FAifddfzWMn34RQPQo2nv93miXniQFNPDsu0elzXIHg3bTEynJrbJm0eo8fpyn-8XlOHuNyaWAxdj5O07iH-CPAhSRDg7BchjNZK5vrq5db0Nk6P3YQGDcdSqxrzXlbgh1xDMS3BsjIzHbc8rdjZYpUo9zxAchDxXzqpg8KjzDxIbycjQ5c4uCgq5LPMbmmDueLdimgBClOkb0zSOAH4B7NoQ9-Xrl7af1OYRU9KF_bZp5cSM0qR14rbvU89mEvJohRpvz1HhqLA06CXOENLu0cS-U_dTrgrfHWKwOqGoeJAxkOYrrrLOlJbAQU7DjM8va_XQPoxfWoKABJ7MHwyIacGBLL8phQZgWnWlfr_3m_Kp52Iy1moomgniuhjQ65kMesRRCfJuRF6q9w1dK2diiREGcZqR_lEIBIP7gnSjtKkFo70O4M-q30zs8OKIWzgGKTe0XbcF1sPM149tTC_u8JkmZqmKmyruqQr7tw9r-DCQr2RRMiUEKkUOJgvIWMYe0rFmLWhqlE6Y6m8RA5UBRl15TaMOv3QPBZO8XNAyOdTNkyuNZ2MCEu6vMSX7xD51BRT_NB9_0QZUhDo5SyOZTs1idTZNib5EQrTpVKi7cxSjmZnKvs9GiZazyGtQcC5ruN8T82FUjV7fV_giig1H9AQrhFwp9SiN0In9dg4wSDVcDh5r6YzSMAudF-feAFEw2NE-_GY7B1vdcj0CaBOURzUvSIuJg3MQPdfbythhHHZLsVXcVf07giWUbyqyczgFMXArbQ5UbqrZKpdQRtC44xMmdJom3FaXUxgXM6z9yJWIteiydJFJHCZuMEwcA5CO)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
