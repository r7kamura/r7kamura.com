---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/AG8NV2YeikDr3WCIQ1G3oON6hNeOgZaaheqyJkynfIdt1MsSv5uh_qtlun250AmvclzMkqW1ubdvAnJCOPBqUMkxeiU4Nksv-lYnEfpQpnDt1XcbDzR6pWByXXPA1apjdeRs668OK4uYwhBY2DW1kZGNui2rcAvGZzBvijvrEN1pFu27jd2O1KmTK2btnv7Dwv-Rh4ZgC02yYYQ5cdjtskS0QH7TYPUILFDUWgqsd4Lmhttckt65VwHynxTC3u_J6WQBHxzQC_A2JwVxdWAwhgBl64UnugxYUFqfTX8Zu53NJq-ERXjM_BvUA6LCUzgji_f4km0UG53RurZXnxEyFhrfkbR4UiFmPI48acdyMKz9-y4NC__-0E1bWEzHjn6vh1JfxMtqzx8gCMMj61fyUB5iv46NUE_3KWRmq1ilu3EFuGTuIUVLVdbvIQRXaN0PtMIG61bVV5ctiBpaGAkyB7kD-8I8Ve_brACuvZfljGkLW0yRMWS__4P7MnQ_laKQiADbJAPH4pro7PPvnDmovtOWFFGuk_y5rIDsw1BBjj39z2HZdCsIc0YBh7vUKKW_EaCWdwlbs7yuKgVcX5Hdc-4aWulp4YNm4Zq9PZNiWJ_oqVHinfYMMvuLYwZRnygR4y-9kCuFJHQ1RLb8zudXMXkMWS7e0b5DxZ3vnTyifbao1fgm-QK2AAFLOtLnJHwwqg_YKsgh1oBQ6HCfDLq8uvXlG7K4zN1w_LkMoE7Xw3Eb3gwh_9OlxwAs9bNsUEV5HgNAGQ56MQuuUL0ZKb8gDXAzlW8PmqRq9mm6POiBP65bifVyddW191XBl5QDtWaGkrkjOtg3YNC-sYHX2nJIyK56g7faUbfhl2a6W-3uw6dcgJO-foFxuCT03_k9DW7hfZ8IaRn3UdCykWSzsnq6NnVzbPDJMMny0b3JiHo8lSkvgM7S18PK3qpmDL44QbAfVGdF4AgsuAglTZvoQhQDzvhAXPzrnGBwE5qYw_Ud14vROjZPRjuU3lPPKVPs_NLq_i6RgbkCOmdFU4czathcZ9oLEjdDca6jHw1PxKc36nsahJ9cZWAB8x9UL59Ee5A8VAAXMagt2JlAuxUUA47C5zw0KnbfL7ZaUl-DznUyVrEFLv_HJRzT9uldY4dvTCsIrfx0eDHm1HaWwozhL_h3lKfeuxs9UX8TZXNAVylhXnRDVAZhrsvP2aK76OZTEANQok3Vr10HK0bas43_54TMLChcoWdkDQ0VsOPDJtNDRxNYRHuWKscW)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/AG8NV2bQvR1bt5RnPpb-UxCA2bAVZWLOFQKdLVIcpo4-YQhvvoQTM2krUToCUSNCfeojecwe-cnMl1Wt_EObeW2dfCcHuUwhemEI570TUK4r1fFcJA5ExtVNfa2Wtx62lIVom0Reopr3VltTZi005hymgg2eXWV3tQBFYe5xvsSO-1kAYFnZhL5OH50B9m7sLR0kqrHD5fa9lGEwGdhvxSfCLTTTJ0ydXFXlJYMBf0ttG5Pp28jQAASSpLOh1xPEZhsebmFl9_pN2ZjMFQZWu8OWoM9mVHGjbBGCOFogLPoNexT7MU9UpwMlMx4RKRVPOJc9Sx_sxN1DwgGVGvjTTv2VFdnoltynJRUqt2ubKyReec2mAlhNAcrw7oeTt5WgTGjSUdKKOf3xqzUc1dCZiUduB0lhyrA3o8rZe5DDaszWcpTZIb7lEJtwG7rkiw3SUKe3snBVIznZCCmXkMTlhAgH_rG0WKhga3qYu8bM1Dlx0FUrZfaxItCvNKdFk0dM7wa38ma1UQbASvprQrl60c2-gIGLWCIZjwn9CGj5EaS9C02VWt_LZpW9UJsF1txPV3ays7aS54FVFHWhf6hnpg-G1DO-KtPU9uVjWKqTXn0nPOthLSCJIEJZMQJn8m1J9pcR1ynIk6X4SGHeuIw9QMyUJcv3TyKT9GjXupTs8aPeuscTM1c-bjS8SUrTIZ7M_fBIw3WMCcNE6g4Rr_mlvhpeaMj8X612NCDltRkuVnqO4vMtnkZBbLYJWOoxWrQFDmjDYsPif5emhWb3Wy3HMMk7L46mADyCUDMRKGbcpNHJ69eiR2SaTws6LPWNbfakGWnK54m7KcK-19kYLHpWWXVSUAC_I9pdOW5dWpYryLPJqVGzjlQUTAFfgzjjpEd20m-1lbqemlhp4LjokamRBm_MF-5-3-B1sYmV58s1y_aTtTjN-nLcTQ1TUbciG_2hnOPSgzeVUyAgpgSx_Cp09Kd0L3tIhrzg5nXSoM6KlDMBfXalLY2keIQJ5eh7H9KDsOZTQI7GTkzMtOhpDYMQYdFOnQtTU1mAyRTSDgJUh9-XiQlW-VK4X3hw5u9ceHqN39VK2uX82VV5j70Ekc0yrOIaW_33OSG-IDysZhA1zXqp0qiqT63KmNDr19J0vJHNOqxeO4qEYE5YNKSaBfYV6pgqZGvuiDnciHq05U6cJlOotQd2efusKaigbigbAS7OJNUjXhyw-aKMLkn92NDy-rxtPoNHKOF8pZ0sM7MKbR76Njmrsr4N)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/AG8NV2YBSrNAY-d1SrL0iGyCtRg7Nm88WHgkllOz34ckMO2TestDpFgUjSpRqW2KOorRFYq6pD35Wh7jlUxLfXDxRXJMiIdT3KchDD9z9fQD8rSCNObX4GdSrAcBd6ivgXVuTjQ4-JT21_DzYAKez88AEcRbgau3nOmwM_iGQdZdRG5apGCB6dFKXSYekPCpyW-_oyfcFRoHiZWg4m5unass0lpt9ksWbsuW1h-bMOkxLdnh_CT4s-95EwpsHSsGL-qQESRQcWtRy96DU--IskrZ2qN8ycjhTK3LQXjXytHpCn9DQQRerhZJ04XA39yHVIVUQ7tHi7AyqyJBNvY3dV8sNOgnlKvBzVk3naOy6fHSDIHa2au6dtg6lU8JLBet4m0H60zOruH8pghGB-1zPSe6vvNkwACeqPAMdda0liokgsumQj2gESoPoXf-H8ppa2Z90p5jZ-z8poWrCvYgejKfYNQSIjkgkZsaR0Rz-ovU6t31bXW75l4l-Qr5V_Sxifbo2obNKDjO5UVijQg9AzuuKSRAotjgTww-hBl62Vtc2pe88SUq9qq9P9eLEGXi_WfoMllLhNuZqeaz4le0KGGQcErYV-VXfos48AZTFziDKban19G05EN7QF1T3STUKBt2i20ggI_mFARqbCDtIXah8zjn-IV6l9aj3s-EPfmviGaHWdjJSuZS1DDnGYsZV_Xf3V5DCmxUMlnBY_kXRnfSaHSgIg1YiVur-SScB34qHYgH2SuGpzba51doG3vd5iE6z-95Gcw_qmEV6-YcDLfj_Y6YbF0mjUl1O7x-5FJZCPXY2Mbr7NEVTFaAiRXDJY4stjoTUzqhx74HSi759rTOvKx8kZWuXHZkwnxKWoGkcG5K3XB2GQN51dhm4yw9TIxPDfMoWg-e1h14546wRzLuIIgSyDknE8VWL7rrqgHrb7HW-nF-7W_FMkC5yIMVhxIfVhQGo7hwj2IA2hRX6VP9a8-Kkmh0g7eukts7RlYOtNzPa2gcTHwIconnMdVi6tUttYggVl6t8m2hrEhI0Ourj73inu6CBqMMsmX43254DvlabyqLP-2Hyp_Z0i7r11zDp53ZOE9w0aH_GiyS5WBy9B6twCX0GND_xiCUg99W2Rn9RFGW0e-xRihXv2_JDGa9JAZJz8wwhCESbtYVmC95gHM5wcO8Bhuc24zXYzMSDRrQLkga0uL55W-1SjHnUhMNmivHPwK268yI86xaKrW7hxsh4A_0T3TulKE6vZ0RQy0_SzsB)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
