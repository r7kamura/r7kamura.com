---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oH-ypzTMhMlQp4kxRdAfQ26dYlf3TnAhwYMQ0RrnWyMt6HmdpH8kjamNVHpypt3khU9O_vf_e1MZlYZjc2YeAqsYB8nfy_jFUlceCuy8lGKm5-DQyoTQpPkQOHT7fCIe4wCyEYImA-b8GHMUQo3P8oOYqaoZM5fRnNVpF1xAFuQ4MR-4b1YUHOkgRFdW1K6T0q3DNyvA8CE5SGHcb39oUHbbwm9dcM8vdQhOWJ-5WqPch99ur3tJPKzhdfoiVWdbfOYbmv7rf2SweVrNk5Z2RbVcA9UuIp_hSiNYH0ZFrOFWaWn-ExKPSxMi8FXVpf7fd9vFs9RZP1OqYnY70vbGAszH9PF6asd5AIrpadhdei35IdgXVQ10RJ3_56_nTkDU3n2JGURO5qs5y3FERRTjU3gofdAm3Cu5MmvVNDBZ5pBO6lr8j0CujVp8r08jQMG_HpFmyoM7qsQqjEPax8g6skzKldvXVogUGXAU2LzgqtjSnyKNsV3sLxqH-9dFlxYehThc2ZcNj1MuXuwE_fl2ZfMqz1KKYc_WetzbyWHDAkDpCWrXky_973EXAle4Y-gp4mtrcbx6VPuGhjiNj2yBccPdx8wmjchgrdBl1rLrY2758NLI4U5Obo31z0RL7C9SiDZ3WaEJFIQfUbJyi33PtQqP4mk542fi415qn3SprtYtsnK7SyRfHI5OnLghnXQ1h2JeBNRHYKHn4wcROKopra0WprQlBAmVVoE8acyGFj7RFl2cCtxMvwe3aTSD3gtZ8RdjNmxT5dBwdGYPxbIe6irC62AZNDT5_M3n4a-vfviTTO0aapOeFq9I61Y8OeBlL-tr_44xA9xHelHHOoFcXqT893C1GvxYa8JIIcdC1y2lhcxMLDsWj_w9ZzRUeL2J3o_9xjDWOZeW8ZePVdp7yoWisuXFoz1A4be1sWu5kfL0GUpw8_Sj5R3pHRcZdTFqCMCMlZfyZkEWlVCc90Tk-1JTBAPtwVyzbqnxFJMC5JGGunJjZOu1FlQGA77XrubLFhYXKvbdGOgDnlX27yZozuMH7Izng1MgYBoMDvVKKi5gJP3xUYN96KevfMdLEhtKDz04dAvNxELIrekQXRg2PuWWCtsTL80sU4dwHctE4K625vKTsHSXyP87jlMvIFVsS5KywixyjzCRZHLDWikA6Q5kcFy8hu15eIFnAMpZGG5Yiy50euAbwSLBa_gkuhZ-ih5J8hsU5Y32tZoh8Vxc1-oKX19OgeiYDJ-HLSdnq2fM65N)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oHaFEq1vHeSwiwO-vaAXNAGjQ_3GQYIo5hqKnqf6iYlpR65Xk6caxY-2vIA4F3j-3Um_n5PdCQadcgCA7DZMnXpZmjqFc1AuQvULg__J2dAq2bDoht71KTtvpMfC9jKOh7baUYi8G5JjPAhvG_qkEHh4El_cXuH8pV0K1qM-3ntUNtN-R03n9URDxu-GpD7C7a0iILpBz1kKrN4fq7ZnFLaWwRZZDQ7SARgzkBGmfHc0xPjEp223XnMCf3bFq7U9ibSNsnHCJCeItzzf1l67zSEDC66aKaRtzNDWYMCxTUFeFGUkHpsb6Yr-Suezmt167ASULGwlrnmV13EFVwtyZPML4-n_9nahlR2iUCGz35pNohfqhyqf1boJT_X5wKbjR48wzm1NL3_s156ACiHgDVbOkfNqgRlfHkTKw37s2_MB_l6BNjddmqAYclVtF64VCOVfJ0ohH89LjBoipgbvNCkQmO0G-TsUvZ2D1cdEeehUgit7V1iesJrjoZr02XkA4xaSzFKxQMrepJwz0oumU7cTt8VWJE8QKHIFC0ee1EouIZ5gTqZb5iQAChq8mSKd8p53sfsdw-mylI_jR_OG8zJdYwgwq9piXcDhtdjGYo2w2EX1sc9uG6CabxbZpNTW-5v5TF1LswOVlIYR1Be3NCj3uQolm1Z9MhvYkcf3M__sQyS65Syywls2LiAeIDnYuINP0B9B_8h0DuFNlugnfpGt3ab3pgXd5s3zgy_J8UGgEuKQht5yoKIMLxFdW-rNlVr9OlCHahSB5Jji3UXuZEFBeYVBJUweQZ0IWvmftHUULz2yZcJQJyiP3i3aD2dS_R3i94FH3Y61BEP_R--br4hnvuN7wdzULHzSsXPj_6IsS4Ran4v_UQxEe8MlottDA6CwM0kzkTfBGrP1Kk2VLI6th_3Qo-upWzVFRONJYWRul90MeYmalGt2KdnMlmZwwJDXfs5zg5MZiJ2B4XmLtCpizz8Oy0tDHpwTidWTeOxhyIjBrAQuuFot-SPbbKArzN-apUHVJpD37-aaNHiNR6FRM50gKdgxhQeIel0hPhej8hkAyaGkPTs7OCyl-X43Kf7_LRDj1bei4fHfTvbSFNP2paudB-_hw58XPB7T67S1o5ut00VzPFPFU9PeabtNnKvT-w0Atqey1JCnSViaLrxe-qqyZs4OJVo9LZhQxqOmRUEGQ9f3npswoD7Hegutat1pVIC4SvNjpiJAWvFWl8VMF_onpnUsae3GCl70_SnwdVn)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oH2Q_l3imdVooX5sYjHCua2cO7_ELLrpj4JwhDVz0IT50tInN6gJv_ecYNy9kUO3ZZY15EZFpkagk9yjGAKZ4rVyFH12ACt4Yb0Ji7Z1_hdnvo1r-uTcrdOQ3SUiQnV8p5c439TpwQULFXVZDMEnazOTZnB-M8wp7itmY8NU7GV2AN1CutxbkfbZyGlqc6_Ti6m96x9aZpPPuYHYdx8qt7j9uldUR1_JU9zlpQFmbBLY5rxkfgbxJ92EtzlMCk-B_a-Blgam1daXH4vZks6mA2jU-c3hqGhK5fq3em2RyVYFrRKx60FJe33_4S2wSfJq1do__9bRaNaANkbNatvr-loWy9oFQdljhslEb4OeSZSwDQDMrO_6ikKwHXhyScq6l21AYkLd-hLTMpDJo2LYNCJGSD-9TljhaTG1l_xxo9wPc1YsbJBqOGeLMe6oiFd5g2IJ5TjHeqN3jFAF5LUOe_1po8I_uIIB80fxHbGvqFAqfmtilK_77qMKvXYgSENQ_HgT5COKuKp9QtzO4_i5QhLozUgK3gbhSrN-rLs-6xHvTduqM4rvYgjADMJ9m4lICQCUD6KJj3DYcQbtmpdPhPNjaEsLW_CUH-OoLN4R6Xf5orI0tkPahHdw4vCNKYoRejXCRp4IF0fW4CzcI_pOXwcRKKpTIGX_0OPqGJZhYveb87Yu2OXpHZ94rYYkLfhc-jEPOfcyXztFKr5d4nwwruPaKMSENyog8EGggZCVExWYTQWCCbETPU1gelliwqX_TJbn7fXcL0NEH1RsxIPDaqkwN7YO4xQniou7ADVfDPfMqj46WXSmYJIVAQatEw9X8cBDWgvfl0H7YGYVRaK-E0PcVr_Hdg23JaA83Dhv4qLfuWiiKWYM4RWCdrJI0QAtijqL5yqrFPtX4m35Xf0t4EgcIJqgCowLzrHtD73NnioTSygeBSh1i3-HLycOE27zzHLC5rFGauVp2gggxW99mVx58QBPxLvFKCCKhRi9QGVpCy_Giq5xxoSYgG29JvKT3RiJPaCLbTIH3xdCpM4ZZgxd6VVwFlvrOUw-UhjRKbOTWt_b32-OblUY4Ou9NV1357fKvvtkcCof-kFR4RtRxloOJp43ABw_Iahi9Y0_mFt9SGo_oQYgzCnGfpybA6dXEXzNqrvBcilipah9cTJ7ePkeWicq1pJ_6H1b7-5JCjApR2ecLFJQOPVaPi9srOO_1NNv3Hsj8BF9p1Da3eLfyrr49-bEiVzYk9ZJ8HNXHoODlpS)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
