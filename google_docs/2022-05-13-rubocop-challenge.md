---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/AG8NV2aWUcVmjawcUOr6FcLLS9RvrrcICORkkvlKMQT2BAb65vFBwglnTgDJ159q29XqF3hSyUSfjAykiOjkFDjvUIVsrhcEPGmdG8Z_4_7U5c5cWuys130dL7J9cF9S6hOOQgkVFmDmLjY_MLelUKCBgzpPYC72nwBnESVxqy3gywSSYxBKv4XPfFVX-6xktL6QpI_wZTdYGZMG2raPNGKYDSpByoDHZjQwVkcBuaasUn5_GnPw4wNPkZcFyCLxbXR0Z0KimNWjQtJGJsYHYKV8hZwpMwfrD804b0aerJvgi7gJMe_vdsuoobBaC7e2TOTcHeF9ImaYZDlii38dGnP2hWg5VTvOsr-_jhjeSYlexcaZAsHM6R42gREPjuMF8-h_heDwMGfmebnDd8dSovVugXM3IEhrV0txpKrAF60GsyQewDyzpXjG1SyR2vcmeqb2il81FFiJGIQS5Tfd_1VmD4T-gEI8qhgXSa5X8NxH5FOuCtHFuqrBdievPeOXJLN63-fZmZiWVW3hLTddj1RbAa3wyIf-26NOeC0w_8mEkZu72SXVmxbyLBD9lOKJHjb5o9Rc4HmNWfN58WWAWOz1Zu51NtENdQS_3rowluJ6-hXOTYxgOXPPqqb7IwjuJJPRVluLQbmotvds4gcHRnaacEaVjSv43bbQMoZTtFvCQdEcCr8oK4KpqWbaAPJjvawgBDDKXWPmXxYjQrXZZrYw-gHFHJq3g-h2W8QOl3LS28dgSwrly_AKcNkVsfUMjMnkZsd1l7XkQH6BJz1mLJU3Z3zTR6uGrjXVx8sUhxgwj5rYFxp4oODr_787Pk1cOONlSbfTqviXZGydZfAL0XRJD-kIn_ktLDxsnMFZ6AFzZvjKDJV30dpmntD0YMjSFENtlo8xuo8zdBSQR1jTxTYMSTwfztsywXx911EQHCBakreUzB6NXhkduFbKFVhtBnX_fVOzwO-lDrShGBl22LuDJZureCUITrBX0CvhUMQyiRs_ngxG0w_OpDWLgmS7BZpDhB7lI_e7KtFvtBgzHaTu1VkcWyeY8uld2WnFTQHrQFWKE2486oMqcpwkBN-WvP5_lFt6eL9gQHvlxw5Ryh3COFcvrdOOFgkkvSBe9tD2rt_AMHMnw7KXzHE6CWJqdp6uVu5c_5d3EAd_n6fyw07zUZbG6KDhL9KppT68UorVzV56voxNXhsZi2OsImk32in6uX4YOYyyeae6GGAQUzMPnwKSPJ-A18ux3Tcli8R83Vu5HkRc)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/AG8NV2atJUA8a4hWAgrCeJgBymyUB1zCp-g5w8HENrCMX7RQr9Y4XW0_EpB0tOdQtfUUanEH06xoQG7_EobP2QkoXitBbPoa96gyj2znWVGcOVWh7P289RiZVRkzR48qm0m-L1u6PpZ-X0xjKoWLEfTqDajS0QBkU6q7PEJnClTESFB_GkylcwTBcQKkiR89Jo6IeuDZo98ErvvbEzHMaDQMVnJhKunk2gjWmXDvcf3QeCNAF6MZ5Gn7nT3BE1HM85Tt2qvucGe32IC0EAyQrZo8j7oyDW3GWGvFYgm8stWQ7DkkUPN68csbUeUM1eN4126G5KP-bsp8a_1VfAZVEvnHgtIks7UuF_MdGo200WJfPTnwB1Tzc4v4apUvQoUOLTvGcqGn9JdzzB11xz4K5b4gRl7Tn-leJgc3i4xWKtKllQEOtSHIvc5AmKh8Skw6ZGS4_gkgFa69LmOcKU_Iy4jNZrByeYFGy_ATS3AZCG3zU8K7RmZDcDcD22WUevl68zijcnhbAo7NsxBbL6gOZSIfC0sLqw-nE1gE8DQZ_9xCrjB0LdU6vtM-CZmJOs_CpYzuFw2bIrhHCvRgkbnp9jd2Axhib8X2wAFTZzbrw2vxn_xA2DfPIBLeJ5O_cU_ENATJkgshnMwkFUW4vUZJLHcsd8x6fLeAJ_x3eehpeeNog11m4SKzkixqOibnIPK8zXqmFMFvKHeQpKrvClriM2AnyFoRyNO5aOGu96i2QQRg3UeQhpzC1MqGymWwcVXK-ABqpuHvokujQMtLMPK9U2iHeNPNg5zM4-tLpVjQWBVArgaNi0q0ZKnTzo96PtrkxXfWFJMUwH62U4X2js1bxjugUDPOwrBCcfJCWbF4FuByERWtV_DVoT8pzIxxgPh2SJNYIB3Ujx2E0YmqYH9nM0Ai-VxC9q1fPTA_vFj5oBbt7nB-oepE0oc0LgEXb3U_cmYIJMmfIWtr3EpTPHRGiPSByb-P6v3iuSMAaryN52scq4t9QQB7FtCB63LiNLnAiSnsFX09KcPB1xtpmqKCEPRRxeyNg1SkMcRrKXMPZa_JGus_73amfCSUE9M52qeyKU_Xg6ObfL1pLn6oLsOu-BOcPwl55zW837iFBHCopFQbM6e9Kuwppe8MdikOIRQEwNsTaUC83cOFfNeGXgoFz1q0qJ07_dK80iBGpXOqwn1MVSJFbR2iV4H5LuC7o56fqb4YBqDG3QsWgQcuDijHkSiw4qfyzyha0UgPFvcFjC14Qw1CmIb1)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/AG8NV2ZIJQu0yGscdZINhxBgX1dQcWziTa-85PBT85Eh8QWq_wojSUWMR5-XZyRpelWTXidoRixO3-WVM9b3IfSMuhpXeyQdbXx4IH9-OkqaOfZSwOqBlG6QeV2VcW8R0jjLBUjwLXqx6vZtz3UeXayqA_r-S1i94TWvfgHGyZwbKCuCH99pvCJVspkfe3hlXMn7_R2j7tvBGLgV3WhV23aG1XKOvjFmttgbHi9Aj3Ja1_NbA4VU03KHo-UZNsYfx2-cZfayv5677XZBBLgWRDrzOhhpJNO_nMXeVfOcaIukaJLUJMzA7IVkrofmVsU90TU6bVXrhbD0IVjeYeCKb_LwW7c6uF6ytzh6C7Bkq5MpSKTvf7lNvO-hBR7iAUeHTJuPDp7qgUyqJGgaoFEWGCH-kai4AJ3xAbM9LoUvuw3RZnedKgLBSC73qRE-D10eVzrVoimJ3PzyOBu1IZokOUGMjXJ1hXYXF2SGZpYyI-L_fHGFTTKY48GL1EYkUXuIVJfmC_shJF9L2MHaT-Xfll9SL1v6Ts7eSFRc00yACGBe1mNnCG5HrHsmR6ptBHtWkQpRwxvkXP10M45MT3ppAQUIzU0H-WxGOz4gEUeBxuSo1BQVssbbfTi2cSmxJxnbEJzbANFMSS-JDAZ7JuncbO-D2xZPlUvDtCTq4UMhClMJ7Z5RTRaQz5eTjB6UAKZb7p5w1ueJB7CQfDE7t8KCLuafO4tBo8bKCyxONM-4ZnHak9aO09heD1RnSP99jLD0UCMbxhNUbi37ZDNIvfA4CJEHR5nlAl1bbM4IP_AFnqEt1WRNrOnws6x2HcImDKGwP0UcctuX3q4evPKgJoZDTbu0Mr9RIr2Nxr1vU2wMhYP-uS9Py5eXYlahMnLG9ytJ5vyst8jRzmWvj94ZCCd91_KK048Zifd1BHRKfti0ghQbKMJyui13v9yf_l2R_JP2BoOyQZOf5gFXZEMtMSLjjKleveFR1Wx116IZ8IA0Ka5T9GSG37nLzf2fdHwlOUxw_uWHcBuWAkmou0PqAvrgWmCR09kLnx4F3EFVhYX_dof5lYvOnIHRRIOxHofLFy6cBHJaNNc83laoN0I5nn9xmB41ZfJrCxU_rfteRr1Au1vSvAQHo2Ag_N071fw3s3bRUZ5Ro4DMGfA4QqLJrXNivtYqC6UPUWW6a8KbepBl7Y3-j5cjCHwuZhqehPQmph0_8rMRcyBYatbqFc_hwpaM89X1YOiiImlBjmmcNvG-n7SzsMlVBdvL)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
