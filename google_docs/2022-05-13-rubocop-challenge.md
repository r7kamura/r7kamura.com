---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oG_X8sgooOvyLWo7ugunFizAH-X-Ar_ShWaLsSzCv0z-1I01tR-G8qOYW_VjcbQ5oZdBoK6txPNVJ6oGb3SVKqxkx_qoZMnpPI-qkzXAVM_6KP_dMeY_dMksVbBxP6dDWBkMQvsvp9tqOb_0drtSfBqTFPYoBWOg-_hhQbQrQqx7vm8n6PVC3DO9JVAVH3afosDZHs36m96F1UuVFZ8T7HgQBL4Fi1u0m0Ixe7BjWJ6XumDjlrA0zO18OryWuSONw90FllQJRRlnfDQ7pHgTzDH6QFETDcudzxsCat6vmefCUoNP49tilFnk-DX5dmk9ZLSMR5Y98cxc6un4Zx5jOt03MKBfhEYDlVQOlbK9qf3d8_ZHY3o9dulVF35sy8fBdzbSyEPwvaxM6KEmZUV_ilSF0zIkVo1Vg5GKts_KUOUZpyyvYJ4cU0ct8Q8juzKJZwGK0-nrZ-lh4LqCewDFO6ZJnOfx-YT2edDgLzAPUshz1d4eQA7se_WqsAJeK7IuHrx2MQohiONZPxcFfwM-Kh_tM_Zm0ZFjEcWeBZnrjXbRLtXKtd8PgdpLeCliSNioSAKxGn6gXQDJCXGDbauvl_a2ky1fkbeSBK5qbr6m40k_WbQTVWGh8yqdu4s1TwcSwcXRkZDcLvzwhdmyHExBFqHTKGKbKYV2YcRiiqcUBYTvqr1_LbESbu1729ZAfD1QfFBEiWTWWvKfCzP2z-ssAHDym4fefjPJg6S4CjTPrXa7my-8JaCI-7RaXbcSDVDPxrbOND80NWKJRcLyrzRFC3Fg_HlONfMknjqYA_H8cG667rIOQTqYLhtEHJsqa-qHFkGojlke8zHW80PnmVnQCnjmsRT3kkGA62jDj4NxnJmA237kpoTzuZoY7rSuI-sxy5sAojlZzDHg261cPDYsg6VIUqGr-jEivEzXZD6xnfGHARHTllwONAzNphYI8hGxHiultHXzo_sI8KvYwOch7r2eVYsSNUdnw-t84Ht0TeapQT8wvqTGDBRBWlNYkNzqcKo7BoIfppIILaBIwuS2mG43cBO6WkvP-PfCmkg9YZzYEe9Fk_ufX6j9gb5wHaFXhOGtXhFEPITd9MJeuR41escVK8-xi-gMA8H32COQlvrlv_QqbNhoGfmkj5e6OgIncJPhGzmIvAlZJj0KiY9TBlOA0SzfzhYz840Vn5tT-txdoIB_RV-xnQep5qQzl-2K5hSVh_jbyNSefYjRmSgFtqtAGkGHrMNaqnFX0uL-UYIULnw)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oHaoxiS298LcR6AUEw9Hk88jpF5I4nlGenhm6uThRJzZ9oT9xfPVraJFeMIYHCV9q2Hj6CfdNhFKs5qUbTySCkz0vw6bDKvWZEU2Cz7-d-sHCTSIfjmJeRcWYaD-dUCt4uCMm4sNae4Qc5Do9766IctknzpBKt2vdHa1RiMUuwVrfANfgK8C-GCQ2HZuGlIGvPeMYF9Im0wN8lT0yUZ7k-3IDK-Mc29pCYAjEaTBYjJgAtNJDn-_-qUA3go-sXEPf3JgI4ywMJe7VL9ddXM0ccY7Wqb5Rmm9FTSHNIsrbvuDywObKQHAB8CDIz6bBRhWORtvJXATaXhmxy7f9ZVa4Eg4vgV4igBkl3eQqpes7VN7oNGh4g-rRqV2dfo5qziuQtCLGgtUn1OQQK1SvrAmQ7GbDxbQ7zpPojIKG2DM292SwMI1uQN7r79BrBczckwTjyRyYVOLgJ9cxUPc9OIh7PAYiQ33ONievGAW5boZKQknv-wnJjtE7pwWaPZs0Z6-OgtnM4l3cmfUnmSniYh5EOnFviuB7YcugtD5V5DT0rzadpBsNDBrgm-YFHqJC8l_Rw4Bbq2PvSU1SiOp2WtiTaeXrW4gm4Lxjf4f-oGlNzbjW0kEkqJm-uYI2H4-tVH5RN-PsRf4CJznZGDaZebvVgvftlkbrWwcKEyuUYei0iFvlOthhVhFSZ_0mr1I5MkCZQwNab5WcDSr-yObxb3GgvvqPSLfUBAMx6vr3e4Cs6qVOoxAJ55ZGJxN2bp-Kb5gFJOolsjzoIQobeRfoLk-dHM_URhDjQwkLnBPeU_LpQOXDKph0ZiF6F8wdZxF0mg2Gz1G7bNJtA23HntVQxNDtteHGgVI7Tu6Q24xtNbdmRRFNHVV7OLVWcpLFqLm2GG1m5Jya-bzeCTZhHgFXmbRht2MaP79D9ip3hXXvnLuryZWZk6AhyBcuXZDZQHdgCgSWGiOoHBgoswNgA5n16hQV-CVwf6MMv4FyJrJeL9DkjHVk1uzHt658Hh-XnvUab6XaYyNiEM8qeRX7hkK4iVRZSvZKFxTAZnvR9FbU6IhFA9yrPvmAdopcpmP1S93em1nS5XMws5TZkb6YTs9J0FCJtUmAPc_gh6ww7fd5LgoM9ffBiljhh5h_BaXuucs77Rn5G4G08tJbeXi7wnpHj7o9haHq2XvAJZq2YLJ0lxdpG9KUPgPnEocQqswZVYZ4RJGbrLBgbl4YC9bsdsepVj8_H5Vi2EqWCPu-9EokyLyi5QHzmJ)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oGzLwR76cyWtpHSBzdM-aHqutk1KLk0hxpEFBTEBJdNuh722qdBaBqfGBSXC3lo_wLe7ySRwusfEO7uv5Vqec0k5GMc_5X6ovfyAoPQy3CfXwEwsSh28pjWTti9Pv1rSioE7N_wuvtZSEtyUkWjuu0NXIQAo9bQ9ugp8gct67j4BULGXN8RxCX1CTDgpPa7d4qN4BewR7KKWWCCcpl5swehjMj5_qcHl5djTcTFcMvAoXxdMuyrH0jXOthYh4Xq77PMjqO9A6YUA5zk76Vk1K3vajxNQajPc84OmHG7QswTkxlYFzUTtS5nXiaCE2PP4Ecn97m5nmQSS-xwsGO-hy8Ei-Mnij5XLfMmi_t14zFCBlsedIOP1HXSDA5Q2HNM5OwOKw1QGMJv0e9oD78OSO3RS_oZGeuteOdth705ZpCFm624gABiejaaIAG1W5iQrq2X7Yi9NPts1QlXQSjtHWMg6p0NqIiyPxxtDF7OtK7RgGTsY4qxUELD4EVqztI-bciD8luAYqI3ILiBng3Xty_LK8Beys8TKfIpAUQSUjQy-0COrTehX6txMEXUUYb_Lm4aYIg2MlJv23VFGSuXSHAkzGv1zwOvJGY_q0iC7jSWNI_3nM1q70qkmjPCNV8Gw7Y5pefdB1vQym3cAbAwnUyW2TUerDf2dP2-k4goIBcVFiaT-KtDDTOHaaZfiNs4I0PD8pKGiclt0dTDjL19Nhx3Q2UQOuAPqbwIxMUZ7xbxFXyUUttDXbVMUd1dgqZYtj1JpNoHktIROWzT7aE8Zvlp_Y-s_rtZPhdHilQmRbPDHo1D7q0RrNYVrACF5_fItv3EPoqj5cqX9MebpXJfEIzOOITHCC5BMh4bvLXTRGEaBjsIiIDdv0mQm-REN6aM0pb0wHWGTaeP3KntwytzxAhw5WnIvRrGQuz6kqfyP_3qWbjJO6f3gPo-OpoYROKTV6ff8MbIdg5c4kVSMa1U551qYaqP0MY_1tvrEzY-dIbpaCG34GQ_cB4skReLLUmCMBW6v2kitTeIYX1TWSOjhayPzYsu7FacnFHUlXm6ytEg2XOot4mrzYqmgbkKS83jzbC7TDnd4k9f7puWY-jtn1H6kzhqAwfRhiZst2LerDs6W-J3zxwIl6T_QAfZ4DWg0xWvF7E-v6qd1MepjHkKvLFRBI5_--wzzxc0lMk3VQlegeYL9_uoyx0zuc6kR_oYB0n31Lc40RMdhx8GThLVC26QRuJt4ccwwWq3aqDvzDzTWFma)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
