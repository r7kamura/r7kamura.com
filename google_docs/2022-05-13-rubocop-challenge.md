---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oECe1YuHAOdZrk0bwY84G2InO1xxA92EfClwn1kaqCQ8udDI5ztRI4DocQPPOubsx543zCeqVdrwGzLk5CgP-qbA5WTa77LTtdpSGEPmyLnHK7HM9YAX2RpZ-jtUp698VaMadwuaBIlBMsHGR35h5ZZEAMZJ_t19ptqUiBudqacbsiHCwL3pXcubV04aluIiONNjHy8C3yE_dey3dwjozvrW0knoO5bDmHRtRoIi2IqrPfqALJHR9i8PE2PnUjAbF3e-ywh8Fbz4iP9duNsH8CreAvVaCEc5OTiV-z9JZcFyvOLRo43JGOzH6dIInAPuvJ_AjN34Pggmk8SJLAG2VywMOnuSsEJDxPm55BylL9WM_OPxWfgukpwqXNzzK7ilQNQwc7cqwtM4oHXrC14QD1gXNIMjp4TnbTMzv9s_IETtc8xAlr3qJIjnt2qf2SU4OtS6wiOAZ36JbiIvPMEninadXvoFifps1K3XTNrk3fPmfSjmAF_JSlOWcqMua4qEP5lKNh-HD-0CmHC7qay5GYY9PM5sQ08nBJpVYBWe54A0694NLasYem5UAsXzxQ7iHbGwqQ7R3LmxmbH3yZi_YlRP-GrgF_cRufbEgg3FD1_nNp0u8aDYL_FIy83ybAQ-KnP9RreM7HWlOZpybMVQPqJWnO0pkPwmQ7rzDb2uAj0CK_eIkTbjqR5-BSV01qOaVYYPklNAU-UYjUGswtIIrqf0qXjRm-Jot1Lv1dvsCCsqGlptGjlN8t_NIRvtfh7i7kdV4mnLsPxsHhlsQYpNvH8DVYEjInbURkzQSLZNqz0KpYZbbvNlmqd1C-SPDa6SK0CTwhcwBeo7U7kiaNqRQZwKhne-HPsxtnRsczw7A6jBQRxY59X9W3eF9-KQybvl7POkKwf1UoV_04806o4-PLaWlRF9D65JpzcyPxP_YdBh-D9h8SpO6c5tbSs_J5AUGkWAnDEkU_8JfTv6bOeOP1yE5A7z9pMAiLcgIDxDWXGqdyyDH2WwW5op7DxP4EwUeoYBD7Dx7wXYiAyWlWlpOkNVNcnPD3eE8ETuJCtllOvfroc2mUNZjTYWSy5KKkR0aYbCU--l4QjdXHjXj7ppWLROCSgqhkLTZf0g2opZgKl78R1E5_ycOKW3HlEkDp_ir5NZoukmP8Ik17kEYrujKrS6rKpTHrRqz5Oh9INCfHvyTVJPPL_H4y72SBf6-gut0-952RtdA7iKCWuxZQRzVKGmlDoTS-E_lHpln9tq-MZTYx-)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oEDcr-_phPUnpD-vUWAm7scVTLhq0TJ3S8R_pMymPvtJwM_WEJHCyrDCHtLTSr-Si0Kz5XFj5bd_4Fee1BJQUO_UgSlI_zcc8Ypl0qD1D4RXcrMAhcSRLj_WBZzEUcDe0z_Fjnl9GzgAAU6TCKbL5HLMT5TkvWcKL-szOHeYKT25ceejKnjXVWlcvrwoyJpCBnHYbq4mk8pE7bEaoH_ZCQ4kWh3po-tWsFvM3Wii0s0Gj2ctnD5-rZOVSDpoYBraCJ7BwN8yMhKx1QJNC4bzNV47nAcqOB6CDXTuVQ0687FCLhhwj7ENfZz0UeawKDwN0JgbQ132sMz3TaHyyHPlDCL2imgAtr9yLmSwBYl43lw57kKaMmMaOpkf6LIDyB37EhWHEw921SSs8kvlmFQUUQUlMLcG-ivV3E-OeIbka9--5N3TPm9-HsADsr4AJdHfWxqQxacmFuOZr4AO2QvXmiZoC5E-NMdFxIIe9ZtDk8-pRyIdo2QM-k5axKdQpbLOC2rsXbc0wi93zmLAMABbk6Tda3luVEKi1CCP7dTYzb-PAOBhiclZgdR0A5Lav07iMM7RCI79drkkp7JhtKa7IVxFXHxSZZn_3PfgQsuk39QueUalng2m2UmUHbPW6xwCx0jJSC1hYYK5xKpsJZ5bl431em3ghY9NC0F7v4m3TlBJYtcDy2R8VpvJpkAJJ-P2cBDohiJ4tt2QLEispRS-PoPz-bpT_QNvB06WTpLqdP92FNZvEt_IKZQCiTmTyRJal-gPy-EcG42Iz8jsSkmnwsdxjN5-sc0_0JBJDyjhLLpPi6dA6Km0_x7N_JwzRXPpV8A4gL6H_REWqOn_s2Kbt3cuECYQHLeFM8sRAP5QzfEaYOn9WkFgd_wiEbj3Y1ofiRAlnUsx4TdYZUcF3NKunK2LNAo1mlNkVz1XNlr17_e0_25M9PqippV7x-IWCowHy-USUZK45Uo2AuIwpQUfETlmNZIJqo0GoTcSKfCEzy0GfbRPFHgS_oWtr5mnPOGrwpc4L3rrt8cpB-EAhVqllmbrEh_Qn9NUEb7-GYuBNRbE2D5unTty6CUbFCE9OgwA9FEPvPCduElzyDJ0G6kz6lLpH-JMH7pxSbP9-ui-H4R1LESmVNfI1jZhxKcgchHNxWAGUjr2C3JJAo5uN-hqgzWgz8Xu56x54pJipLyc6Mhz6Mo1Juhwk6_sOj564gbVown8psudZJ7HB_-UxXjv5cSRkYUPwRFuH1mHwrG50zVkSoc)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oE0JR2obNjPxOE29tfQxWRy9F0Xhnli8nqPxRSXohXKN3fnyyqdPT7kJKsZWb7E22kEb7bPhPw5lTgjwepD0JXvyH4JeckE1hZw_5iiMJ6odTpF2DscIEABgJ0Imxh3bMg7g0i712cdGG4fbN3io3ZTNRjI2NtFXa2Zfj67lro4Hwk2xOBS5ytqQM-U8m3Bgztjj1P5Sac91ITEGaCJ53ktuLFpRFVnUUqeV5tcPovk1nla8epAbPltYEzht0uZcm0kAHZ6ubWczzX3M7CeKwByvS805Q1F6-3IlxdCBODgmguP-tEEBQQcVuMiJTIl7yjTUyTv0vPzGXTDtUI581nWw5likV7KDsFbhacptsVcZMQEpbSWDjaRIotOG9pSG3TNvG-NWufXUVdWcyAHFfOLTct4NiUFVjoliQkFStqLUjY3_RnqvAEooWSBI2eA-lEs_zfpDQN0-nXIbBGdhk1HeM80iu1GRLL7qd3vtolNqrIrn9fZ0buarQYDgDdE-uM8-SLJvusLwQgp4G2ag7GSJx_ayjIyEYDgHiBP9xeS9S9-9HByUxAzIwOm_Fqm6gLpnNYldJSAcoAvPcqZNFIeGVA_2j-36nZJf_V0sDUoLXlfIOLx5K145rSVuRBK_xsSL8la5rtV-_akB6z_ye9Lazrex4M3wIuGIGZy3CN8GnpUzkOviIlF7oNoY3oa7uPcR1b9jgu6TZOpizhF1-RJnEQL1x7efby28Aipj8p8mBxJs-gGe4E8KmF734LDuF6RKaO5T13NKjd7etFiymN88wGEZMnM__VIZki-CaXb6RE7PWzmxGY9p_kYEhPt7XFbfCYo4s9NGQANJHx9JSGwqNLz0dtHNn6lbTauWHy7NFiW9EZ_TNoJdxcjXDkC11JptdBRLck0QmlExPolnuSqAs7pUirfjbXJ4vDiOv51ek-75rfypkGTnnyEjf_WT3A6bejzRqlVqc_YEmOL5quAUxDqLTWPb51BrjxwUR0597lMauP4c-aHOGP9Ojsbh02rru4CG18L5Wx_8-Aj4etKuIfSMDxO48P5P6JG21bVqVHsy0pwTRS4dc4qMWDNPp33d8NdB0WGGzoFXFFS42dv-F5DPXCZv-WhsL89vPdQCVH761y2iiwuovgGLi0jc4bEFBvEurk5aI1Fkni8TVhZVu60Gq7bnT9IRUcSUdT3NxReM9309fL8On9VTT7cpMLd6uKqPzAg9coKbcibbw2p4zESVicKe8wdeC17xVPbn7jq)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
