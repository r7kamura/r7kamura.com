---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oHVkE5InSeYwe87D1JEZlgm-VyAM9dTdLvsHa6seoysVfnZVKbcjQgEjevAyIS5UBPX2Gqh9rZAR6wwebL5m-h5_u8mHzVI5J_exXd-ZNiJEjJ5UlQ3d0l-xSD9FmJc7jW88eoPC0EgYUHxs8sEoM9hECX2irryv2oc8Mpm1QYpg1CupkOXgwU_7sxErKpGGiuOnxcUN4l-1LD15I3DgngjOR05ukmxf-dUvGhJ1YID-a-t8wkgaWwZGVgvvcR7ed7io6ifUSNtM5cOCuRA7ed507PPefOYUMBS0N4-D58FgQ5q4igUweq50Lt4pvvl_C1IQ80gNT8NLpLBSw01xu65pdOwR6dKPuqlLXqdDdiXSbXueRt5REVIdjhwbBsNMhK3kYhjLLg-4rHSz1Avttwc1eUmtxl51j_y1d1V3ny78V65eBkh9OM14vtvRPdirDqpt69TYx7SfwaLqWC8h5hJY9jNHhycX3eLZYK0v91FkWxBdSYa_JsK4Ykd1F0HpLiiTKsusp_Tde0aP_iXL45KhGbpLmmwLb69P2cvtNyPQjHR1NJLAaKprvCEGEAvCn5bWjsdQmuIRlqY_CyYrABLbzHoLFvZ58i5eI5AnShv1dnTXZDey3NGvnKSx3KqQR-9xnd4tiOZF5TyPocRmtALrgFdXSYkRs2ziY9NCuh7rFtPg0qsrF6VluHpYuBjXuDLOAzrHMH0GShLgMknyzEZSoyXMyTgjU3987jywwFoMDk9KKkMoi-gl0AyHCQAO68Tcpq1HVaML7GjikauJbJRcI4rk4pJ_-msqK_vTwqCMmfnsxUBOtJExAkRRsHNkVk4zJpmLq3dhD7laB9_HHzZaURAkLjQWqeu8bZN_XPIHd8BPO5Lbcc0fLcL14TaWWg1nlTy-WHrMseoSwlytxg_pdTqBOnpygNxlFYaNxmtWsXwCfib-zgCtz1woduGqCgX_-cgqveoYy-roC3UNmrTGm6P9ATgvY7Vi9ZKColyg4TPxGRIzuH9oApdqZ7MCFJTKrkLNrYsVt8ZKFbef3cyu8Nyy1GfNUFdMv6i-PRmrzj-MAt-KG0bTQvhPlnymIN6MXORqm6LfZ7dpQvFOpviiwnHgxaGhDJzvAXS5Utav6u_EquDdt24x-scFPlhZpdWXzOudNeSK3mkmvqxUA-lljPVXgNpSD6Vp7RcK4AH1e8LVFocxTUo5w3rFdChTYGoxxel9BNUFzNzJ_fM9DtC1wfw0_W1TsQCOJKY-vTaQUfc)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oGl4o5yH9XE2urMyfGn-WR9Pwhpn5pShkJSobhQYiBWzZ9DIdyW8tQHU4ZjtPiIUT9tI8VDCSThhahygxfmR5L2uWw0Cxfs_fterkFfMbQlgWNUBj10JJGckzTcDN7hkTGuA1BxcEbcQ2f91C6c-N49I3xPsMd6hzxBQ6hXR_FHKyGbRg8N14RbK-bO5JeEQffGQnlr9JzOr9G6SKCUC62QR18dRRWBpZ6H05NBxo7yA27CRy1XZWEBT4Llccj8BgfpxcW5VdUYhiZWbbYAlrdvAGhazvgqZzFGvIA4c9HSsJ7NiGOcXT7frcLmZv4WodbP65BfyN4oaRrYcF5L8zyV5BZ64CR-zsIjDy4r2n-tgfte-p8ryGY2jMqkOccnxhcEJAE9rMq7_4bgP1G84OIeCIFSuqMIwOosb4iediTyN7NopZrlK7X4nRP9xbNYTngDaRIwohMdzFF_EoUczvnpd_ynomgNfMywcIxH5vvezhUVoZ4qmq6srTNLHqIAGyX3nCh4h2Rvvsq9Ouaxiecz10WZ0Ms4aV9blKKOuJ7HkTZjQLePvZBqu9vcPwbDQIjL2HuBYIVK45ceZ_83KvdHHlSlS49-zzsqd136ahaAK5FJDWwlhhhDJxZQawOtNJqeHVzfKhdrk1HneLK5d3ZR4N-y2E8OGZ2QHMuYfey4GEXzENN1coxShKrWqmSP4Qp5IsqvFC3guoShkPRaLylkkQiXfmIDJoc-ZsbMFDagtvrnEC0r9lhZGHhHXShd4bhWRcp2rtryTTW-twQYY9x4dMDCcMYLC3cM9vPXWAJ_Xy62W_exZC97-u7evO66SpogLIafFk5yLFTtvMzHjttJsF9RMb1Qq8t7ugMW5j_InlD2aA71mUvixlUWgGpAGowJkGwfIKxh1ZlzPVRa8eDXkPYqhFNGtvMv4eC2u6y5VvJvhErotFZ6Q8vcVeo7MckXm9EaxAi8Ft2LVwgvbMDZTcUzgSL-jMEzMtnAdgTcZwhdDrQ5G0u0tdu1anKn-_6GuashNwsKAAhOG9ETVxqrV6scRUwFzHs8fwEcD6N3XiKt-5Rpr4H0oGcrv0rLBoBkdMQMAIFrzBbHa9XbynqRNGdfJ0Qm5Wfo5GYZr49eO1kH_KBHxU3nIsb-xdEJJzhhfWv83Ofo1v-oGSfU3rJ_1_rWQ0-LdceQehpPiYwGi8_kLMgvttkYJjDpd7wvrAJcZjYTkAcT0cZtUdgKzmTEWDdU-vzJdXbKAPOtGCu7ZoNw)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oGtBAu93D8i1uxqUEzBu7RsY6WzWlD_vfaBmiX946-v3fcNPKeGF8MRB8J_231CVUKC5cZALb_CwhPIXqWaAWIMaGmXGSNEinxfxkeDUFjMp9CvFv_o3n56Ax2Q0wUWsHWKcNw_6rrNDOgVKXkBtUGi6KB9rBjNA2KNKvKqcJN6UQ35_KnShf9pBh3WBZyZOJxRBwoEfbxP7G9BNZ5pxUVunSAGIqHI7Ynq3fmXToVE51nul6EUUEj5biYhS9pzrCaMn-fs4RwHSlb4A1VFLvwwLP5yn86ZKkGWlqIf_70PGiPJ8HlfI0ehnoPNU-YNNaK2gqZy1u2hoKbDTnwRSQYIaahlYd4x6OCNFlSDlF4RLpcSb4ikhmB8rQzCZGUWwgVYA6NIRw2XInjT7JraSnB45C3EXhKLOecMCXJB-gjVPl7q6O5jrVDVfxuDUyGQ2xM4wWf4s3j0CK2yRzeXAPSOgDCXbz7Ijq4LwwCvZtz7FhgfEytMiTvMntr_ME6d6vMJ_vIKDB2c1KJQvFYhPf8HKXOzwpqTsJ0RzpF7iVA2qbTN2HMkiKkMnj9mQveW5urDWGPIZm4OLzBN87GVcAlrR1ipZyFp3EAfKc_fN2aqoh6V_4XluXWqT2gtBigPdT31fBzs9ol7R3gFVCpsOUP6kKFoQypaWZxTs9ktPnZElMfI8SUIFChCLaw4qTKLjiTETVuMCorwjI0M6eBcRi6IwO1aSvc37KrAoErD1lSghQo8QvYm7dS9jFAX0bQL3O9vtWcwJjxqX1DCwaJZ7BnXYFQgVGV0JkLtTHbe29ah6B2oCxOIEdly5W0rkHSEjiMPFBJcCjAsepoep03UAdc9LPdsAhYJLDFSZZvoBtlcevKG5dVcUVgVjnoTvtENgw8AYYiK96pckRwozPb_EfuPu27nlRcM_RL3mEHTjuXt9kvQH_oi_1tWxSNxHbEAbQSYJXzWsxyLYS6Fs7bNXpnh0NXrm5NRANH36GDrLCEJcTDfZEtMQI93spNtH5FzZqZdVxU5eSxw9v-ApdkBVoM7osKrTvhTfN84dsv3quuEHIWDLCvwBL1tbzadQzYztd8o-Ec2R-7xWIYpgCAF9fKsnGlbaXbnH-NHRsBNyGDZeKvSjz27ljRWuf7VcWRDBgiUM0PXR0O6K4EagsUlETqr7rjhS-u6BlF73AYyLeJBiFStFcRaC6RZ9Qex8kxikfga0W4kq6jXyFaiViUXgFxhp8Uj9gao4Vwlkjc3d9lgKpoU)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
