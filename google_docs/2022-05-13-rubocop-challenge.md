---
title: .rubocop_todo.ymlを解消するPull RequestをGitHub Actionsで自動生成する (前編)
---
前編では[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom Actionの話をし、[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)では再実装した[r7kamura/rubocop-todo-corrector](https://github.com/r7kamura/rubocop-todo-corrector)というCustom Actionの話をする。

ただ開発しているだけで、.rubocop\_todo.ymlはそこ此処に積もる。たまに慈善活動的に解消してPull Requestを出したりもする。しかし人力でやっているとキリがない。この作業を自動化したい。こういうときに便利な、[rubocop\_challenger](https://github.com/ryz310/rubocop_challenger)というGemがある。

便利なGemだが、設定しようとすると幾つかハマりどころがあり、導入が大変。そこで、簡単に導入できるように[r7kamura/rubocop-challenge](https://github.com/r7kamura/rubocop-challenge)というCustom actionをつくった。

![](https://lh3.googleusercontent.com/docs/ADP-6oFaT4jarTd84g3Y784D2LRjq64_zU17EHPLzub3Kexx9PWxYtvOb5G13ZPKjqyEseSK6tbW83worJlzCSftWR11a4QoTCdPFCzPVk4CyxR_yZQ6kO2ZyU35ynDYeOpdM4cJtWF-OyneJlUQ46A_jZFt5X7RKom3QSM1qldOmp5AUHipSmjJkl3I5zcMwJlbDfDmKoHK0i77hyAvX-ypnRzJ0yluU1zGuFWouHFqiqM8_li9vn2yh-4qbQ_2p4tUNAeeIjhs3cWSjesGDIC5MswoIdjs5KKQmpgaPsci4q9P8jDg-4KvRUz3zQfzp02sizQFLajMBjX39pgOcXcUMHcpS3AnMkLGgzk6wdTjIM-oAWMIjwiGJM13P_r_Cs57FR67ggTa5esrAd-ukixHWgep4ovaWE7yre2N1xfKESO_XspRckHrNSV9fQYq8X1EDecTpihaLXGfPkAMhz6UbmWZx1jt9U0S-sNbVYXs5DnPzIicELnPlw6DW8hyp0U4O-LnbZeNpQvR1xVgKc1_yE201l-JT28hWd8Dy5902brZy7QpTKo174qxnRN3FnfXIa30hHrBksNIkQvtTuDYr3VFVDlywJFJRz-zZm8DMu1yBux96T9ACUUXEiT4-fTXfAnntWA7W0Fa6UxTK3AVNBMD1PwM0clhN5SYED4SzXpbATCEiSrs3nIo3nb4uTR_fz7_y46ZCmnDKS_s3IkeCiItZKoLv2Esuf6QWP6xcDQJ5WCt8KHfL33SI7DkYPpikhiRKxhgch2xcikDxsq0-3nB3YtQyoWrmA85ZAhs2Z1iqcuZXNWI3CE2GrLtYK5sLn8Nbx4yQXbBacIQq9qSe70LzMjgs4Fg4dko3hBI5W-TOMMMCJ9CptVzHt_V6gu5dBgdfE-CnFhywQz2pK8lxPGM5_B6s_IKO90W8t45XXkNqBgqdbbhSGxCLpnUaLy9ifJJJUin9plAiX3U_1H2f6uvlyqN7tbQg5bLd_DYak2OtZkUO6LMOVWrvZSxEHJ1hr0h54JevCzU49H61Lj7uTfX5l_c9Zuff2djStgnukcMMx-n9orzKRwrIE2IvYnVfhil1CivNNeQlERHQK4OrmuvRSwPVqoRRTOMYWWpCZEyD_mWNQ7dbsq6KXCf5Ae1ukI5h5hVD5W31SQwMTArZJ9rkvqPveN6nzLA_Zw7tW-96HPaFC448pE-fdrNOyu28LZblDeL6SbMpCxtUHCvfl1HHuDJXlPbwUODhMM9y-IYuPOQ)

READMEに書いてあるようなYAMLファイルを、適当にコピペするなどしてリポジトリに置くと、rubocop-challengeというWorkflowを手動実行できるようになる。

![](https://lh3.googleusercontent.com/docs/ADP-6oGlis7F4ayGO3EPIDISOGDyT8FPR_YJoS76QG8qLL2TNUtWeHCQnx_OJ6pC2BIJ4UVC4Rqso3bW5_bttPckJ8zaOuvwflj5Ku0A6hhCGJPgtTPl3Zb2BdDe0fCfuEhukXzMIJ7oLEmX0YcpYXx9igjgxkYrbs3vuUs5NSdx-0eSg9hhpthP4yuTrrt1I87KAhOgZEUa3IX79NmwSOYchgiOC-msdDlrRkS9YKPghWUmkjlunsFi3M9FewIvZu5f90VHh0J7guwIdN8ztSg_gd9bX2P0k5nH89cV--KLWRWQaIlKBK9cLqKx-owjB4OcPFTD7Jwu3DZKkjpY3kmpS36fGQAu8H_plCRjYH0b8iAJdIk7LOLJ5bSVJtbrVezWJBCeWKqft1uaFAsHUW_EaGdgO5BJtWss2x79ItsR0S-6rNd9LzfNlOkZ7e3X9tQbpm9wbcUpZGGFROEO4rTB7NLjf7q2AtM3ycS9RUzGMjsj5mAoJwcJ6oKbAMq6Qm1nxvyPpTD6is_O8wgvR36BTRhdxn6qSjDTsvQqhnu2IGf5kqrfbMnTpVXBGjANs6Y_l-jHzJYuNGhMAnvy2THu-nMlvuUs1XkfcjFaFFn2nMnRvfG8ZWTnZ8pdJOjy-8fz_0IgSs-RTegc4BKIh-Yyurj5poT5LQbWah-PaktDZPW_2636Vo6QZ68qwg0bmB91B7CUHZary_1KtxAQfbdq81BsGakiDIctEZGSHyX8EMYSswzrKpvky0zwovcmVPDP_2jzN-QcAV4ge-HcbMBSgj9XJiUpU3WLkbyjNIrxjYXZJd6e5dF4edRu-R-tWX1izoBuRV0bc8O6itfo8CAVxRi7TxYpTgqo3w0VJ4xQB2lwWZrHi7tCWFDWFTjqfp54WR-AFy7Oy77wOpFcEh67YV_htPy2TJpT2HIWxiy5LgK_71-_NmJS3ftiWh8yRC8IPMYDU2YWubP5Fko7h-sMuuWqNwU-5Wfy3y4_Ddk0zQ8IcV9XMBD3hSvFus1dLQqgbdRewl4BwXT_v1ebdRDjfLMH0nicka3PJXbChM7o45kFB4lEybC6hw1ZSGJhbqeCq_MFRGzc5OzK1HhgZe3gewRlY-eMDSszCEvjb0cbaHN60W546ZfIIDx6oPKjZD3lgDTlq7vU2lGoq0G3q34njCOx9Lrf0KTg_QbfuNHVd19Md2MYrpEGvgO93yjxs0nI-GoDFE6rjBCu7QHSQyn3Mq_85p5G4ZZF9vqYe3JK9ucSGGxJ)

実行すると、Pull Requestがつくられる。デフォルトではランダムでCopが1つ選択される。実質無料ガチャみたいなものだ。今回はStyle/StringLiteralsへの違反に対応してくれたらしい。

![](https://lh3.googleusercontent.com/docs/ADP-6oGCABrKGmATM2XkmaBuhJmucrjHrkVXDPOF4083jp-F1EYHUrkyXMPckceLEa2UcyQm0TdjL1X6WuDVlmHqu0-OBDt4vO4Sf55rhgx-1e4XOqD26x0VJCPbmKytkZQx2bLmqF_QcPEg7DigHG1GvwT2Fqgv5yamme2XIRg2LUkBtypfzniG8MalS7f2FKQcZYYuT8lUbHcI0iywzIsv3Y4AgfiqC6H55J6p0_v493hnrGk-G_43lXodkC3Z5Ylo-sHB8-Sd2SHCEh8xXMlF6mRh3f_JQrQpf7yDAxyQm5j-JzKj1BUiUXjcSHnN1IDnSqaqSANEScfN2B7ZxGPJ8ZQCtAlFBgT4gO9OFnc73vAPM2poX8wVO3VizwjQn8UGfsI-F82GcB7LvaJfGmsL0sDZZuJLTTFjLdBdP9ITZs-DwfNeg90WNApWG3duFZHuusBm-SOyxcpQhhJ8lucos_FDQV9Vq6RL_YIg829Z-OBnUvc4WOcv_eX8yM8_KGdOOKmAUbX5-ilH_ITNDhXFafITse2n3CmV8gTMVoD1yVCWYLcZu5935Lph-IOJxrlxzhQW0ghuYl0RJ_kk78Krbp2ks2l-DLf7qTDzEAHvvJuL24fmO5DnnJExMax2XVcNH6nZwoj7PmR3DQQG9w4xtHwWUM_XfAuG_38JbCmMd22sJsY2OKo7jlE9qQ3MmdH37BUq_LkXd7EpBcBVUSOM2fSB9yqMMq1EGZmjv1cEWmD2IO9LrUySmGkG6YlG2w8BCqXSGbWOYn4uGBh3puqeC9SAjikgd1rqRlEDHqJDAE3o1vZHOLYg-9knkpPh2A52tV2CgKMcruVmHDlPhP9zsnMwTLeARkdxnaBVcMXQ5TvkVdj-QSW2eOVuMvEXtYNW-JMKslfA522ecgCrUZyBfEsXZ15Ry9pf0DGecIZmYt96XhVuFvQ061JkFmoe-YdJfw14DohQQd3nPSzxJTM9GXDRZ92yeEjkDxxyQB5Ix_8b1LlrJM2v21rRq7ViM3O2TdnsHACrBwk_7j8O-HoL8I6VkuqX5YgjrFZnj9eREMd731PJ6qr-5rNgWSXx96Ne2ZTi3psoNJRlL0LhhzAXnifqLw4ZaVDwYNrU8d9CfUDg8hXyvLoYBycb5G_V1uEPYQdSbhWqktBHTrWRNlj01pQI88j-9XptQjdtDT8MyjXCrN5z4kqGQS0v5biTpsohhYfJjXE9LqeVw_rDQAmnA8pjHSbDq5PtWUQTlOWIwpvrOXn9)

差分を見てみると、.rubocop\_todo.ymlや違反のあったファイルが自動修正されていることが分かる。

READMEに書いてあるように、手動実行はCLIからも行える。GitHub Actionsにはスケジュール機能もあるので、慣れてきたら定期的に実行するようにしても良いと思う。

[後編](https://r7kamura.com/articles/2022-05-15-rubocop-todo-corrector)に続く。
