---
title: このサイトの実装 2022年版
---

2022年時点でのこのサイトの実装について。

## ドメイン

Amazon Route 53でr7kamura.comドメインを管理している。

このサイトの運営で唯一維持費が掛かっているところだけど、ありがたいことに <https://github.com/sponsors/r7kamura> で支援していただいており、この維持費に充てている。2019年頃からこのドメインでやらせてもらっている。

## ホスティング

Imgurに画像を、GitHub Pagesにそれ以外をホスティングしてもらっている。

2020年から2021年にかけて、画像のホスティングをGitHub PagesからImgurに移行した。Gitで画像を扱うことで生じる問題や、EXIF情報やサイズ変更等の画像変換の手間、扱いたい画像の規模、配信効率、Web APIの使いやすさ、Imgur上でのコミュニケーションの可能性などを考慮すると、Imgurへの移行は良い選択だった。

## ビルド

<https://github.com/r7kamura/r7kamura.com> に記事が投稿されると、GitHub Actionsでファイルが生成され、GitHub Pagesで公開される仕組みになっている。

記事原稿とは別に、プログラムを管理する <https://github.com/r7kamura/r7k> というリポジトリがある。ここで管理されているプログラムを、記事のプレビューとファイル生成に利用している。

2021年にRubyからRustへ実装言語を変更したが、プログラムの動作が僅かに速くなることで、記事編集時の体験が予想外に向上した。一方で、コンパイルの遅さには少し辟易している。また、それまでは記事とプログラムとを一緒くたに含めていたリポジトリを、ビルドの効率やGitの取り回しやすさを考慮してこの機に分割した。これは非常に良かった変更で、記事側の変更履歴は扱いやすくなったし、プログラム側もよりプログラム然とした性格を持てるようになった。

## 歴史

- 2011年 r7kamura.github.io を公開
- 2013年 ブログ機能追加。技術記事を幾つか投稿
- 2019年 r7kamura.com にドメインを変更
- 2019年 他サービスから全てのテキストをインポート
- 2020年 『[このサイトの実装 2020年版](/articles/2020-09-23-this-site-setup-2020)』投稿
- 2020年 Imgurを試用開始
- 2021年 Imgurへ完全移行
- 2021年 RubyからRustへ移行
- 2022年 『[このサイトの実装 2022年版](/articles/2022-01-05-this-site-setup-2022)』投稿
