---
title: 2021年11月30日
---

## Markdownパーサー

昨日に引き続き、自作Markdownパーサーの、HTML Blockという仕様の実装を進めていた。

- <https://spec.commonmark.org/0.30/#html-blocks>

HTML Blockには7種類のパターンがあり、そのうち次の5つのパターンについてはおおよそ実装できた。残りの2パターンについては現在実装中。

1. pre要素、script要素、style要素、textarea要素
    - 例: `<pre>...</pre>`
2. HTMLコメント
    - 例: `<!-- ... -->`
3. PHPライクなタグ
    - 例: `<? ... ?>`
4. DOCTYPEライクなタグ
    - 例: `<!...>`
5. CDATA
    - 例: `<![CDATA[ ... ]]>`

開始パターンが現れたら、対応する終了パターンが出てくるまでは全ての文字列をHTML Blockの内容物として受理する、という仕様になっているようで、HTMLのタグの対応関係などをいちいち調べないので実装は楽で助かる。

## 月末締め処理

請求書送付などの、月末にやるいつもの処理を今月末も終えた。

請求書送付は、メール、SlackのDM、Bill One (請求書のオンライン受領用サービス) などを各社の要求に応じて使い分けているのだけど、Bill Oneなどのアップロードするタイプが最も体験が良い。請求書のやり取りにコミュニケーションが介在すると時間的にも心理的にもコストが掛かってしまうので、そういう無駄なコミュニケーションはなるべく省いて、必要なコミュニケーションにもっと時間を割きたい。
