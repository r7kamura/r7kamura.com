---
date: 2012-08-03T13:08:50+09:00
from: hatenablog
title: Log
---

<p>開発時のWebサーバのログ、関心事でないものが多すぎて誰もほとんど見てないと思う。何でも出すようにするのであれば後で分かりやすいように正規化されたタグ情報等の文字列を一緒に付けておいたほうが良い。DBだけ見るとか、描画しているテンプレートだけ見るとか、リクエストの値を見るとか、応答時間を見るとか、コンテキストに応じて動的にフィルタを切り替えてそれだけ簡単に見られるようにしたい。あとサーバ起動時からの統計情報も見られるようにしたい。いま見ているコードはこのURLでアクセスしたときのコードだろうな、ということを確かめるときに、warnとかのコードを挿入してそれが膨大なサーバログの中に出力されているかどうかを確かめるのは骨が折れると思う。例えばRailsであればbinding.pryを入れるとかsystem("say ヴぁー")とか入れて試しているけど、ログが見やすければそういうことをする必要も無さそう。</p><p>あまり関係無いけど、自分用のログサーバとビューアが欲しいと思う。例えばメールやReply、Fav、誰かのB!、IRC、サーバの中のwarn、カレンダーの予定とかを全て1つのサーバに送り付けて、良い感じのビューアで見られるようにしておけば、そこだけ見ていれば大体良くなる。前に<a href="https://github.com/r7kamura/azucat">azucat</a>っていう実験的なプロトタイプを作った。そのときはやりたい放題で、コマンドを定義したりシステムコマンドを入力したりできるようにしていたので、例えばビューアからgit logを読むとか、コードを編集するとか、人のIRCの発言を通知するとかやりたい放題してた。今度もっと汎用的なものをつくろうと思う。</p>

