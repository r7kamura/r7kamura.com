---
title: imgurian
---

Rustの勉強に、Imgur APIのクライアントライブラリを書いてみている。習作なので、そこまできちんと改善や保守をしていこうという気持ちは今は無く、盆栽のように可愛がっているだけの状態。ちなみに盆栽を可愛がったことはない。

- <https://github.com/r7kamura/imgurian>

Imgurは画像共有と画像投稿ができるソーシャルコミュニティサービス。2020年末頃から、このウェブサイトの画像配信にもImgurを使わせてもらっている。良いサービスだと思うけど、画像に直アクセスするときに (CDNの挙動のせいか) エラー画面が出たり出なかったりと怪しい挙動になることが多く、不安になることもある……が、応援したいサービスではある。

- <https://imgur.com/>
    - Imgurのサイト
- <https://apidocs.imgur.com/>
    - Imgur APIのドキュメント
- <https://r7kamura.com/articles/2020-11-09-imgur>
    - Imgurへの移行をはじめたときに書いた記事

前にRustで書いたのはこのサイトの実装で、これはライブラリではなくアプリケーションという性格のプログラムであったから、今度はライブラリを書いてみよう、というモチベーションである。Imgur APIを選んだのは、RESTfulなWeb APIのクライアントであれば別言語で実装したことがあるし、加えてGitHub Pagesから直接配信している既存の画像をImgurに移行したいというモチベーションもあったため。

---

個別のエンドポイントについて、それぞれ実行可能なサンプルコードをリポジトリ上に用意するようにしていたが、これってもう実行可能なバイナリCrateとして実装した方が利用者も助かって良くないか、と思ってそのようにした。Linux, Mac, Windows向けにそれぞれ実行可能なバイナリをクロスコンパイルして配布している。

```console
$ imgurian --help
imgurian 0.3.0
Imgur API client.

USAGE:
    imgurian <SUBCOMMAND>

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

SUBCOMMANDS:
    delete-image                Delete an image.
    favorite-image              Favorite an image.
    generate-access-token       Generates an access token from given refresh token.
    get-account                 Get information about an account.
    get-account-image           Get information about an image of an account.
    get-account-images-count    Get the total number of images associated with the account.
    get-image                   Get information about an image.
    help                        Prints this message or the help of the given subcommand(s)
    list-account-images         List account images.
    update-image                Update information about an image.
    upload-image                Upload a new image.
```
