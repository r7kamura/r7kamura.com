---
date: 2016-08-16T08:14:12+09:00
from: hatenablog
title: SoundCloudの曲を一緒に聴けるやつに思いのほか反響があったので改良した
---

<p><a href="https://syncbeats.herokuapp.com">https://syncbeats.herokuapp.com</a> というのを適当につくって <a href="http://r7kamura.hatenablog.com/entry/2016/08/14/185425">SoundCloudの曲を一緒に聴けるやつをつくってみた - ✘╹◡╹✘</a> という記事を投稿してみたところ、思いのほか反響があり、折角なのでもう少し改良してみることにしました。</p>

<h2>再生済みの曲も聴き直せるように</h2>

<p>初期バージョンでは、一度再生し役割を終えた曲は消えてしまうという<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BD%F4%B9%D4%CC%B5%BE%EF">諸行無常</a>な造りだったが、流石に無情すぎるということでこの仕様は廃止。一度再生した曲も後から聴き直せるようにした。同時に、大量の曲をキューに詰めて埋め込みプレイヤーの数が増えると重くなってしまうという話を承けており、再生後の曲も表示する仕様に変更したことで問題が露見し始めたため、とりあえず再生中の曲以外はプレイヤーを埋め込まないことに。</p>

<h2>過去に利用された部屋も訪れられるように</h2>

<p>前述した変更により、現在利用されていない部屋にも利用価値が生まれることになったので、過去に利用された部屋もトップページから最大100件まで遡って閲覧できるようにした。また閲覧履歴を設け、最近見た部屋にはトップページから簡単に戻れるようになった。これは多分便利。</p>

<p><img src="https://i.imgur.com/XjLw4uM.png" alt="image" /></p>

<h2>部屋に名前を付けられるように</h2>

<p>色々な部屋が見られるようになったので、部屋を作成するときに名前を付けられるようにした。こういう系の曲を流しますとか、誰が主に垂れ流してますとか、今から<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BD%AA%C0%EF">終戦</a>記念mixやりますとか書くと捗るんじゃないでしょうか。</p>

<p><img src="https://i.imgur.com/l4za6mw.png" alt="image" /></p>

<h2>曲が再生されるたびに再生数が更新されるように</h2>

<p>部屋の右上に再生数 (その部屋で曲が何回再生されたか) を表示して、曲が再生されるたびに更新されるようにした。本当は「いまXX人がこの部屋にいます」的な情報を出しても良かったんだけど、それを表示するにはまだ少し準備が整ってなかったので、とりあえず再生数を出すことにしてみた。自分が再生している分も含めて徐々に増えていくので、まあ増え方を見ていれば大体何人ぐらい一緒に聴いてるか把握できないこともない。</p>

<p><img src="https://i.imgur.com/At2gfvT.png" alt="image" /></p>

<h2>その他細かい変更</h2>

<p>ロゴ部分を若干まともにしたり、<a class="keyword" href="http://d.hatena.ne.jp/keyword/favicon">favicon</a>を用意したり、サイト構造が分かりやすいように<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A5%F3%A4%AF%A4%BA%A5%EA%A5%B9%A5%C8">パンくずリスト</a>つけたり、あとは部屋のURLを<a class="keyword" href="http://d.hatena.ne.jp/keyword/Twitter">Twitter</a>につぶやくボタンを地味に端っこのほうに追加したり、ということをやりました。現時点でも作業用BGMとして非常に重宝しているんですが、ユーザが増えると曲のレパートリーが増えてもっと嬉しいので、<a class="keyword" href="http://d.hatena.ne.jp/keyword/SoundCloud">SoundCloud</a>使える人は是非使ってみてください。</p>

<p><del><a href="https://syncbeats.herokuapp.com/">https://syncbeats.herokuapp.com/</a></del></p>

<p>利用者も減ってきたため、現在は公開を停止しています。</p>

