---
title: Imgurへの緩やかな移行
---

記事に画像を掲載するときに、[Imgur](https://imgur.com/)を利用してみることにした。

![](https://i.imgur.com/8kai7Rnh.jpg "特に脈絡の無いハンバーガー（Hungry Heaven目黒店にて）")

## 変更点

これまでは、画像ファイルをGitリポジトリに含めてGitHub Pagesに配信してもらうという素朴な方式を採用していた。これを変更して、少なくとも今後掲載する画像についてはImgurに配信してもらう方式に変えてみることにした。

オリジナルの画像をGoogle Photosで管理するという方式は変えず、ウェブサイトに掲載したい場合はImgurにアップロードして利用する。このときExif情報は勝手に取り除かれる。Imgurが用意してくれる幅1024px版の画像URLを参照し、大きなものを見たい人向けにImgur上のオリジナル画像のURLにリンクを張る。

但し、主にタッチデバイスのUser-Agentで見ようとするとこのリンクはImgurのサービス上のページにリダイレクトされるようだ。また、幅1024px版の画像URLにimg要素からではなく直接ブラウザでアクセスすると404を返す場合があるようだったので、記事本文の変換機構に少し手を入れ、リンクはオリジナル画像のURLを指すようにして解決を図った。

## 背景

このウェブサイトには基本的にiPhoneで撮影した画像が掲載されることが多い。まずiPhoneで撮影したJPEG撮って出しの画像をiOSアプリ経由でGoogle Photosに同期させ、そこで色味などを若干変更したあとPCにダウンロードし、次にPC上でexiftoolを使ってExif情報を取り除き、ImageMagickを使ってウェブサイト用に適切なサイズに変換し、これをGitリポジトリに含め、記事の原稿からそのパスを適切に参照する、ということをやっていた。

諸々の処理操作が面倒だし、画像を含めるとGitリポジトリのサイズも増えて操作にコストが面倒になるし、GitHubの容量上限も視野に入ってくるし、誤ってExif付きのものが混入したときにGitの履歴管理が面倒だし、良さげな画像管理サービスを模索してみたいし、ということで新しいものから移行してみることにした。既存の画像をどうするかについてはまだ決めておらず、しばらくImgurを利用してみてから考えようとしている。

## Imgur

Imgur自体はそこそこ昔からアカウントを持っていて、自分ではあまり活用できていないものの、RedditやSteamなどの海外文化圏、近年の5chなどではよく使われているなという印象で居た。一時期個人で開発していたWebサービスでImgurのAPIを利用させてもらったことがあり、そのときの体験がかなり良かったので、今回改めて舞い戻ってきた。

Imgurは、無料の画像管理サービスとコメント型ソーシャルコミュニティが一緒になったサービスで、寄付や資金調達、利用者による小額支援、そして広告などの収益で運営されている。画像管理をしたいという目的で初めて訪れた利用者からすると、初見ではその辺りの概念の獲得につまづきがちかもしれない。

SNS機能の方もどんな感じなのか興味があるので、記事用に画像をアップロードするついでに投稿もしてみている。「どうやって食うんだよ」「めちゃくちゃでかいナイフとフォーク使ったんじゃね？」「ハンバーガーがよ」といったコメントが即付いていて非常に優しい世界。
