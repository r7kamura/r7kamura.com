---
date: 2017-01-12T20:28:33+09:00
from: hatenablog
title: 石川県の和倉温泉に合宿に行った
---

<p>温泉地での開発合宿、通称シバ温泉ソンを敢行した。</p>

<h2>予習</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21886534/8a4e96de-d8ff-11e6-86ea-94fe60c71c3f.png" alt="image" /></p>

<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%CF%C2%C1%D2%B2%B9%C0%F4">和倉温泉</a>のある<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C7%BD%C5%D0">能登</a>半島はアニメ『<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B2%D6%BA%E9%A4%AF%A4%A4%A4%ED%A4%CF">花咲くいろは</a>』の舞台となった場所と聞いていたので、前日に<a class="keyword" href="http://d.hatena.ne.jp/keyword/TSUTAYA">TSUTAYA</a>に入会してDVDを全巻借りて観ておいた。</p>

<h2>京都駅から<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CF%C2%C1%D2%B2%B9%C0%F4%B1%D8">和倉温泉駅</a></h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21886620/fd8a8ed2-d8ff-11e6-8079-302d5fd93dcd.png" alt="image" /></p>

<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B5%A5%F3%A5%C0%A1%BC%A5%D0%A1%BC%A5%C9">サンダーバード</a>に乗って終点まで行くと<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CF%C2%C1%D2%B2%B9%C0%F4%B1%D8">和倉温泉駅</a>に着きます。最近だと新幹線で金沢まで行けるので、東京からも早い。意外と混んでいるので、デッキで立つ羽目になりたくなければ指定席を取っておいたほうが良い。ネットで<a class="keyword" href="http://d.hatena.ne.jp/keyword/J-WEST">J-WEST</a>会員になって早めに予約しておくと1000円ぐらい安くなります。</p>

<h2><a class="keyword" href="http://d.hatena.ne.jp/keyword/%CF%C2%C1%D2%B2%B9%C0%F4%B1%D8">和倉温泉駅</a>周辺</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21886709/4e74973e-d900-11e6-9c38-7efc94e6fcdd.png" alt="image" /></p>

<p>駅から温泉街までの数kmはこういう感じで、半島の海沿いにホテルが立ち並んでいる以外は、なんというかこう、土地が余っている。道の脇にいきなり70度の湯が湧き出ていたりする。</p>

<h2>鳥</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21886787/960a6164-d900-11e6-9665-0b34145d221e.png" alt="image" /></p>

<p>温泉卵を大量に抱えたわくたま君という恐ろしいキャラが居る。公園の奥に行くと海が見える足湯がある。</p>

<h2>温泉街周辺</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21886848/d39f0f48-d900-11e6-9483-5557e8859aaa.png" alt="image" /></p>

<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C9%A5%E9%A5%AF%A5%A8">ドラクエ</a>のようなスポットがあり、最寄りの店で購入した生卵を投げ入れると十数分後に温泉卵が得られるというイベントが発生する。火を使わないレシピとして <a href="http://tsukurioki.hatenablog.com/entry/2017/01/07/204237">温泉卵おき - #つくりおき</a> にまとめられているので参考にされたい。</p>

<h2>温泉</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21888300/fdaffa6c-d906-11e6-8203-de5db7834a1d.png" alt="image" /></p>

<p>海が見える露天風呂がべらぼうに良かった……。</p>

<h2>宿</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21886964/4455d74e-d901-11e6-84f0-7fde87db4da4.png" alt="image" /></p>

<p>5人で2部屋、2泊3日で朝夕付いて1人辺り17000円という民宿に泊まった。新<a class="keyword" href="http://d.hatena.ne.jp/keyword/MacBook%20Pro">MacBook Pro</a>のペタペタしたキーボードで畳で作業するとなんとなく腰が持って行かれる。</p>

<h2>湯乃鷺駅</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887460/4b02d716-d903-11e6-91a5-4d16cc336855.png" alt="image" /></p>

<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%CF%C2%C1%D2%B2%B9%C0%F4">和倉温泉</a>から<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A4%CE%A4%C8%C5%B4%C6%BB">のと鉄道</a>に乗って、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B2%D6%BA%E9%A4%AF%A4%A4%A4%ED%A4%CF">花咲くいろは</a>の舞台となった無人駅があるので降りてみたところ。</p>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887026/9b607b20-d901-11e6-9afa-4347b7fea910.png" alt="image" /></p>

<p>これは、</p>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887482/62a66d4c-d903-11e6-9fa3-079efa1e2bc9.png" alt="image" /></p>

<p>ここ。</p>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887116/f40bad08-d901-11e6-924d-e5cd578df1c9.png" alt="image" /></p>

<p>これは駅舎内にある可愛いポスター。</p>

<h2>かき小屋</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887330/d9b80c98-d902-11e6-86c2-3f1939804720.png" alt="image" /></p>

<p>次の電車が来るまで駅の外でぶらついていたところ、かき小屋があり、生牡蠣・牡蠣フライ・牡蠣飯・焼き牡蠣をやった。たまたま降りただけなのに地元の人で行列が出来るほど賑わっていたのでこれは良かった。</p>

<h2>ラッピング電車</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887523/9cf119de-d903-11e6-8211-7c083a39c089.png" alt="image" /></p>

<p>5年前の作品だけど、未だに1日数本ラッピング電車が走っていて、今回はたまたまキャラクターが車内音声を担当してくれる便に乗れた。湯乃鷺駅のときだけ車内音声のテンションが高かったりして面白い。</p>

<h2>アプリ</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21887573/cfc9a560-d903-11e6-8650-03c6a81dccb0.png" alt="image" /></p>

<p>キャラクターが最寄りの観光名所の方角を指し続けてくれる上に、そこまで辿り着くと音声で案内してくれる上に、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A4%CF%A4%A4%A4%D5%A4%EA">はいふり</a>カメラみたいな感じで写真撮影も出来るという最高のアプリがあり、その辺をぶらぶら歩くのに使ってみて便利だった。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B5%FE%C5%D4%A5%A2%A5%CB%A5%E1%A1%BC%A5%B7%A5%E7%A5%F3">京都アニメーション</a>さんに京都用につくってほしい。</p>

<h2>合宿成果</h2>

<p><img src="https://cloud.githubusercontent.com/assets/111689/21888432/9e209fb0-d907-11e6-8df6-37942888c92a.png" alt="image" /></p>

<p>友人の集いという様相の合宿で特にテーマなどは決まっていなかったので、各位思い思いの実装をした。</p>

<p>自分はまずSlack Appの仕様を調べ、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Amazon">Amazon</a> <a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a> <a class="keyword" href="http://d.hatena.ne.jp/keyword/Gateway">Gateway</a>と<a class="keyword" href="http://d.hatena.ne.jp/keyword/AWS">AWS</a> LambdaとNode.jsとTerraformを利用した、簡単な<a class="keyword" href="http://d.hatena.ne.jp/keyword/Bot">Bot</a>をつくる実験をした。これはそこそこ動くようになって、仕事でChatOps改善系のタスクに絡めて改善するつもり。WebSocketや<a class="keyword" href="http://d.hatena.ne.jp/keyword/XMPP">XMPP</a>を使うのではなくて、POSTリクエストを受け取るWebアプリケーションとしてChatter <a class="keyword" href="http://d.hatena.ne.jp/keyword/Bot">Bot</a>を実装できることと、<a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a> <a class="keyword" href="http://d.hatena.ne.jp/keyword/Gateway">Gateway</a>とLambdaの組み合わせでそこそこまともなWebアプリがつくれること、Terraformで上手く管理できること、全てのチャンネルで発言を受け取れるような<a class="keyword" href="http://d.hatena.ne.jp/keyword/Bot">Bot</a>がつくれることが分かったのが良かった。</p>

<p>次に <a href="https://amakan.net/">https://amakan.net/</a> の改善をやろうとして、amakanの亜種として<a class="keyword" href="http://d.hatena.ne.jp/keyword/Amazon">Amazon</a> プライムビデオなどの視聴履歴を管理できるamakanビデオの構想を考えた。</p>

<p>それから、amakan全体でデザインのテイストを統一するために、これまで利用していた有料の<a class="keyword" href="http://d.hatena.ne.jp/keyword/CSS">CSS</a>テーマを捨て、<a class="keyword" href="http://d.hatena.ne.jp/keyword/CSS">CSS</a>を<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D5%A5%EB%A5%B9%A5%AF%A5%E9%A5%C3%A5%C1">フルスクラッチ</a>で書き直した。合宿中は、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%DE%A5%DB">スマホ</a>とPCとで同じコンテンツを表示する方法について3日間延々と悩んでいた。PCはメインターゲットではなく、どちらかと言うと<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%DE%A5%DB">スマホ</a>向けに最適化した方がメリットが大きいだろうと考えた。こうなるとPC用に表示したときにコンテンツが少なく寂しい印象になるんだけど、amakanとしては華やかな見た目で楽しませるよりも、シンプルなインターフェースで使いやすさを追求したサービスになる方が良いだろうと考えている。フロントエンド全て書き直したので数千行ぐらいの変更で、<a class="keyword" href="http://d.hatena.ne.jp/keyword/CSS">CSS</a>は<a class="keyword" href="http://d.hatena.ne.jp/keyword/gzip">gzip</a>圧縮前で480kbから60kb程度に軽量化。</p>

<p>ちなみに2日前から新デザインに切り替わっている。いろいろと部品を共通化した恩恵で、作品を表示するどのページでも読んだ・読みたいボタンが押せるようになった。まだまだ土壌が整ったばかりという段階なので、ここから便利にしていきたい。</p>

<h2>おわりに</h2>

<p>今から<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B2%D6%BA%E9%A4%AF%A4%A4%A4%ED%A4%CF">花咲くいろは</a>を見て、春に花見も兼ねて温泉に入りに行くのがおすすめです。</p>

